# CI Environment Configuration for Infrastructure Integration Tests
# This file configures the infrastructure test environment
#
# NOTE: This is a MINIMAL test configuration for validating basic infrastructure.
# It uses minimal infrastructure components for isolated testing.

# =============================================================================
# Service Configuration
# =============================================================================
BANNOU_SERVICE_DOMAIN=ci-infrastructure-test
ASPNETCORE_ENVIRONMENT=Development
APP_LOGGING_LEVEL=Debug
BANNOU_APP_ID=bannou

# Testing Specific Configuration
SERVICES_ENABLED=false
TESTING_SERVICE_ENABLED=true

# =============================================================================
# JWT Configuration (required for authentication middleware)
# =============================================================================
# Main App JWT Configuration (required for JWT validation in Program.cs)
BANNOU_JWT_SECRET=ci-infrastructure-test-jwt-secret-key-2025
BANNOU_JWT_ISSUER=bannou-auth-ci
BANNOU_JWT_AUDIENCE=bannou-api-ci

# Auth Service Configuration (for completeness)
AUTH_JWT_SECRET=ci-infrastructure-test-jwt-secret-key-2025
AUTH_JWT_ISSUER=bannou-auth-ci
AUTH_JWT_AUDIENCE=bannou-api-ci
AUTH_JWT_EXPIRATION_MINUTES=60

# =============================================================================
# Heartbeat Configuration
# =============================================================================
# Disable heartbeat system for infrastructure tests
# This is ONLY appropriate for minimal infrastructure testing where messaging
# components are intentionally not configured. All other test environments
# (HTTP tests, Edge tests, production) should have heartbeats ENABLED.
BANNOU_HEARTBEAT_ENABLED=false

# =============================================================================
# In-Memory Infrastructure Configuration
# =============================================================================
# These settings enable local-only operation without external dependencies
# (Redis, RabbitMQ). ONLY for infrastructure testing - do NOT use in production.
STATE_USE_INMEMORY=true
MESSAGING_USE_INMEMORY=true
MESH_USE_LOCAL_ROUTING=true
