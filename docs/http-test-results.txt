ðŸ§ª Running HTTP integration tests (service-to-service via Dapr)...
Compose can now delegate builds to bake for better performance.
 To do so, set COMPOSE_BAKE=true.
#0 building with "default" instance using docker driver

#1 [bannou internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.60kB done
#1 DONE 0.0s

#2 [bannou-http-tester internal] load build definition from Dockerfile
#2 transferring dockerfile: 983B done
#2 DONE 0.0s

#3 [bannou-http-tester internal] load metadata for docker.io/library/bannou:latest
#3 DONE 0.0s

#4 [bannou-http-tester internal] load metadata for mcr.microsoft.com/dotnet/aspnet:9.0
#4 DONE 0.2s

#5 [bannou internal] load metadata for mcr.microsoft.com/dotnet/sdk:9.0
#5 DONE 0.2s

#6 [bannou-http-tester internal] load .dockerignore
#6 transferring context: 382B done
#6 DONE 0.0s

#7 [bannou internal] load .dockerignore
#7 transferring context: 382B done
#7 DONE 0.0s

#8 [bannou-http-tester runtime 2/4] WORKDIR /app
#8 CACHED

#9 [bannou-http-tester build 2/4] WORKDIR /app
#9 CACHED

#10 [bannou internal] load build context
#10 transferring context: 30.39kB 0.0s done
#10 DONE 0.1s

#11 [bannou-http-tester runtime 1/4] FROM mcr.microsoft.com/dotnet/aspnet:9.0@sha256:925a86ec775fe737f1d65371ad7b2e01e81390c3c327ce3c06866a8ce8a4e1a2
#11 CACHED

#12 [bannou-http-tester build 1/4] FROM mcr.microsoft.com/dotnet/sdk:9.0@sha256:584cdb686f8ff7d2ffd636581b9bba8c9de38df1e751e9275438cddecdfbbcd2
#12 CACHED

#13 [bannou-http-tester internal] load build context
#13 transferring context: 29.94kB 0.0s done
#13 DONE 0.1s

#14 [bannou-http-tester build 3/4] COPY . .
#14 ...

#15 [bannou-http-tester bannou-base 1/1] FROM docker.io/library/bannou:latest
#15 DONE 0.3s

#14 [bannou-http-tester build 3/4] COPY . .
#14 DONE 0.2s

#16 [bannou intermediate 2/8] COPY ./ /app/
#16 DONE 0.2s

#17 [bannou intermediate 3/8] RUN apt-get update && apt-get install -y libxml2-utils && apt-get install -y rsync
#17 0.315 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#17 0.367 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#17 0.392 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#17 0.422 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8791 kB]
#17 0.602 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [6924 B]
#17 0.619 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [288 kB]
#17 1.480 Fetched 9341 kB in 1s (7625 kB/s)
#17 1.480 Reading package lists...
#17 1.990 Reading package lists...
#17 2.422 Building dependency tree...
#17 2.544 Reading state information...
#17 2.714 The following additional packages will be installed:
#17 2.715   libxml2
#17 2.746 The following NEW packages will be installed:
#17 2.746   libxml2 libxml2-utils
#17 2.835 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
#17 2.835 Need to get 787 kB of archives.
#17 2.835 After this operation, 2096 kB of additional disk space will be used.
#17 2.835 Get:1 http://deb.debian.org/debian bookworm/main amd64 libxml2 amd64 2.9.14+dfsg-1.3~deb12u4 [687 kB]
#17 2.990 Get:2 http://deb.debian.org/debian bookworm/main amd64 libxml2-utils amd64 2.9.14+dfsg-1.3~deb12u4 [99.5 kB]
#17 3.106 debconf: delaying package configuration, since apt-utils is not installed
#17 3.141 Fetched 787 kB in 0s (3369 kB/s)
#17 3.165 Selecting previously unselected package libxml2:amd64.
#17 3.165 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 9945 files and directories currently installed.)
#17 3.174 Preparing to unpack .../libxml2_2.9.14+dfsg-1.3~deb12u4_amd64.deb ...
#17 3.181 Unpacking libxml2:amd64 (2.9.14+dfsg-1.3~deb12u4) ...
#17 3.253 Selecting previously unselected package libxml2-utils.
#17 3.254 Preparing to unpack .../libxml2-utils_2.9.14+dfsg-1.3~deb12u4_amd64.deb ...
#17 3.262 Unpacking libxml2-utils (2.9.14+dfsg-1.3~deb12u4) ...
#17 3.307 Setting up libxml2:amd64 (2.9.14+dfsg-1.3~deb12u4) ...
#17 3.318 Setting up libxml2-utils (2.9.14+dfsg-1.3~deb12u4) ...
#17 3.329 Processing triggers for libc-bin (2.36-9+deb12u13) ...
#17 3.371 Reading package lists...
#17 3.936 Building dependency tree...
#17 4.126 Reading state information...
#17 4.304 The following additional packages will be installed:
#17 4.304   libpopt0
#17 4.306 Suggested packages:
#17 4.306   openssh-client openssh-server python3 python3-braceexpand
#17 4.339 The following NEW packages will be installed:
#17 4.340   libpopt0 rsync
#17 4.423 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
#17 4.423 Need to get 462 kB of archives.
#17 4.423 After this operation, 1050 kB of additional disk space will be used.
#17 4.423 Get:1 http://deb.debian.org/debian bookworm/main amd64 libpopt0 amd64 1.19+dfsg-1 [43.3 kB]
#17 4.461 Get:2 http://deb.debian.org/debian bookworm/main amd64 rsync amd64 3.2.7-1+deb12u2 [419 kB]
#17 4.591 debconf: delaying package configuration, since apt-utils is not installed
#17 4.613 Fetched 462 kB in 0s (2993 kB/s)
#17 4.635 Selecting previously unselected package libpopt0:amd64.
#17 4.635 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 9964 files and directories currently installed.)
#17 4.641 Preparing to unpack .../libpopt0_1.19+dfsg-1_amd64.deb ...
#17 4.661 Unpacking libpopt0:amd64 (1.19+dfsg-1) ...
#17 4.762 Selecting previously unselected package rsync.
#17 4.763 Preparing to unpack .../rsync_3.2.7-1+deb12u2_amd64.deb ...
#17 4.767 Unpacking rsync (3.2.7-1+deb12u2) ...
#17 4.816 Setting up libpopt0:amd64 (1.19+dfsg-1) ...
#17 4.831 Setting up rsync (3.2.7-1+deb12u2) ...
#17 4.860 invoke-rc.d: could not determine current runlevel
#17 4.863 invoke-rc.d: policy-rc.d denied execution of start.
#17 4.932 Processing triggers for libc-bin (2.36-9+deb12u13) ...
#17 DONE 5.0s

#18 [bannou-http-tester build 4/4] RUN dotnet build http-tester --configuration Release
#18 0.823   Determining projects to restore...
#18 ...

#19 [bannou intermediate 4/8] WORKDIR /app
#19 DONE 0.1s

#20 [bannou intermediate 5/8] RUN if [ -z "" ]; then         echo "ðŸ”§ Building all available services (no BANNOU_SERVICES specified)";         bash scripts/build-service-libs.sh;     else         echo "ðŸ”§ Building specific services: ";         bash scripts/build-service-libs.sh ;     fi
#20 0.229 ðŸ”§ Building all available services (no BANNOU_SERVICES specified)
#20 0.231 ðŸ”§ Building service libraries...
#20 0.231 ðŸ“¦ Building all available services
#20 0.236 ðŸ” Discovering services...
#20 0.275 ðŸ“‹ Services to build: behavior permissions accounts orchestrator connect auth testing game-session website
#20 0.275 ðŸ”¨ Building all services efficiently...
#20 0.275 ðŸ“¦ Restoring dependencies...
#20 ...

#18 [bannou-http-tester build 4/4] RUN dotnet build http-tester --configuration Release
#18 8.707 /app/lib-orchestrator/lib-orchestrator.csproj : warning NU1902: Package 'KubernetesClient' 15.0.1 has a known moderate severity vulnerability, https://github.com/advisories/GHSA-w7r3-mgwf-4mqq [/app/http-tester/http-tester.csproj]
#18 8.939   Restored /app/lib-accounts/lib-accounts.csproj (in 6.94 sec).
#18 8.939   Restored /app/lib-testing/lib-testing.csproj (in 6.94 sec).
#18 8.941   Restored /app/http-tester/http-tester.csproj (in 6.94 sec).
#18 8.942   Restored /app/lib-website/lib-website.csproj (in 6.94 sec).
#18 8.942   Restored /app/bannou-service/bannou-service.csproj (in 6.94 sec).
#18 8.943   Restored /app/lib-behavior/lib-behavior.csproj (in 6.94 sec).
#18 8.943   Restored /app/lib-auth/lib-auth.csproj (in 6.94 sec).
#18 8.969   Restored /app/lib-orchestrator/lib-orchestrator.csproj (in 6.94 sec).
#18 8.993   Restored /app/lib-permissions/lib-permissions.csproj (in 37 ms).
#18 8.993   Restored /app/lib-game-session/lib-game-session.csproj (in 37 ms).
#18 8.997   Restored /app/lib-connect/lib-connect.csproj (in 43 ms).
#18 10.12 /app/lib-orchestrator/lib-orchestrator.csproj : warning NU1902: Package 'KubernetesClient' 15.0.1 has a known moderate severity vulnerability, https://github.com/advisories/GHSA-w7r3-mgwf-4mqq
#18 15.64 /app/bannou-service/Services/ServiceHeartbeatManager.cs(287,22): warning CS8601: Possible null reference assignment. [/app/bannou-service/bannou-service.csproj]
#18 15.64 /app/bannou-service/Services/ServiceHeartbeatManager.cs(288,24): warning CS8601: Possible null reference assignment. [/app/bannou-service/bannou-service.csproj]
#18 15.92   bannou-service -> /app/bannou-service/bin/Release/net9.0/bannou-service.dll
#18 20.00   lib-game-session -> /app/lib-game-session/bin/Release/net9.0/lib-game-session.dll
#18 20.07   lib-behavior -> /app/lib-behavior/bin/Release/net9.0/lib-behavior.dll
#18 20.32   lib-accounts -> /app/lib-accounts/bin/Release/net9.0/lib-accounts.dll
#18 20.35   lib-permissions -> /app/lib-permissions/bin/Release/net9.0/lib-permissions.dll
#18 20.42   lib-testing -> /app/lib-testing/bin/Release/net9.0/lib-testing.dll
#18 21.33 /app/lib-orchestrator/OrchestratorService.cs(442,25): warning CS8601: Possible null reference assignment. [/app/lib-orchestrator/lib-orchestrator.csproj]
#18 21.33 /app/lib-orchestrator/OrchestratorService.cs(608,25): warning CS8601: Possible null reference assignment. [/app/lib-orchestrator/lib-orchestrator.csproj]
#18 21.48   lib-orchestrator -> /app/lib-orchestrator/bin/Release/net9.0/lib-orchestrator.dll
#18 21.73   lib-website -> /app/lib-website/bin/Release/net9.0/lib-website.dll
#18 ...

#20 [bannou intermediate 5/8] RUN if [ -z "" ]; then         echo "ðŸ”§ Building all available services (no BANNOU_SERVICES specified)";         bash scripts/build-service-libs.sh;     else         echo "ðŸ”§ Building specific services: ";         bash scripts/build-service-libs.sh ;     fi
#20 17.18 /app/lib-orchestrator/lib-orchestrator.csproj : warning NU1902: Package 'KubernetesClient' 15.0.1 has a known moderate severity vulnerability, https://github.com/advisories/GHSA-w7r3-mgwf-4mqq [/app/bannou-service.sln]
#20 ...

#18 [bannou-http-tester build 4/4] RUN dotnet build http-tester --configuration Release
#18 22.53   lib-auth -> /app/lib-auth/bin/Release/net9.0/lib-auth.dll
#18 23.62 /app/lib-connect/ConnectController.cs(21,95): warning CS0809: Obsolete member 'ConnectController.ConnectWebSocket(Connection, Upgrade, string, CancellationToken)' overrides non-obsolete member 'ConnectControllerBase.ConnectWebSocket(Connection, Upgrade, string, CancellationToken)' [/app/lib-connect/lib-connect.csproj]
#18 23.62 /app/lib-connect/ConnectController.cs(27,95): warning CS0809: Obsolete member 'ConnectController.ConnectWebSocketPost(Connection2, Upgrade2, string, ConnectRequest?, CancellationToken)' overrides non-obsolete member 'ConnectControllerBase.ConnectWebSocketPost(Connection2, Upgrade2, string, ConnectRequest?, CancellationToken)' [/app/lib-connect/lib-connect.csproj]
#18 23.62 /app/lib-connect/Protocol/GuidGenerator.cs(105,16): warning CS0675: Bitwise-or operator used on a sign-extended operand; consider casting to a smaller unsigned type first [/app/lib-connect/lib-connect.csproj]
#18 23.62 /app/lib-connect/ConnectService.cs(502,23): warning CS0612: 'RedisSessionManager.PublishSessionEventAsync(string, string, object?)' is obsolete [/app/lib-connect/lib-connect.csproj]
#18 23.62 /app/lib-connect/ConnectService.cs(1304,31): warning CS8601: Possible null reference assignment. [/app/lib-connect/lib-connect.csproj]
#18 23.70   lib-connect -> /app/lib-connect/bin/Release/net9.0/lib-connect.dll
#18 24.32   http-tester -> /app/http-tester/bin/Release/net9.0/http-tester.dll
#18 24.35 
#18 24.35 Build succeeded.
#18 24.35 
#18 24.35 /app/lib-orchestrator/lib-orchestrator.csproj : warning NU1902: Package 'KubernetesClient' 15.0.1 has a known moderate severity vulnerability, https://github.com/advisories/GHSA-w7r3-mgwf-4mqq [/app/http-tester/http-tester.csproj]
#18 24.35 /app/lib-orchestrator/lib-orchestrator.csproj : warning NU1902: Package 'KubernetesClient' 15.0.1 has a known moderate severity vulnerability, https://github.com/advisories/GHSA-w7r3-mgwf-4mqq
#18 24.35 /app/bannou-service/Services/ServiceHeartbeatManager.cs(287,22): warning CS8601: Possible null reference assignment. [/app/bannou-service/bannou-service.csproj]
#18 24.35 /app/bannou-service/Services/ServiceHeartbeatManager.cs(288,24): warning CS8601: Possible null reference assignment. [/app/bannou-service/bannou-service.csproj]
#18 24.35 /app/lib-orchestrator/OrchestratorService.cs(442,25): warning CS8601: Possible null reference assignment. [/app/lib-orchestrator/lib-orchestrator.csproj]
#18 24.35 /app/lib-orchestrator/OrchestratorService.cs(608,25): warning CS8601: Possible null reference assignment. [/app/lib-orchestrator/lib-orchestrator.csproj]
#18 24.35 /app/lib-connect/ConnectController.cs(21,95): warning CS0809: Obsolete member 'ConnectController.ConnectWebSocket(Connection, Upgrade, string, CancellationToken)' overrides non-obsolete member 'ConnectControllerBase.ConnectWebSocket(Connection, Upgrade, string, CancellationToken)' [/app/lib-connect/lib-connect.csproj]
#18 24.35 /app/lib-connect/ConnectController.cs(27,95): warning CS0809: Obsolete member 'ConnectController.ConnectWebSocketPost(Connection2, Upgrade2, string, ConnectRequest?, CancellationToken)' overrides non-obsolete member 'ConnectControllerBase.ConnectWebSocketPost(Connection2, Upgrade2, string, ConnectRequest?, CancellationToken)' [/app/lib-connect/lib-connect.csproj]
#18 24.35 /app/lib-connect/Protocol/GuidGenerator.cs(105,16): warning CS0675: Bitwise-or operator used on a sign-extended operand; consider casting to a smaller unsigned type first [/app/lib-connect/lib-connect.csproj]
#18 24.35 /app/lib-connect/ConnectService.cs(502,23): warning CS0612: 'RedisSessionManager.PublishSessionEventAsync(string, string, object?)' is obsolete [/app/lib-connect/lib-connect.csproj]
#18 24.35 /app/lib-connect/ConnectService.cs(1304,31): warning CS8601: Possible null reference assignment. [/app/lib-connect/lib-connect.csproj]
#18 24.35     11 Warning(s)
#18 24.35     0 Error(s)
#18 24.35 
#18 24.35 Time Elapsed 00:00:23.86
#18 DONE 24.8s

#21 [bannou-http-tester runtime 3/4] COPY --from=build /app/http-tester/bin/Release/net9.0/ .
#21 DONE 0.1s

#20 [bannou intermediate 5/8] RUN if [ -z "" ]; then         echo "ðŸ”§ Building all available services (no BANNOU_SERVICES specified)";         bash scripts/build-service-libs.sh;     else         echo "ðŸ”§ Building specific services: ";         bash scripts/build-service-libs.sh ;     fi
#20 ...

#22 [bannou-http-tester runtime 4/4] COPY --from=bannou-base /app/plugins/ ./plugins/
#22 DONE 0.1s

#23 [bannou-http-tester] exporting to image
#23 exporting layers 0.1s done
#23 writing image sha256:e87abf383b779dfbcda8a14c87e73a09ffab3b28e4133fd46aabf4f538af498e done
#23 naming to docker.io/library/bannou-test-http-bannou-http-tester done
#23 DONE 0.1s

#24 [bannou-http-tester] resolving provenance for metadata file
#24 DONE 0.0s

#20 [bannou intermediate 5/8] RUN if [ -z "" ]; then         echo "ðŸ”§ Building all available services (no BANNOU_SERVICES specified)";         bash scripts/build-service-libs.sh;     else         echo "ðŸ”§ Building specific services: ";         bash scripts/build-service-libs.sh ;     fi
#20 ...

#25 [bannou-http-tester-dapr internal] load build definition from Dockerfile.dapr-wait
#25 transferring dockerfile: 668B done
#25 DONE 0.0s

#26 [bannou-http-tester-dapr internal] load metadata for docker.io/daprio/daprd:edge
#26 DONE 0.0s

#27 [bannou-http-tester-dapr auth] library/alpine:pull token for registry-1.docker.io
#27 DONE 0.0s

#28 [bannou-http-tester-dapr internal] load metadata for docker.io/library/alpine:3.19
#28 DONE 0.4s

#20 [bannou intermediate 5/8] RUN if [ -z "" ]; then         echo "ðŸ”§ Building all available services (no BANNOU_SERVICES specified)";         bash scripts/build-service-libs.sh;     else         echo "ðŸ”§ Building specific services: ";         bash scripts/build-service-libs.sh ;     fi
#20 ...

#29 [bannou-http-tester-dapr internal] load .dockerignore
#29 transferring context: 2B done
#29 DONE 0.0s

#30 [bannou-http-tester-dapr stage-1 1/5] FROM docker.io/library/alpine:3.19@sha256:6baf43584bcb78f2e5847d1de515f23499913ac9f12bdf834811a3145eb11ca1
#30 CACHED

#31 [bannou-http-tester-dapr internal] load build context
#31 transferring context: 42B done
#31 DONE 0.1s

#32 [bannou-http-tester-dapr dapr 1/1] FROM docker.io/daprio/daprd:edge
#32 DONE 0.1s

#20 [bannou intermediate 5/8] RUN if [ -z "" ]; then         echo "ðŸ”§ Building all available services (no BANNOU_SERVICES specified)";         bash scripts/build-service-libs.sh;     else         echo "ðŸ”§ Building specific services: ";         bash scripts/build-service-libs.sh ;     fi
#20 20.76 ðŸ”¨ Publishing lib-behavior...
#20 ...

#33 [bannou-http-tester-dapr stage-1 2/5] RUN apk add --no-cache netcat-openbsd
#33 0.296 fetch https://dl-cdn.alpinelinux.org/alpine/v3.19/main/x86_64/APKINDEX.tar.gz
#33 0.605 fetch https://dl-cdn.alpinelinux.org/alpine/v3.19/community/x86_64/APKINDEX.tar.gz
#33 0.958 (1/3) Installing libmd (1.1.0-r0)
#33 0.977 (2/3) Installing libbsd (0.11.7-r3)
#33 1.007 (3/3) Installing netcat-openbsd (1.226-r0)
#33 1.031 Executing busybox-1.36.1-r20.trigger
#33 1.037 OK: 8 MiB in 18 packages
#33 DONE 1.2s

#34 [bannou-http-tester-dapr stage-1 3/5] COPY --from=dapr /daprd /daprd
#34 DONE 1.0s

#20 [bannou intermediate 5/8] RUN if [ -z "" ]; then         echo "ðŸ”§ Building all available services (no BANNOU_SERVICES specified)";         bash scripts/build-service-libs.sh;     else         echo "ðŸ”§ Building specific services: ";         bash scripts/build-service-libs.sh ;     fi
#20 ...

#35 [bannou-http-tester-dapr stage-1 4/5] COPY wait-for-rabbitmq.sh /wait-for-rabbitmq.sh
#35 DONE 0.0s

#36 [bannou-http-tester-dapr stage-1 5/5] RUN chmod +x /wait-for-rabbitmq.sh
#36 DONE 0.2s

#20 [bannou intermediate 5/8] RUN if [ -z "" ]; then         echo "ðŸ”§ Building all available services (no BANNOU_SERVICES specified)";         bash scripts/build-service-libs.sh;     else         echo "ðŸ”§ Building specific services: ";         bash scripts/build-service-libs.sh ;     fi
#20 ...

#37 [bannou-http-tester-dapr] exporting to image
#37 exporting layers 0.7s done
#37 writing image sha256:7d4a5df77d39c3b9896e17b23d2fd8ff4a376b56fecd0b9dfa82a0be58c9b38e done
#37 naming to docker.io/library/bannou-test-http-bannou-http-tester-dapr done
#37 DONE 0.7s

#38 [bannou-http-tester-dapr] resolving provenance for metadata file
#38 DONE 0.0s

#20 [bannou intermediate 5/8] RUN if [ -z "" ]; then         echo "ðŸ”§ Building all available services (no BANNOU_SERVICES specified)";         bash scripts/build-service-libs.sh;     else         echo "ðŸ”§ Building specific services: ";         bash scripts/build-service-libs.sh ;     fi
#20 25.29 /app/bannou-service/Services/ServiceHeartbeatManager.cs(287,22): warning CS8601: Possible null reference assignment. [/app/bannou-service/bannou-service.csproj]
#20 25.29 /app/bannou-service/Services/ServiceHeartbeatManager.cs(288,24): warning CS8601: Possible null reference assignment. [/app/bannou-service/bannou-service.csproj]
#20 26.23 ðŸ”¨ Publishing lib-permissions...
#20 28.00 ðŸ”¨ Publishing lib-accounts...
#20 29.89 ðŸ”¨ Publishing lib-orchestrator...
#20 30.45 /app/lib-orchestrator/lib-orchestrator.csproj : warning NU1902: Package 'KubernetesClient' 15.0.1 has a known moderate severity vulnerability, https://github.com/advisories/GHSA-w7r3-mgwf-4mqq
#20 32.12 /app/lib-orchestrator/OrchestratorService.cs(442,25): warning CS8601: Possible null reference assignment. [/app/lib-orchestrator/lib-orchestrator.csproj]
#20 32.12 /app/lib-orchestrator/OrchestratorService.cs(608,25): warning CS8601: Possible null reference assignment. [/app/lib-orchestrator/lib-orchestrator.csproj]
#20 32.28 ðŸ”¨ Publishing lib-connect...
#20 34.86 /app/lib-connect/ConnectController.cs(21,95): warning CS0809: Obsolete member 'ConnectController.ConnectWebSocket(Connection, Upgrade, string, CancellationToken)' overrides non-obsolete member 'ConnectControllerBase.ConnectWebSocket(Connection, Upgrade, string, CancellationToken)' [/app/lib-connect/lib-connect.csproj]
#20 34.86 /app/lib-connect/ConnectController.cs(27,95): warning CS0809: Obsolete member 'ConnectController.ConnectWebSocketPost(Connection2, Upgrade2, string, ConnectRequest?, CancellationToken)' overrides non-obsolete member 'ConnectControllerBase.ConnectWebSocketPost(Connection2, Upgrade2, string, ConnectRequest?, CancellationToken)' [/app/lib-connect/lib-connect.csproj]
#20 34.86 /app/lib-connect/Protocol/GuidGenerator.cs(105,16): warning CS0675: Bitwise-or operator used on a sign-extended operand; consider casting to a smaller unsigned type first [/app/lib-connect/lib-connect.csproj]
#20 34.86 /app/lib-connect/ConnectService.cs(502,23): warning CS0612: 'RedisSessionManager.PublishSessionEventAsync(string, string, object?)' is obsolete [/app/lib-connect/lib-connect.csproj]
#20 34.86 /app/lib-connect/ConnectService.cs(1304,31): warning CS8601: Possible null reference assignment. [/app/lib-connect/lib-connect.csproj]
#20 35.04 ðŸ”¨ Publishing lib-auth...
#20 36.43 ðŸ”¨ Publishing lib-testing...
#20 37.89 ðŸ”¨ Publishing lib-game-session...
#20 39.36 ðŸ”¨ Publishing lib-website...
#20 42.06 ðŸ” Verifying DLLs were published...
#20 42.14 âœ… Service 'behavior' DLL copied -> plugins/behavior
#20 42.21 âœ… Service 'permissions' DLL copied -> plugins/permissions
#20 42.28 âœ… Service 'accounts' DLL copied -> plugins/accounts
#20 42.36 âœ… Service 'orchestrator' DLL copied -> plugins/orchestrator
#20 42.44 âœ… Service 'connect' DLL copied -> plugins/connect
#20 42.51 âœ… Service 'auth' DLL copied -> plugins/auth
#20 42.59 âœ… Service 'testing' DLL copied -> plugins/testing
#20 42.66 âœ… Service 'game-session' DLL copied -> plugins/game-session
#20 42.73 âœ… Service 'website' DLL copied -> plugins/website
#20 42.73 ðŸ” Scanning for duplicate DLLs to deduplicate...
#20 42.87 ðŸ”’ Preserving plugin DLL in service directory: lib-accounts.dll
#20 43.01 ðŸ”’ Preserving plugin DLL in service directory: lib-accounts.dll
#20 43.01 ðŸ”’ Preserving plugin DLL in service directory: lib-auth.dll
#20 43.15 ðŸ”’ Preserving plugin DLL in service directory: lib-behavior.dll
#20 43.30 ðŸ”’ Preserving plugin DLL in service directory: lib-accounts.dll
#20 43.30 ðŸ”’ Preserving plugin DLL in service directory: lib-auth.dll
#20 43.30 ðŸ”’ Preserving plugin DLL in service directory: lib-connect.dll
#20 43.30 ðŸ”’ Preserving plugin DLL in service directory: lib-permissions.dll
#20 43.45 ðŸ”’ Preserving plugin DLL in service directory: lib-game-session.dll
#20 43.61 ðŸ”’ Preserving plugin DLL in service directory: lib-orchestrator.dll
#20 43.76 ðŸ”’ Preserving plugin DLL in service directory: lib-permissions.dll
#20 43.91 ðŸ”’ Preserving plugin DLL in service directory: lib-testing.dll
#20 44.05 ðŸ”’ Preserving plugin DLL in service directory: lib-website.dll
#20 44.05 ðŸ“¦ Found 9 copies of Microsoft.Extensions.Primitives.dll (45368 bytes each)
#20 44.06    Moved to common/, removed 8 duplicates, saved 362944 bytes
#20 44.06 ðŸ“¦ Found 9 copies of Serilog.Settings.Configuration.dll (70144 bytes each)
#20 44.07    Moved to common/, removed 8 duplicates, saved 561152 bytes
#20 44.07 ðŸ“¦ Found 9 copies of NSwag.Annotations.dll (11776 bytes each)
#20 44.08    Moved to common/, removed 8 duplicates, saved 94208 bytes
#20 44.08 ðŸ“¦ Found 9 copies of NJsonSchema.Annotations.dll (19456 bytes each)
#20 44.09    Moved to common/, removed 8 duplicates, saved 155648 bytes
#20 44.09 ðŸ“¦ Found 9 copies of Microsoft.IdentityModel.JsonWebTokens.dll (161824 bytes each)
#20 44.10    Moved to common/, removed 8 duplicates, saved 1294592 bytes
#20 44.10 ðŸ“¦ Found 9 copies of DotNetEnv.dll (37888 bytes each)
#20 44.11    Moved to common/, removed 8 duplicates, saved 303104 bytes
#20 44.11 ðŸ“¦ Found 9 copies of NJsonSchema.dll (229888 bytes each)
#20 44.12    Moved to common/, removed 8 duplicates, saved 1839104 bytes
#20 44.12 ðŸ“¦ Found 9 copies of Microsoft.Extensions.Configuration.dll (45368 bytes each)
#20 44.13    Moved to common/, removed 8 duplicates, saved 362944 bytes
#20 44.13 ðŸ“¦ Found 9 copies of Serilog.Extensions.Hosting.dll (35840 bytes each)
#20 44.14    Moved to common/, removed 8 duplicates, saved 286720 bytes
#20 44.14 ðŸ“¦ Found 9 copies of NJsonSchema.Yaml.dll (22528 bytes each)
#20 44.15    Moved to common/, removed 8 duplicates, saved 180224 bytes
#20 44.15 ðŸ“¦ Found 9 copies of Microsoft.Extensions.FileProviders.Abstractions.dll (23856 bytes each)
#20 44.16    Moved to common/, removed 8 duplicates, saved 190848 bytes
#20 44.16 ðŸ“¦ Found 9 copies of Microsoft.IdentityModel.Tokens.dll (350240 bytes each)
#20 44.17    Moved to common/, removed 8 duplicates, saved 2801920 bytes
#20 44.17 ðŸ“¦ Found 9 copies of Serilog.Sinks.File.dll (30720 bytes each)
#20 44.18    Moved to common/, removed 8 duplicates, saved 245760 bytes
#20 44.18 ðŸ“¦ Found 9 copies of Dapr.Protos.dll (450560 bytes each)
#20 44.19    Moved to common/, removed 8 duplicates, saved 3604480 bytes
#20 44.19 ðŸ“¦ Found 9 copies of Google.Protobuf.dll (483944 bytes each)
#20 44.20    Moved to common/, removed 8 duplicates, saved 3871552 bytes
#20 44.20 ðŸ“¦ Found 9 copies of Grpc.Core.Api.dll (70248 bytes each)
#20 44.21    Moved to common/, removed 8 duplicates, saved 561984 bytes
#20 44.21 ðŸ“¦ Found 9 copies of Dapr.Client.dll (128512 bytes each)
#20 44.22    Moved to common/, removed 8 duplicates, saved 1028096 bytes
#20 44.22 ðŸ“¦ Found 9 copies of Dapr.Common.dll (55808 bytes each)
#20 44.23    Moved to common/, removed 8 duplicates, saved 446464 bytes
#20 44.23 ðŸ“¦ Found 9 copies of NSwag.Generation.AspNetCore.dll (51200 bytes each)
#20 44.24    Moved to common/, removed 8 duplicates, saved 409600 bytes
#20 44.24 ðŸ“¦ Found 9 copies of NSwag.Core.dll (93184 bytes each)
#20 44.25    Moved to common/, removed 8 duplicates, saved 745472 bytes
#20 44.25 ðŸ“¦ Found 9 copies of Microsoft.AspNetCore.JsonPatch.dll (56072 bytes each)
#20 44.26    Moved to common/, removed 8 duplicates, saved 448576 bytes
#20 44.26 ðŸ“¦ Found 9 copies of Microsoft.Extensions.DependencyModel.dll (85272 bytes each)
#20 44.27    Moved to common/, removed 8 duplicates, saved 682176 bytes
#20 44.27 ðŸ“¦ Found 9 copies of Microsoft.Extensions.Configuration.Abstractions.dll (29480 bytes each)
#20 44.28    Moved to common/, removed 8 duplicates, saved 235840 bytes
#20 44.28 ðŸ“¦ Found 2 copies of YamlDotNet.dll (293376 bytes each)
#20 44.28    Moved to common/, removed 1 duplicates, saved 293376 bytes
#20 44.29 ðŸ“¦ Found 9 copies of Grpc.Net.Client.dll (301160 bytes each)
#20 44.29    Moved to common/, removed 8 duplicates, saved 2409280 bytes
#20 44.30 ðŸ“¦ Found 9 copies of Google.Api.CommonProtos.dll (306688 bytes each)
#20 44.30    Moved to common/, removed 8 duplicates, saved 2453504 bytes
#20 44.31 ðŸ“¦ Found 9 copies of Microsoft.IdentityModel.Protocols.OpenIdConnect.dll (137144 bytes each)
#20 44.31    Moved to common/, removed 8 duplicates, saved 1097152 bytes
#20 44.32 ðŸ“¦ Found 9 copies of Dapr.AspNetCore.dll (56832 bytes each)
#20 44.32    Moved to common/, removed 8 duplicates, saved 454656 bytes
#20 44.33 ðŸ“¦ Found 7 copies of YamlDotNet.dll (292352 bytes each)
#20 44.33    Moved to common/, removed 6 duplicates, saved 1754112 bytes
#20 44.34 ðŸ“¦ Found 9 copies of Microsoft.Extensions.Configuration.Json.dll (28472 bytes each)
#20 44.34    Moved to common/, removed 8 duplicates, saved 227776 bytes
#20 44.35 ðŸ“¦ Found 9 copies of Serilog.Sinks.Debug.dll (7168 bytes each)
#20 44.35    Moved to common/, removed 8 duplicates, saved 57344 bytes
#20 44.36 ðŸ“¦ Found 9 copies of Serilog.AspNetCore.dll (17920 bytes each)
#20 44.36    Moved to common/, removed 8 duplicates, saved 143360 bytes
#20 44.37 ðŸ“¦ Found 9 copies of Microsoft.IdentityModel.Protocols.dll (40880 bytes each)
#20 44.37    Moved to common/, removed 8 duplicates, saved 327040 bytes
#20 44.38 ðŸ“¦ Found 9 copies of bannou-service.dll (179200 bytes each)
#20 44.38    Moved to common/, removed 8 duplicates, saved 1433600 bytes
#20 44.39 ðŸ“¦ Found 9 copies of Microsoft.AspNetCore.Mvc.NewtonsoftJson.dll (70456 bytes each)
#20 44.39    Moved to common/, removed 8 duplicates, saved 563648 bytes
#20 44.40 ðŸ“¦ Found 9 copies of Sprache.dll (61952 bytes each)
#20 44.40    Moved to common/, removed 8 duplicates, saved 495616 bytes
#20 44.41 ðŸ“¦ Found 9 copies of Serilog.Sinks.Console.dll (38400 bytes each)
#20 44.41    Moved to common/, removed 8 duplicates, saved 307200 bytes
#20 44.42 ðŸ“¦ Found 9 copies of Microsoft.Extensions.Configuration.CommandLine.dll (26424 bytes each)
#20 44.42    Moved to common/, removed 8 duplicates, saved 211392 bytes
#20 44.43 ðŸ“¦ Found 9 copies of NJsonSchema.NewtonsoftJson.dll (37376 bytes each)
#20 44.43    Moved to common/, removed 8 duplicates, saved 299008 bytes
#20 44.44 ðŸ“¦ Found 9 copies of NSwag.Core.Yaml.dll (11264 bytes each)
#20 44.44    Moved to common/, removed 8 duplicates, saved 90112 bytes
#20 44.45 ðŸ“¦ Found 9 copies of Serilog.Extensions.Logging.dll (27648 bytes each)
#20 44.45    Moved to common/, removed 8 duplicates, saved 221184 bytes
#20 44.46 ðŸ“¦ Found 9 copies of NSwag.AspNetCore.dll (2234880 bytes each)
#20 44.47    Moved to common/, removed 8 duplicates, saved 17879040 bytes
#20 44.47 ðŸ“¦ Found 9 copies of Namotion.Reflection.dll (70656 bytes each)
#20 44.48    Moved to common/, removed 8 duplicates, saved 565248 bytes
#20 44.48 ðŸ“¦ Found 9 copies of Serilog.dll (161280 bytes each)
#20 44.49    Moved to common/, removed 8 duplicates, saved 1290240 bytes
#20 44.49 ðŸ“¦ Found 9 copies of Newtonsoft.Json.Bson.dll (101592 bytes each)
#20 44.50    Moved to common/, removed 8 duplicates, saved 812736 bytes
#20 44.50 ðŸ“¦ Found 9 copies of Microsoft.Extensions.FileSystemGlobbing.dll (46888 bytes each)
#20 44.51    Moved to common/, removed 8 duplicates, saved 375104 bytes
#20 44.51 ðŸ“¦ Found 2 copies of Pipelines.Sockets.Unofficial.dll (167424 bytes each)
#20 44.51    Moved to common/, removed 1 duplicates, saved 167424 bytes
#20 44.51 ðŸ“¦ Found 9 copies of Dapr.Extensions.Configuration.dll (22016 bytes each)
#20 44.52    Moved to common/, removed 8 duplicates, saved 176128 bytes
#20 44.52 ðŸ“¦ Found 9 copies of Microsoft.Extensions.Configuration.EnvironmentVariables.dll (21288 bytes each)
#20 44.53    Moved to common/, removed 8 duplicates, saved 170304 bytes
#20 44.53 ðŸ“¦ Found 9 copies of Microsoft.Extensions.Configuration.Binder.dll (44832 bytes each)
#20 44.54    Moved to common/, removed 8 duplicates, saved 358656 bytes
#20 44.54 ðŸ“¦ Found 9 copies of Serilog.Formatting.Compact.dll (9728 bytes each)
#20 44.55    Moved to common/, removed 8 duplicates, saved 77824 bytes
#20 44.55 ðŸ“¦ Found 9 copies of Microsoft.IdentityModel.Abstractions.dll (19488 bytes each)
#20 44.56    Moved to common/, removed 8 duplicates, saved 155904 bytes
#20 44.56 ðŸ“¦ Found 2 copies of BCrypt.Net-Next.dll (23040 bytes each)
#20 44.57    Moved to common/, removed 1 duplicates, saved 23040 bytes
#20 44.57 ðŸ“¦ Found 9 copies of Microsoft.Bcl.TimeProvider.dll (17696 bytes each)
#20 44.58    Moved to common/, removed 8 duplicates, saved 141568 bytes
#20 44.58 ðŸ“¦ Found 9 copies of System.IdentityModel.Tokens.Jwt.dll (90032 bytes each)
#20 44.59    Moved to common/, removed 8 duplicates, saved 720256 bytes
#20 44.59 ðŸ“¦ Found 9 copies of NSwag.Generation.dll (54272 bytes each)
#20 44.60    Moved to common/, removed 8 duplicates, saved 434176 bytes
#20 44.60 ðŸ“¦ Found 9 copies of Newtonsoft.Json.dll (712464 bytes each)
#20 44.61    Moved to common/, removed 8 duplicates, saved 5699712 bytes
#20 44.61 ðŸ“¦ Found 9 copies of Microsoft.Extensions.FileProviders.Physical.dll (46376 bytes each)
#20 44.62    Moved to common/, removed 8 duplicates, saved 371008 bytes
#20 44.62 ðŸ“¦ Found 9 copies of Microsoft.Extensions.Configuration.FileExtensions.dll (29488 bytes each)
#20 44.63    Moved to common/, removed 8 duplicates, saved 235904 bytes
#20 44.63 ðŸ“¦ Found 9 copies of Grpc.Net.Common.dll (22120 bytes each)
#20 44.64    Moved to common/, removed 8 duplicates, saved 176960 bytes
#20 44.64 ðŸ“¦ Found 9 copies of Microsoft.AspNetCore.Authentication.JwtBearer.dll (52008 bytes each)
#20 44.65    Moved to common/, removed 8 duplicates, saved 416064 bytes
#20 44.65 ðŸ“¦ Found 9 copies of Microsoft.IdentityModel.Logging.dll (36896 bytes each)
#20 44.66    Moved to common/, removed 8 duplicates, saved 295168 bytes
#20 44.66 âœ… Deduplicated 535 DLL files, saved approximately 61MB
#20 44.66 ðŸ“ Common DLLs moved to: plugins/common
#20 44.66 â„¹ï¸  Assembly resolution in Program.cs will check common/ directory for shared dependencies
#20 44.66 
#20 44.66 ðŸ“‹ Build Summary:
#20 44.66 âœ… Services built: behavior permissions accounts orchestrator connect auth testing game-session website
#20 44.66 ðŸ“„ Plugin manifest created: plugins/PLUGIN_MANIFEST.txt
#20 44.66 ðŸ Service library build complete
#20 DONE 44.7s

#39 [bannou intermediate 6/8] RUN dotnet dev-certs https
#39 0.609 The HTTPS developer certificate was generated successfully.
#39 DONE 0.6s

#40 [bannou intermediate 7/8] RUN dotnet publish -o /app/bannou-service/publish -c Release /app/bannou-service/
#40 0.819   Determining projects to restore...
#40 1.190   All projects are up-to-date for restore.
#40 1.654   bannou-service -> /app/bannou-service/bin/Release/net9.0/bannou-service.dll
#40 1.805   bannou-service -> /app/bannou-service/publish/
#40 DONE 1.9s

#41 [bannou stage-1 2/8] COPY --from=intermediate /app/bannou-service/publish /app
#41 DONE 0.1s

#42 [bannou stage-1 3/8] COPY --from=intermediate /app/plugins /app/plugins
#42 DONE 0.2s

#43 [bannou stage-1 4/8] COPY --from=intermediate /app/plugins/PLUGIN_MANIFEST.txt /PLUGIN_MANIFEST.txt
#43 DONE 0.1s

#44 [bannou stage-1 5/8] COPY --from=intermediate /root/.dotnet/corefx/cryptography/x509stores/my/* /root/.dotnet/corefx/cryptography/x509stores/my/
#44 DONE 0.1s

#45 [bannou stage-1 6/8] COPY --from=intermediate /root/.dotnet/corefx/cryptography/x509stores/my/* /certificates/
#45 DONE 0.1s

#46 [bannou stage-1 7/8] WORKDIR /app
#46 DONE 0.1s

#47 [bannou stage-1 8/8] RUN apt-get update && apt-get install -y curl
#47 0.300 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#47 0.359 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#47 0.383 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#47 0.405 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8791 kB]
#47 0.569 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [6924 B]
#47 0.582 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [288 kB]
#47 1.331 Fetched 9341 kB in 1s (8515 kB/s)
#47 1.331 Reading package lists...
#47 1.776 Reading package lists...
#47 2.200 Building dependency tree...
#47 2.315 Reading state information...
#47 2.438 The following additional packages will be installed:
#47 2.439   krb5-locales libbrotli1 libcurl4 libgssapi-krb5-2 libk5crypto3 libkeyutils1
#47 2.439   libkrb5-3 libkrb5support0 libldap-2.5-0 libldap-common libnghttp2-14 libpsl5
#47 2.439   librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db libssh2-1
#47 2.439   publicsuffix
#47 2.440 Suggested packages:
#47 2.440   krb5-doc krb5-user libsasl2-modules-gssapi-mit
#47 2.440   | libsasl2-modules-gssapi-heimdal libsasl2-modules-ldap libsasl2-modules-otp
#47 2.440   libsasl2-modules-sql
#47 2.555 The following NEW packages will be installed:
#47 2.555   curl krb5-locales libbrotli1 libcurl4 libgssapi-krb5-2 libk5crypto3
#47 2.555   libkeyutils1 libkrb5-3 libkrb5support0 libldap-2.5-0 libldap-common
#47 2.555   libnghttp2-14 libpsl5 librtmp1 libsasl2-2 libsasl2-modules
#47 2.556   libsasl2-modules-db libssh2-1 publicsuffix
#47 2.629 0 upgraded, 19 newly installed, 0 to remove and 0 not upgraded.
#47 2.629 Need to get 2493 kB of archives.
#47 2.629 After this operation, 6813 kB of additional disk space will be used.
#47 2.629 Get:1 http://deb.debian.org/debian bookworm/main amd64 krb5-locales all 1.20.1-2+deb12u4 [63.4 kB]
#47 2.671 Get:2 http://deb.debian.org/debian bookworm/main amd64 libbrotli1 amd64 1.0.9-2+b6 [275 kB]
#47 2.698 Get:3 http://deb.debian.org/debian bookworm/main amd64 libkrb5support0 amd64 1.20.1-2+deb12u4 [33.2 kB]
#47 2.699 Get:4 http://deb.debian.org/debian bookworm/main amd64 libk5crypto3 amd64 1.20.1-2+deb12u4 [79.8 kB]
#47 2.706 Get:5 http://deb.debian.org/debian bookworm/main amd64 libkeyutils1 amd64 1.6.3-2 [8808 B]
#47 2.729 Get:6 http://deb.debian.org/debian bookworm/main amd64 libkrb5-3 amd64 1.20.1-2+deb12u4 [334 kB]
#47 2.733 Get:7 http://deb.debian.org/debian bookworm/main amd64 libgssapi-krb5-2 amd64 1.20.1-2+deb12u4 [135 kB]
#47 2.739 Get:8 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules-db amd64 2.1.28+dfsg-10 [20.3 kB]
#47 2.739 Get:9 http://deb.debian.org/debian bookworm/main amd64 libsasl2-2 amd64 2.1.28+dfsg-10 [59.7 kB]
#47 2.758 Get:10 http://deb.debian.org/debian bookworm/main amd64 libldap-2.5-0 amd64 2.5.13+dfsg-5 [183 kB]
#47 2.760 Get:11 http://deb.debian.org/debian bookworm/main amd64 libnghttp2-14 amd64 1.52.0-1+deb12u2 [73.0 kB]
#47 2.760 Get:12 http://deb.debian.org/debian bookworm/main amd64 libpsl5 amd64 0.21.2-1 [58.7 kB]
#47 2.761 Get:13 http://deb.debian.org/debian bookworm/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2+b2 [60.8 kB]
#47 2.761 Get:14 http://deb.debian.org/debian bookworm/main amd64 libssh2-1 amd64 1.10.0-3+b1 [179 kB]
#47 2.763 Get:15 http://deb.debian.org/debian bookworm/main amd64 libcurl4 amd64 7.88.1-10+deb12u14 [392 kB]
#47 2.766 Get:16 http://deb.debian.org/debian bookworm/main amd64 curl amd64 7.88.1-10+deb12u14 [316 kB]
#47 2.774 Get:17 http://deb.debian.org/debian bookworm/main amd64 libldap-common all 2.5.13+dfsg-5 [29.3 kB]
#47 2.774 Get:18 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules amd64 2.1.28+dfsg-10 [66.6 kB]
#47 2.775 Get:19 http://deb.debian.org/debian bookworm/main amd64 publicsuffix all 20230209.2326-1 [126 kB]
#47 2.873 debconf: delaying package configuration, since apt-utils is not installed
#47 2.898 Fetched 2493 kB in 0s (11.5 MB/s)
#47 2.915 Selecting previously unselected package krb5-locales.
#47 2.915 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 6600 files and directories currently installed.)
#47 2.923 Preparing to unpack .../00-krb5-locales_1.20.1-2+deb12u4_all.deb ...
#47 2.926 Unpacking krb5-locales (1.20.1-2+deb12u4) ...
#47 2.960 Selecting previously unselected package libbrotli1:amd64.
#47 2.961 Preparing to unpack .../01-libbrotli1_1.0.9-2+b6_amd64.deb ...
#47 2.968 Unpacking libbrotli1:amd64 (1.0.9-2+b6) ...
#47 3.021 Selecting previously unselected package libkrb5support0:amd64.
#47 3.022 Preparing to unpack .../02-libkrb5support0_1.20.1-2+deb12u4_amd64.deb ...
#47 3.026 Unpacking libkrb5support0:amd64 (1.20.1-2+deb12u4) ...
#47 3.060 Selecting previously unselected package libk5crypto3:amd64.
#47 3.061 Preparing to unpack .../03-libk5crypto3_1.20.1-2+deb12u4_amd64.deb ...
#47 3.064 Unpacking libk5crypto3:amd64 (1.20.1-2+deb12u4) ...
#47 3.101 Selecting previously unselected package libkeyutils1:amd64.
#47 3.101 Preparing to unpack .../04-libkeyutils1_1.6.3-2_amd64.deb ...
#47 3.105 Unpacking libkeyutils1:amd64 (1.6.3-2) ...
#47 3.137 Selecting previously unselected package libkrb5-3:amd64.
#47 3.138 Preparing to unpack .../05-libkrb5-3_1.20.1-2+deb12u4_amd64.deb ...
#47 3.141 Unpacking libkrb5-3:amd64 (1.20.1-2+deb12u4) ...
#47 3.194 Selecting previously unselected package libgssapi-krb5-2:amd64.
#47 3.195 Preparing to unpack .../06-libgssapi-krb5-2_1.20.1-2+deb12u4_amd64.deb ...
#47 3.199 Unpacking libgssapi-krb5-2:amd64 (1.20.1-2+deb12u4) ...
#47 3.232 Selecting previously unselected package libsasl2-modules-db:amd64.
#47 3.233 Preparing to unpack .../07-libsasl2-modules-db_2.1.28+dfsg-10_amd64.deb ...
#47 3.236 Unpacking libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
#47 3.266 Selecting previously unselected package libsasl2-2:amd64.
#47 3.266 Preparing to unpack .../08-libsasl2-2_2.1.28+dfsg-10_amd64.deb ...
#47 3.270 Unpacking libsasl2-2:amd64 (2.1.28+dfsg-10) ...
#47 3.306 Selecting previously unselected package libldap-2.5-0:amd64.
#47 3.307 Preparing to unpack .../09-libldap-2.5-0_2.5.13+dfsg-5_amd64.deb ...
#47 3.310 Unpacking libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
#47 3.353 Selecting previously unselected package libnghttp2-14:amd64.
#47 3.354 Preparing to unpack .../10-libnghttp2-14_1.52.0-1+deb12u2_amd64.deb ...
#47 3.358 Unpacking libnghttp2-14:amd64 (1.52.0-1+deb12u2) ...
#47 3.393 Selecting previously unselected package libpsl5:amd64.
#47 3.393 Preparing to unpack .../11-libpsl5_0.21.2-1_amd64.deb ...
#47 3.397 Unpacking libpsl5:amd64 (0.21.2-1) ...
#47 3.431 Selecting previously unselected package librtmp1:amd64.
#47 3.432 Preparing to unpack .../12-librtmp1_2.4+20151223.gitfa8646d.1-2+b2_amd64.deb ...
#47 3.435 Unpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#47 3.471 Selecting previously unselected package libssh2-1:amd64.
#47 3.472 Preparing to unpack .../13-libssh2-1_1.10.0-3+b1_amd64.deb ...
#47 3.476 Unpacking libssh2-1:amd64 (1.10.0-3+b1) ...
#47 3.519 Selecting previously unselected package libcurl4:amd64.
#47 3.519 Preparing to unpack .../14-libcurl4_7.88.1-10+deb12u14_amd64.deb ...
#47 3.523 Unpacking libcurl4:amd64 (7.88.1-10+deb12u14) ...
#47 3.570 Selecting previously unselected package curl.
#47 3.571 Preparing to unpack .../15-curl_7.88.1-10+deb12u14_amd64.deb ...
#47 3.574 Unpacking curl (7.88.1-10+deb12u14) ...
#47 3.617 Selecting previously unselected package libldap-common.
#47 3.618 Preparing to unpack .../16-libldap-common_2.5.13+dfsg-5_all.deb ...
#47 3.622 Unpacking libldap-common (2.5.13+dfsg-5) ...
#47 3.658 Selecting previously unselected package libsasl2-modules:amd64.
#47 3.659 Preparing to unpack .../17-libsasl2-modules_2.1.28+dfsg-10_amd64.deb ...
#47 3.667 Unpacking libsasl2-modules:amd64 (2.1.28+dfsg-10) ...
#47 3.699 Selecting previously unselected package publicsuffix.
#47 3.700 Preparing to unpack .../18-publicsuffix_20230209.2326-1_all.deb ...
#47 3.704 Unpacking publicsuffix (20230209.2326-1) ...
#47 3.742 Setting up libkeyutils1:amd64 (1.6.3-2) ...
#47 3.753 Setting up libpsl5:amd64 (0.21.2-1) ...
#47 3.764 Setting up libbrotli1:amd64 (1.0.9-2+b6) ...
#47 3.775 Setting up libsasl2-modules:amd64 (2.1.28+dfsg-10) ...
#47 3.790 Setting up libnghttp2-14:amd64 (1.52.0-1+deb12u2) ...
#47 3.800 Setting up krb5-locales (1.20.1-2+deb12u4) ...
#47 3.810 Setting up libldap-common (2.5.13+dfsg-5) ...
#47 3.825 Setting up libkrb5support0:amd64 (1.20.1-2+deb12u4) ...
#47 3.836 Setting up libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
#47 3.847 Setting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#47 3.861 Setting up libk5crypto3:amd64 (1.20.1-2+deb12u4) ...
#47 3.872 Setting up libsasl2-2:amd64 (2.1.28+dfsg-10) ...
#47 3.883 Setting up libssh2-1:amd64 (1.10.0-3+b1) ...
#47 3.899 Setting up libkrb5-3:amd64 (1.20.1-2+deb12u4) ...
#47 3.910 Setting up publicsuffix (20230209.2326-1) ...
#47 3.921 Setting up libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
#47 3.931 Setting up libgssapi-krb5-2:amd64 (1.20.1-2+deb12u4) ...
#47 3.942 Setting up libcurl4:amd64 (7.88.1-10+deb12u14) ...
#47 3.952 Setting up curl (7.88.1-10+deb12u14) ...
#47 3.962 Processing triggers for libc-bin (2.36-9+deb12u13) ...
#47 DONE 4.0s

#48 [bannou] exporting to image
#48 exporting layers
#48 exporting layers 0.2s done
#48 writing image sha256:b1395251cdc39a8646bae78b1385b89d7ea5700bbad33a3e0de100a8f73627ea done
#48 naming to docker.io/library/bannou:latest done
#48 DONE 0.2s

#49 [bannou] resolving provenance for metadata file
#49 DONE 0.0s

#50 [bannou-dapr internal] load build definition from Dockerfile.dapr-wait
#50 transferring dockerfile: 668B done
#50 DONE 0.1s

#26 [bannou-dapr internal] load metadata for docker.io/daprio/daprd:edge
#26 DONE 0.0s

#28 [bannou-dapr internal] load metadata for docker.io/library/alpine:3.19
#28 DONE 0.6s

#51 [bannou-dapr internal] load .dockerignore
#51 transferring context: 2B done
#51 DONE 0.0s

#30 [bannou-dapr stage-1 1/5] FROM docker.io/library/alpine:3.19@sha256:6baf43584bcb78f2e5847d1de515f23499913ac9f12bdf834811a3145eb11ca1
#30 CACHED

#32 [bannou-dapr dapr 1/1] FROM docker.io/daprio/daprd:edge
#32 CACHED

#52 [bannou-dapr internal] load build context
#52 transferring context: 42B done
#52 DONE 0.0s

#33 [bannou-dapr stage-1 2/5] RUN apk add --no-cache netcat-openbsd
#33 0.191 fetch https://dl-cdn.alpinelinux.org/alpine/v3.19/main/x86_64/APKINDEX.tar.gz
#33 0.467 fetch https://dl-cdn.alpinelinux.org/alpine/v3.19/community/x86_64/APKINDEX.tar.gz
#33 0.776 (1/3) Installing libmd (1.1.0-r0)
#33 0.799 (2/3) Installing libbsd (0.11.7-r3)
#33 0.818 (3/3) Installing netcat-openbsd (1.226-r0)
#33 0.841 Executing busybox-1.36.1-r20.trigger
#33 0.846 OK: 8 MiB in 18 packages
#33 DONE 2.1s

#34 [bannou-dapr stage-1 3/5] COPY --from=dapr /daprd /daprd
#34 DONE 1.5s

#53 [bannou-dapr stage-1 4/5] COPY wait-for-rabbitmq.sh /wait-for-rabbitmq.sh
#53 DONE 0.1s

#54 [bannou-dapr stage-1 5/5] RUN chmod +x /wait-for-rabbitmq.sh
#54 DONE 0.2s

#55 [bannou-dapr] exporting to image
#55 exporting layers 0.7s done
#55 writing image sha256:382070a90dea981f41adc67c3d777252d03145cdf0cedf6b193dfc17254c2f29
#55 writing image sha256:382070a90dea981f41adc67c3d777252d03145cdf0cedf6b193dfc17254c2f29 done
#55 naming to docker.io/daprio/daprd:edge done
#55 DONE 0.7s

#56 [bannou-dapr] resolving provenance for metadata file
#56 DONE 0.0s
 bannou  Built
 bannou-dapr  Built
 bannou-http-tester  Built
 bannou-http-tester-dapr  Built
 Network bannou-test-http_default  Creating
 Network bannou-test-http_default  Created
 Volume "bannou-test-http_account-data"  Creating
 Volume "bannou-test-http_account-data"  Created
 Volume "bannou-test-http_bannou-redis-data"  Creating
 Volume "bannou-test-http_bannou-redis-data"  Created
 Volume "bannou-test-http_logs-data"  Creating
 Volume "bannou-test-http_logs-data"  Created
 Volume "bannou-test-http_auth-redis-data"  Creating
 Volume "bannou-test-http_auth-redis-data"  Created
 Volume "bannou-test-http_rabbitmq-data"  Creating
 Volume "bannou-test-http_rabbitmq-data"  Created
 Container bannou-test-http-bannou-http-tester-1  Creating
 Container bannou-test-http-rabbitmq-1  Creating
 Container bannou-test-http-bannou-1  Creating
 Container bannou-test-http-bannou-redis-1  Creating
 Container bannou-test-http-auth-redis-1  Creating
 Container bannou-test-http-account-db-1  Creating
 Container bannou-test-http-placement-1  Creating
 Container bannou-test-http-bannou-http-tester-1  Created
 Container bannou-test-http-bannou-http-tester-dapr-1  Creating
 Container bannou-test-http-bannou-redis-1  Created
 Container bannou-test-http-account-db-1  Created
 Container bannou-test-http-rabbitmq-1  Created
 Container bannou-test-http-bannou-1  Created
 Container bannou-test-http-bannou-dapr-1  Creating
 Container bannou-test-http-placement-1  Created
 Container bannou-test-http-auth-redis-1  Created
 Container bannou-test-http-bannou-http-tester-dapr-1  Created
 Container bannou-test-http-bannou-dapr-1  Created
 Container bannou-test-http-account-db-1  Starting
 Container bannou-test-http-placement-1  Starting
 Container bannou-test-http-bannou-http-tester-1  Starting
 Container bannou-test-http-bannou-redis-1  Starting
 Container bannou-test-http-bannou-1  Starting
 Container bannou-test-http-auth-redis-1  Starting
 Container bannou-test-http-rabbitmq-1  Starting
 Container bannou-test-http-auth-redis-1  Started
 Container bannou-test-http-placement-1  Started
 Container bannou-test-http-bannou-http-tester-1  Started
 Container bannou-test-http-bannou-http-tester-dapr-1  Starting
 Container bannou-test-http-rabbitmq-1  Started
 Container bannou-test-http-bannou-redis-1  Started
 Container bannou-test-http-account-db-1  Started
 Container bannou-test-http-bannou-1  Started
 Container bannou-test-http-bannou-dapr-1  Starting
 Container bannou-test-http-bannou-http-tester-dapr-1  Started
 Container bannou-test-http-bannou-dapr-1  Started
bannou-http-tester-1  | Testing service-to-service communication via NSwag-generated clients...
bannou-http-tester-1  | ðŸ”— Configuring DaprClient to use endpoint: http://127.0.0.1:3500
bannou-http-tester-1  | ðŸ” Testing connectivity to: http://127.0.0.1:3500/v1.0/healthz
bannou-http-tester-1  | âŒ HTTP connectivity test failed: Connection refused (127.0.0.1:3500)
bannou-http-tester-1  |    Exception type: HttpRequestException
bannou-http-tester-1  |    Inner exception: Connection refused
bannou-http-tester-1  | ðŸ”§ DaprClient HTTP endpoint: http://127.0.0.1:3500
bannou-http-tester-1  | ðŸ”§ DaprClient gRPC endpoint: http://127.0.0.1:50001
bannou-http-tester-1  | Waiting for Dapr to be ready (timeout: 60s)...
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (0.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (1.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (2.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (3.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (4.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (5.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (6.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (7.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (8.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (9.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (10.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (11.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (12.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (13.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (14.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (15.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | â³ Dapr readiness check failed, retrying... (16.1s elapsed) - Get metadata operation failed: the Dapr endpoint indicated a failure. See InnerException for details.
bannou-http-tester-1  | âœ… Dapr is ready (sidecar ID: bannou-http-tester)
bannou-http-tester-1  | Waiting for pubsub component 'bannou-pubsub' to be ready (timeout: 60s)...
bannou-http-tester-1  | âœ… Pubsub component 'bannou-pubsub' is ready and connected to RabbitMQ
bannou-http-tester-1  | Waiting for statestore component 'statestore' to be ready (timeout: 60s)...
bannou-http-tester-1  | âœ… Statestore component 'statestore' is ready and connected to Redis
bannou-http-tester-1  | âœ… Service provider setup completed successfully
bannou-http-tester-1  | âœ… Dapr client connectivity verified
bannou-http-tester-1  | â³ Waiting for service discovery to stabilize...
bannou-http-tester-1  | âœ… Service discovery stabilization complete
bannou-http-tester-1  | Running in daemon mode - executing tests sequentially with fail-fast on service crashes...
bannou-http-tester-1  | Running test: CreateAccount
bannou-http-tester-1  | âœ… Test CreateAccount completed successfully: Account created successfully: ID=945db320-ac77-40c0-9030-f994674b4471, Email=testuser_639002560880781293@example.com
bannou-http-tester-1  | Running test: GetAccount
bannou-http-tester-1  | âœ… Test GetAccount completed successfully: Account retrieved successfully: ID=808df71e-04b6-40d2-b08f-6cbd563ff61f, Email=testuser_639002560882635482@example.com
bannou-http-tester-1  | Running test: ListAccounts
bannou-http-tester-1  | âœ… Test ListAccounts completed successfully: Account listing successful: Found 0 total accounts, returned 0 accounts
bannou-http-tester-1  | Running test: UpdateAccount
bannou-http-tester-1  | âœ… Test UpdateAccount completed successfully: Account updated successfully: ID=c208af97-a4ca-4fe2-8e1f-40718ac112a7, New DisplayName=Updated Test User 639002560883132869
bannou-http-tester-1  | Running test: DeleteAccount
bannou-http-tester-1  | âœ… Test DeleteAccount completed successfully: Account deleted successfully: ID=f4736b89-baec-4dab-b60c-257ce6c185b7
bannou-http-tester-1  | Running test: AccountDeletionSessionInvalidation
bannou-http-tester-1  | âœ… Test AccountDeletionSessionInvalidation completed successfully: SKIPPED: Event-driven session invalidation not yet implemented (set SKIP_EVENT_TESTS=false to enable)
bannou-http-tester-1  | Running test: CompleteAuthFlow
bannou-http-tester-1  | âœ… Test CompleteAuthFlow completed successfully: Complete auth flow tested successfully for user completetest_639002560883757342. Some endpoints may be incomplete (ValidateTokenAsync) but core flow is operational.
bannou-http-tester-1  | Running test: RegisterFlow
bannou-http-tester-1  | âœ… Test RegisterFlow completed successfully: Registration flow completed successfully for user regtest_639002560895050078
bannou-http-tester-1  | Running test: LoginFlow
bannou-http-tester-1  | âœ… Test LoginFlow completed successfully: Login flow completed successfully for user logintest_639002560897454993
bannou-http-tester-1  | Running test: TokenValidation
bannou-http-tester-1  | âœ… Test TokenValidation completed successfully: Token validation correctly rejected request without valid authorization
bannou-http-tester-1  | Running test: TokenRefresh
bannou-http-tester-1  | âœ… Test TokenRefresh completed successfully: Token refresh correctly rejected invalid refresh token
bannou-http-tester-1  | Running test: OAuthFlow
bannou-http-tester-1  | âœ… Test OAuthFlow completed successfully: OAuth flow completed successfully for Discord with AccountId: 855939de-a732-4ff3-87c8-e15c9d9c1052
bannou-http-tester-1  | Running test: SteamAuthFlow
bannou-http-tester-1  | âœ… Test SteamAuthFlow completed successfully: Steam auth flow completed successfully with AccountId: 23b9f318-533c-43fa-85b1-d6c5e158fae3
bannou-http-tester-1  | Running test: GetSessions
bannou-http-tester-1  | âœ… Test GetSessions completed successfully: Get sessions correctly required authentication
bannou-http-tester-1  | Running test: ServiceMappings
bannou-http-tester-1  | âœ… Test ServiceMappings completed successfully: Service mappings retrieved successfully - 1 mappings, default: bannou
bannou-http-tester-1  | Running test: InternalProxy
bannou-http-tester-1  | âœ… Test InternalProxy completed successfully: Internal proxy responded with expected API error: 403
bannou-http-tester-1  | Running test: InfrastructureHealth
bannou-http-tester-1  | âœ… Test InfrastructureHealth completed successfully: Infrastructure health check passed: 3/3 components healthy
bannou-http-tester-1  | Running test: ServicesHealth
bannou-http-tester-1  | âœ… Test ServicesHealth completed successfully: Services health report: 0 services, 0.0% healthy, 0 healthy, 0 unhealthy
bannou-http-tester-1  | Running test: GetBackends
bannou-http-tester-1  | âœ… Test GetBackends completed successfully: Backend detection: 3 backends checked, recommended: Compose, available: [Compose]
bannou-http-tester-1  | Running test: GetStatus
bannou-http-tester-1  | âœ… Test GetStatus completed successfully: Environment status: deployed=False, backend=Compose, services=0
bannou-http-tester-1  | Running test: GetPresets
bannou-http-tester-1  | âœ… Test GetPresets completed successfully: Deployment presets: 0 presets available []
bannou-http-tester-1  | Running test: DeployAndTeardown
bannou-http-tester-1  | âœ… Test DeployAndTeardown completed successfully: Deploy/Teardown lifecycle completed: initial=0 services, deployed=1 services, teardown success=True
bannou-http-tester-1  | Running test: DeploymentEvents
bannou-http-tester-1  |   ðŸŽ§ Subscribed to deployment events exchange
bannou-http-tester-1  |   ðŸš€ Triggering deploy operation...
bannou-http-tester-1  |   ðŸ“¬ Received deployment event: Started - 0608433e-8010-432a-937d-657239a85776
bannou-http-tester-1  |   ðŸ“¬ Received deployment event: Completed - 0608433e-8010-432a-937d-657239a85776
bannou-http-tester-1  |   ðŸ›‘ Triggering teardown operation...
bannou-http-tester-1  |   ðŸ“¬ Received deployment event: TopologyChanged - 54604078-329c-4788-97bf-da99401e7264
bannou-http-tester-1  |   ðŸ“¬ Received deployment event: Completed - 54604078-329c-4788-97bf-da99401e7264
bannou-http-tester-1  |   ðŸ“Š Events received: Started=1, Completed=2, TopologyChanged=1, Failed=0
bannou-http-tester-1  | âœ… Test DeploymentEvents completed successfully: Deployment events verified: 4 events received (started=1, completed=2, topology_changed=1, failed=0)
bannou-http-tester-1  | Running test: RegisterServicePermissions
bannou-http-tester-1  | âœ… Test RegisterServicePermissions completed successfully: Service permissions registered: test-service-direct-4c5ff26f13ba497483b789b784236b70, affected 0 sessions
bannou-http-tester-1  | Running test: DaprEventSubscription
bannou-http-tester-1  |   Publishing service registration event for test-service-event-72b085c4df524289bed363af903f4ba4 via Dapr pubsub...
bannou-http-tester-1  |   Subscriptions on bannou: [{"topic":"account.deleted","pubsubName":"bannou-pubsub","route":"dapr/events/account-deleted"},{"topic":"permissions.capabilities-updated","pubsubName":"bannou-pubsub","route":"ConnectEvents/handle-c...
bannou-http-tester-1  |   Event published via Dapr pubsub, waiting for processing...
bannou-http-tester-1  |   Sending event JSON: {"serviceId":"test-service-event-72b085c4df524289bed363af903f4ba4","version":"1.0.0","endpoints":[{"path":"/test/dapr-event-endpoint","method":"GET","permissions":[{"role":"user","requiredStates":{"te...
bannou-http-tester-1  |   Direct endpoint POST result: OK, body: 
bannou-http-tester-1  |   Creating test session test-session-d6b576c1e7c648a59705a5d04ecf15b5 with state 'authenticated'...
bannou-http-tester-1  |   Querying capabilities for session...
bannou-http-tester-1  | âœ… Test DaprEventSubscription completed successfully: Dapr event subscription verified: service test-service-event-72b085c4df524289bed363af903f4ba4 registered via pubsub event, capabilities include 1 method(s)
bannou-http-tester-1  | Running test: SessionStateChangeEvent
bannou-http-tester-1  |   Registering service test-service-state-be016d35b7f64f118a032d88c9818cc6...
bannou-http-tester-1  |   Initial capabilities: 1 methods
bannou-http-tester-1  |   Publishing session state change event via Dapr pubsub...
bannou-http-tester-1  |   Updated capabilities: 2 methods
bannou-http-tester-1  | âœ… Test SessionStateChangeEvent completed successfully: Session state change event verified: state changed from 'unauthenticated' to 'authenticated', methods increased from 1 to 2, now has access to private endpoint
bannou-http-tester-1  | All tests completed in daemon mode. Passed: 26, Failed: 0
bannou-http-tester-1  | âœ… All tests passed - returning exit code 0
container "fa18b0032a06d11daf04e52847e8c01205116d6dc9d36e7e7fa99e5feadcd726" exited with status code 0
[Kbannou-http-tester-1 exited with code 0
time="2025-12-02T02:08:18-05:00" level=warning msg="The \"PLUGIN\" variable is not set. Defaulting to a blank string."
 Container bannou-test-http-bannou-dapr-1  Stopping
 Container bannou-test-http-auth-redis-1  Stopping
 Container bannou-test-http-rabbitmq-1  Stopping
 Container bannou-test-http-placement-1  Stopping
 Container bannou-test-http-account-db-1  Stopping
 Container bannou-test-http-bannou-http-tester-dapr-1  Stopping
 Container bannou-test-http-bannou-redis-1  Stopping
 Container bannou-test-http-auth-redis-1  Stopped
 Container bannou-test-http-auth-redis-1  Removing
 Container bannou-test-http-auth-redis-1  Removed
 Container bannou-test-http-placement-1  Stopped
 Container bannou-test-http-placement-1  Removing
 Container bannou-test-http-placement-1  Removed
 Container bannou-test-http-bannou-redis-1  Stopped
 Container bannou-test-http-bannou-redis-1  Removing
 Container bannou-test-http-bannou-redis-1  Removed
 Container bannou-test-http-account-db-1  Stopped
 Container bannou-test-http-account-db-1  Removing
 Container bannou-test-http-account-db-1  Removed
 Container bannou-test-http-bannou-http-tester-dapr-1  Stopped
 Container bannou-test-http-bannou-http-tester-dapr-1  Removing
 Container bannou-test-http-bannou-http-tester-dapr-1  Removed
 Container bannou-test-http-bannou-http-tester-1  Stopping
 Container bannou-test-http-bannou-http-tester-1  Stopped
 Container bannou-test-http-bannou-http-tester-1  Removing
 Container bannou-test-http-bannou-http-tester-1  Removed
 Container bannou-test-http-bannou-dapr-1  Stopped
 Container bannou-test-http-bannou-dapr-1  Removing
 Container bannou-test-http-bannou-dapr-1  Removed
 Container bannou-test-http-bannou-1  Stopping
 Container bannou-test-http-rabbitmq-1  Stopped
 Container bannou-test-http-rabbitmq-1  Removing
 Container bannou-test-http-rabbitmq-1  Removed
 Container bannou-test-http-bannou-1  Stopped
 Container bannou-test-http-bannou-1  Removing
 Container bannou-test-http-bannou-1  Removed
 Volume bannou-test-http_rabbitmq-data  Removing
 Volume bannou-test-http_auth-redis-data  Removing
 Volume bannou-test-http_account-data  Removing
 Volume bannou-test-http_bannou-redis-data  Removing
 Volume bannou-test-http_logs-data  Removing
 Network bannou-test-http_default  Removing
 Volume bannou-test-http_rabbitmq-data  Removed
 Volume bannou-test-http_account-data  Removed
 Volume bannou-test-http_auth-redis-data  Removed
 Volume bannou-test-http_logs-data  Removed
 Volume bannou-test-http_bannou-redis-data  Removed
 Network bannou-test-http_default  Removed
âœ… HTTP integration tests completed successfully
