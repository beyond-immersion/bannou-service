openapi: 3.0.3
info:
  title: Auth Service Configuration
  description: "Configuration schema for Auth service.\nProperties are bound to environment variables with BANNOU_ prefix."
  version: 1.0.0
paths: {}
x-service-configuration:
  properties:
    # JWT Configuration
    JwtSecret:
      type: string
      description: Secret key for JWT token signing
      env: AUTH_JWT_SECRET
    JwtIssuer:
      type: string
      description: JWT token issuer
      env: AUTH_JWT_ISSUER
      default: "bannou-auth"
    JwtAudience:
      type: string
      description: JWT token audience
      env: AUTH_JWT_AUDIENCE
      default: "bannou-api"
    JwtExpirationMinutes:
      type: integer
      description: JWT token expiration time in minutes
      env: AUTH_JWT_EXPIRATION_MINUTES
      default: 60

    # Connect Service URL
    ConnectUrl:
      type: string
      description: URL to the Connect service for WebSocket connections
      env: AUTH_CONNECT_URL
      default: "ws://localhost:5014/connect"

    # Mock Providers for Testing
    MockProviders:
      type: boolean
      description: Enable mock OAuth providers for testing
      env: AUTH_MOCK_PROVIDERS
      default: false
    MockDiscordId:
      type: string
      description: Mock Discord user ID for testing
      env: AUTH_MOCK_DISCORD_ID
      default: "mock-discord-123456"
    MockGoogleId:
      type: string
      description: Mock Google user ID for testing
      env: AUTH_MOCK_GOOGLE_ID
      default: "mock-google-123456"
    MockSteamId:
      type: string
      description: Mock Steam user ID for testing
      env: AUTH_MOCK_STEAM_ID
      default: "76561198000000000"

    # Discord OAuth
    DiscordClientId:
      type: string
      description: Discord OAuth client ID
      env: AUTH_DISCORD_CLIENT_ID
    DiscordClientSecret:
      type: string
      description: Discord OAuth client secret
      env: AUTH_DISCORD_CLIENT_SECRET
    DiscordRedirectUri:
      type: string
      description: Discord OAuth redirect URI
      env: AUTH_DISCORD_REDIRECT_URI

    # Google OAuth
    GoogleClientId:
      type: string
      description: Google OAuth client ID
      env: AUTH_GOOGLE_CLIENT_ID
    GoogleClientSecret:
      type: string
      description: Google OAuth client secret
      env: AUTH_GOOGLE_CLIENT_SECRET
    GoogleRedirectUri:
      type: string
      description: Google OAuth redirect URI
      env: AUTH_GOOGLE_REDIRECT_URI

    # Twitch OAuth
    TwitchClientId:
      type: string
      description: Twitch OAuth client ID
      env: AUTH_TWITCH_CLIENT_ID
    TwitchClientSecret:
      type: string
      description: Twitch OAuth client secret
      env: AUTH_TWITCH_CLIENT_SECRET
    TwitchRedirectUri:
      type: string
      description: Twitch OAuth redirect URI
      env: AUTH_TWITCH_REDIRECT_URI

    # Steam Authentication
    SteamApiKey:
      type: string
      description: Steam Web API key for session ticket validation
      env: AUTH_STEAM_API_KEY
    SteamAppId:
      type: string
      description: Steam application ID
      env: AUTH_STEAM_APP_ID

    # Password Reset
    PasswordResetTokenTtlMinutes:
      type: integer
      description: Password reset token expiration time in minutes
      env: AUTH_PASSWORD_RESET_TOKEN_TTL_MINUTES
      default: 30
    PasswordResetBaseUrl:
      type: string
      description: Base URL for password reset page
      env: AUTH_PASSWORD_RESET_BASE_URL
