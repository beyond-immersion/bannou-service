openapi: 3.0.3
info:
  title: Permission Service Configuration
  description: |
    Configuration schema for Permission service.
    Properties are bound to environment variables with BANNOU_ prefix.

    **NRT Compliance**: AI agents MUST review docs/NRT-SCHEMA-RULES.md before
    modifying this schema. Optional reference types require `nullable: true`.
  version: 1.0.0
paths: {}
x-service-configuration:
  properties:
    Enabled:
      type: boolean
      description: Enable/disable Permission service
      default: true
      env: PERMISSION_ENABLED

    # === Distributed Lock Parameters (Tier 1) ===
    LockMaxRetries:
      type: integer
      env: PERMISSION_LOCK_MAX_RETRIES
      default: 10
      description: Maximum retries for acquiring distributed lock

    LockBaseDelayMs:
      type: integer
      env: PERMISSION_LOCK_BASE_DELAY_MS
      default: 100
      description: Base delay in ms between lock retry attempts (exponential backoff applied)

    LockExpirySeconds:
      type: integer
      env: PERMISSION_LOCK_EXPIRY_SECONDS
      default: 30
      description: Distributed lock expiration time in seconds
