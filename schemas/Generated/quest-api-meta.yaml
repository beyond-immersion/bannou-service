openapi: 3.0.3
info:
  title: Bannou Quest Service API
  description: |
    Quest system providing objective-based gameplay progression as a thin orchestration
    layer over lib-contract. Quests are contracts with game-flavored terminology:
    objectives are milestones, rewards are prebound API executions.

    **SCHEMA MODIFICATION GATE**: STOP. Before modifying this schema, you MUST:
    1. Read docs/reference/SCHEMA-RULES.md
    2. State which section applies to your change
    3. Only then proceed with edits
    Edits without stating the applicable rule are FORBIDDEN.
  version: 1.0.0
x-service-layer: GameFeatures
servers:
- url: http://localhost:5012
  description: Bannou service endpoint (internal only)
paths:
  /quest/definition/create:
    post:
      operationId: createQuestDefinition
      tags:
      - Definitions
      summary: Create a new quest definition
      description: Creates a quest definition wrapping a contract template with quest metadata.
      x-permissions:
      - role: developer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateQuestDefinitionRequest'
      responses:
        '200':
          description: Quest definition created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestDefinitionResponse'
        '400':
          description: Invalid request (validation error)
        '409':
          description: Quest definition with this code already exists
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/CreateQuestDefinitionRequest\"\
        ,\n    \"$defs\": {\n        \"CreateQuestDefinitionRequest\": {\n            \"type\": \"object\",\n            \"\
        additionalProperties\": false,\n            \"required\": [\n                \"code\",\n                \"name\",\n\
        \                \"objectives\",\n                \"gameServiceId\"\n            ],\n            \"properties\": {\n\
        \                \"code\": {\n                    \"type\": \"string\",\n                    \"description\": \"Unique
        quest code (uppercase, underscores)\"\n                },\n                \"name\": {\n                    \"type\"\
        : \"string\",\n                    \"description\": \"Display name of the quest\"\n                },\n          \
        \      \"description\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n  \
        \                  \"description\": \"Quest description for players\"\n                },\n                \"category\"\
        : {\n                    \"$ref\": \"#/$defs/QuestCategory\"\n                },\n                \"difficulty\":
        {\n                    \"$ref\": \"#/$defs/QuestDifficulty\"\n                },\n                \"levelRequirement\"\
        : {\n                    \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Minimum character level required\"\n                },\n                \"repeatable\": {\n                  \
        \  \"type\": \"boolean\",\n                    \"default\": false,\n                    \"description\": \"Whether
        quest can be repeated\"\n                },\n                \"cooldownSeconds\": {\n                    \"type\"\
        : \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Cooldown in seconds
        for repeatable quests\"\n                },\n                \"deadlineSeconds\": {\n                    \"type\"\
        : \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Time limit in seconds
        (null for no deadline)\"\n                },\n                \"maxQuestors\": {\n                    \"type\": \"\
        integer\",\n                    \"default\": 1,\n                    \"description\": \"Maximum party members (1 for
        solo)\"\n                },\n                \"objectives\": {\n                    \"type\": \"array\",\n       \
        \             \"items\": {\n                        \"$ref\": \"#/$defs/ObjectiveDefinition\"\n                  \
        \  },\n                    \"description\": \"List of quest objectives (ordered)\"\n                },\n         \
        \       \"prerequisites\": {\n                    \"type\": \"array\",\n                    \"nullable\": true,\n\
        \                    \"items\": {\n                        \"$ref\": \"#/$defs/PrerequisiteDefinition\"\n        \
        \            },\n                    \"description\": \"Requirements to accept the quest\"\n                },\n \
        \               \"rewards\": {\n                    \"type\": \"array\",\n                    \"nullable\": true,\n\
        \                    \"items\": {\n                        \"$ref\": \"#/$defs/RewardDefinition\"\n              \
        \      },\n                    \"description\": \"Rewards granted on completion\"\n                },\n          \
        \      \"tags\": {\n                    \"type\": \"array\",\n                    \"nullable\": true,\n          \
        \          \"items\": {\n                        \"type\": \"string\"\n                    },\n                  \
        \  \"description\": \"Tags for filtering and organization\"\n                },\n                \"questGiverCharacterId\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"\
        nullable\": true,\n                    \"description\": \"Character who offers this quest (null for any)\"\n     \
        \           },\n                \"gameServiceId\": {\n                    \"type\": \"string\",\n                \
        \    \"format\": \"uuid\",\n                    \"description\": \"Game service this quest belongs to\"\n        \
        \        }\n            }\n        },\n        \"QuestCategory\": {\n            \"type\": \"string\",\n         \
        \   \"enum\": [\n                \"MAIN\",\n                \"SIDE\",\n                \"BOUNTY\",\n             \
        \   \"DAILY\",\n                \"WEEKLY\",\n                \"EVENT\",\n                \"TUTORIAL\"\n          \
        \  ],\n            \"description\": \"Category of quest for organization\"\n        },\n        \"QuestDifficulty\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"TRIVIAL\",\n                \"\
        EASY\",\n                \"NORMAL\",\n                \"HARD\",\n                \"HEROIC\",\n                \"LEGENDARY\"\
        \n            ],\n            \"description\": \"Difficulty rating of the quest\"\n        },\n        \"ObjectiveDefinition\"\
        : {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n\
        \                \"code\",\n                \"name\",\n                \"objectiveType\",\n                \"requiredCount\"\
        \n            ],\n            \"properties\": {\n                \"code\": {\n                    \"type\": \"string\"\
        ,\n                    \"description\": \"Unique objective code within quest\"\n                },\n             \
        \   \"name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Display name of
        the objective\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\
        ,\n                    \"nullable\": true,\n                    \"description\": \"Objective description\"\n     \
        \           },\n                \"objectiveType\": {\n                    \"$ref\": \"#/$defs/ObjectiveType\"\n  \
        \              },\n                \"requiredCount\": {\n                    \"type\": \"integer\",\n            \
        \        \"description\": \"Count needed to complete\"\n                },\n                \"targetEntityType\":
        {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Entity type for kill/collect objectives\"\n                },\n                \"targetEntitySubtype\": {\n  \
        \                  \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Subtype filter (e.g., species:wolf)\"\n                },\n                \"targetLocationId\": {\n         \
        \           \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n\
        \                    \"description\": \"Location for travel/deliver objectives\"\n                },\n           \
        \     \"hidden\": {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n       \
        \             \"description\": \"Whether objective is hidden initially\"\n                },\n                \"revealBehavior\"\
        : {\n                    \"$ref\": \"#/$defs/ObjectiveRevealBehavior\"\n                },\n                \"optional\"\
        : {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"description\"\
        : \"Whether objective is optional for completion\"\n                }\n            }\n        },\n        \"ObjectiveType\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"KILL\",\n                \"COLLECT\"\
        ,\n                \"DELIVER\",\n                \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\"\
        ,\n                \"CRAFT\",\n                \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\
        \n            ],\n            \"description\": \"Type of objective determining progress tracking logic\"\n       \
        \ },\n        \"ObjectiveRevealBehavior\": {\n            \"type\": \"string\",\n            \"enum\": [\n       \
        \         \"ALWAYS\",\n                \"ON_PROGRESS\",\n                \"ON_COMPLETE\",\n                \"NEVER\"\
        \n            ],\n            \"description\": \"When a hidden objective is revealed in the quest log\"\n        },\n\
        \        \"PrerequisiteDefinition\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"type\"\n            ],\n            \"properties\": {\n          \
        \      \"type\": {\n                    \"$ref\": \"#/$defs/PrerequisiteType\"\n                },\n             \
        \   \"questCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n       \
        \             \"description\": \"Quest code for QUEST_COMPLETED type\"\n                },\n                \"minLevel\"\
        : {\n                    \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Minimum level for CHARACTER_LEVEL type\"\n                },\n                \"factionCode\": {\n           \
        \         \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"\
        Faction code for REPUTATION type\"\n                },\n                \"minReputation\": {\n                   \
        \ \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Minimum
        reputation for REPUTATION type\"\n                },\n                \"itemCode\": {\n                    \"type\"\
        : \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Item code for ITEM_OWNED
        type\"\n                },\n                \"currencyCode\": {\n                    \"type\": \"string\",\n     \
        \               \"nullable\": true,\n                    \"description\": \"Currency code for CURRENCY_AMOUNT type\"\
        \n                },\n                \"minAmount\": {\n                    \"type\": \"integer\",\n             \
        \       \"nullable\": true,\n                    \"description\": \"Minimum amount for CURRENCY_AMOUNT type\"\n  \
        \              }\n            }\n        },\n        \"PrerequisiteType\": {\n            \"type\": \"string\",\n\
        \            \"enum\": [\n                \"QUEST_COMPLETED\",\n                \"CHARACTER_LEVEL\",\n           \
        \     \"REPUTATION\",\n                \"ITEM_OWNED\",\n                \"CURRENCY_AMOUNT\"\n            ],\n    \
        \        \"description\": \"Type of prerequisite check\"\n        },\n        \"RewardDefinition\": {\n          \
        \  \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n            \
        \    \"type\"\n            ],\n            \"properties\": {\n                \"type\": {\n                    \"\
        type\": \"string\",\n                    \"enum\": [\n                        \"CURRENCY\",\n                    \
        \    \"ITEM\",\n                        \"EXPERIENCE\",\n                        \"REPUTATION\"\n                \
        \    ],\n                    \"description\": \"Type of reward\"\n                },\n                \"currencyCode\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Currency code for CURRENCY rewards\"\n                },\n                \"amount\": {\n                    \"\
        type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Amount for CURRENCY/EXPERIENCE
        rewards\"\n                },\n                \"itemCode\": {\n                    \"type\": \"string\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Item code for ITEM rewards\"\n        \
        \        },\n                \"quantity\": {\n                    \"type\": \"integer\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"Quantity for ITEM rewards\"\n                },\n                \"\
        factionCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n           \
        \         \"description\": \"Faction code for REPUTATION rewards\"\n                }\n            }\n        }\n\
        \    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/QuestDefinitionResponse\"\
        ,\n    \"$defs\": {\n        \"QuestDefinitionResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"definitionId\",\n                \"contractTemplateId\",\n\
        \                \"code\",\n                \"name\",\n                \"category\",\n                \"difficulty\"\
        ,\n                \"repeatable\",\n                \"maxQuestors\",\n                \"objectives\",\n          \
        \      \"deprecated\",\n                \"createdAt\",\n                \"gameServiceId\"\n            ],\n      \
        \      \"properties\": {\n                \"definitionId\": {\n                    \"type\": \"string\",\n       \
        \             \"format\": \"uuid\",\n                    \"description\": \"Unique quest definition ID\"\n       \
        \         },\n                \"contractTemplateId\": {\n                    \"type\": \"string\",\n             \
        \       \"format\": \"uuid\",\n                    \"description\": \"Underlying contract template ID\"\n        \
        \        },\n                \"code\": {\n                    \"type\": \"string\",\n                    \"description\"\
        : \"Quest code\"\n                },\n                \"name\": {\n                    \"type\": \"string\",\n   \
        \                 \"description\": \"Quest name\"\n                },\n                \"description\": {\n      \
        \              \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Quest description\"\n                },\n                \"category\": {\n                    \"$ref\": \"#/$defs/QuestCategory\"\
        \n                },\n                \"difficulty\": {\n                    \"$ref\": \"#/$defs/QuestDifficulty\"\
        \n                },\n                \"levelRequirement\": {\n                    \"type\": \"integer\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Minimum level required\"\n            \
        \    },\n                \"repeatable\": {\n                    \"type\": \"boolean\",\n                    \"description\"\
        : \"Whether repeatable\"\n                },\n                \"cooldownSeconds\": {\n                    \"type\"\
        : \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Cooldown for repeatable
        quests\"\n                },\n                \"deadlineSeconds\": {\n                    \"type\": \"integer\",\n\
        \                    \"nullable\": true,\n                    \"description\": \"Time limit\"\n                },\n\
        \                \"maxQuestors\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Max party size\"\n                },\n                \"objectives\": {\n                    \"type\": \"array\"\
        ,\n                    \"items\": {\n                        \"$ref\": \"#/$defs/ObjectiveDefinition\"\n         \
        \           },\n                    \"description\": \"Quest objectives\"\n                },\n                \"\
        prerequisites\": {\n                    \"type\": \"array\",\n                    \"nullable\": true,\n          \
        \          \"items\": {\n                        \"$ref\": \"#/$defs/PrerequisiteDefinition\"\n                  \
        \  },\n                    \"description\": \"Prerequisites\"\n                },\n                \"rewards\": {\n\
        \                    \"type\": \"array\",\n                    \"nullable\": true,\n                    \"items\"\
        : {\n                        \"$ref\": \"#/$defs/RewardDefinition\"\n                    },\n                    \"\
        description\": \"Rewards\"\n                },\n                \"tags\": {\n                    \"type\": \"array\"\
        ,\n                    \"nullable\": true,\n                    \"items\": {\n                        \"type\": \"\
        string\"\n                    },\n                    \"description\": \"Tags\"\n                },\n            \
        \    \"deprecated\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether
        deprecated\"\n                },\n                \"createdAt\": {\n                    \"type\": \"string\",\n  \
        \                  \"format\": \"date-time\",\n                    \"description\": \"Creation timestamp\"\n     \
        \           },\n                \"gameServiceId\": {\n                    \"type\": \"string\",\n                \
        \    \"format\": \"uuid\",\n                    \"description\": \"Game service ID\"\n                }\n        \
        \    }\n        },\n        \"QuestCategory\": {\n            \"type\": \"string\",\n            \"enum\": [\n   \
        \             \"MAIN\",\n                \"SIDE\",\n                \"BOUNTY\",\n                \"DAILY\",\n    \
        \            \"WEEKLY\",\n                \"EVENT\",\n                \"TUTORIAL\"\n            ],\n            \"\
        description\": \"Category of quest for organization\"\n        },\n        \"QuestDifficulty\": {\n            \"\
        type\": \"string\",\n            \"enum\": [\n                \"TRIVIAL\",\n                \"EASY\",\n          \
        \      \"NORMAL\",\n                \"HARD\",\n                \"HEROIC\",\n                \"LEGENDARY\"\n      \
        \      ],\n            \"description\": \"Difficulty rating of the quest\"\n        },\n        \"ObjectiveDefinition\"\
        : {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n\
        \                \"code\",\n                \"name\",\n                \"objectiveType\",\n                \"requiredCount\"\
        \n            ],\n            \"properties\": {\n                \"code\": {\n                    \"type\": \"string\"\
        ,\n                    \"description\": \"Unique objective code within quest\"\n                },\n             \
        \   \"name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Display name of
        the objective\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\
        ,\n                    \"nullable\": true,\n                    \"description\": \"Objective description\"\n     \
        \           },\n                \"objectiveType\": {\n                    \"$ref\": \"#/$defs/ObjectiveType\"\n  \
        \              },\n                \"requiredCount\": {\n                    \"type\": \"integer\",\n            \
        \        \"description\": \"Count needed to complete\"\n                },\n                \"targetEntityType\":
        {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Entity type for kill/collect objectives\"\n                },\n                \"targetEntitySubtype\": {\n  \
        \                  \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Subtype filter (e.g., species:wolf)\"\n                },\n                \"targetLocationId\": {\n         \
        \           \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n\
        \                    \"description\": \"Location for travel/deliver objectives\"\n                },\n           \
        \     \"hidden\": {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n       \
        \             \"description\": \"Whether objective is hidden initially\"\n                },\n                \"revealBehavior\"\
        : {\n                    \"$ref\": \"#/$defs/ObjectiveRevealBehavior\"\n                },\n                \"optional\"\
        : {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"description\"\
        : \"Whether objective is optional for completion\"\n                }\n            }\n        },\n        \"ObjectiveType\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"KILL\",\n                \"COLLECT\"\
        ,\n                \"DELIVER\",\n                \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\"\
        ,\n                \"CRAFT\",\n                \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\
        \n            ],\n            \"description\": \"Type of objective determining progress tracking logic\"\n       \
        \ },\n        \"ObjectiveRevealBehavior\": {\n            \"type\": \"string\",\n            \"enum\": [\n       \
        \         \"ALWAYS\",\n                \"ON_PROGRESS\",\n                \"ON_COMPLETE\",\n                \"NEVER\"\
        \n            ],\n            \"description\": \"When a hidden objective is revealed in the quest log\"\n        },\n\
        \        \"PrerequisiteDefinition\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"type\"\n            ],\n            \"properties\": {\n          \
        \      \"type\": {\n                    \"$ref\": \"#/$defs/PrerequisiteType\"\n                },\n             \
        \   \"questCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n       \
        \             \"description\": \"Quest code for QUEST_COMPLETED type\"\n                },\n                \"minLevel\"\
        : {\n                    \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Minimum level for CHARACTER_LEVEL type\"\n                },\n                \"factionCode\": {\n           \
        \         \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"\
        Faction code for REPUTATION type\"\n                },\n                \"minReputation\": {\n                   \
        \ \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Minimum
        reputation for REPUTATION type\"\n                },\n                \"itemCode\": {\n                    \"type\"\
        : \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Item code for ITEM_OWNED
        type\"\n                },\n                \"currencyCode\": {\n                    \"type\": \"string\",\n     \
        \               \"nullable\": true,\n                    \"description\": \"Currency code for CURRENCY_AMOUNT type\"\
        \n                },\n                \"minAmount\": {\n                    \"type\": \"integer\",\n             \
        \       \"nullable\": true,\n                    \"description\": \"Minimum amount for CURRENCY_AMOUNT type\"\n  \
        \              }\n            }\n        },\n        \"PrerequisiteType\": {\n            \"type\": \"string\",\n\
        \            \"enum\": [\n                \"QUEST_COMPLETED\",\n                \"CHARACTER_LEVEL\",\n           \
        \     \"REPUTATION\",\n                \"ITEM_OWNED\",\n                \"CURRENCY_AMOUNT\"\n            ],\n    \
        \        \"description\": \"Type of prerequisite check\"\n        },\n        \"RewardDefinition\": {\n          \
        \  \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n            \
        \    \"type\"\n            ],\n            \"properties\": {\n                \"type\": {\n                    \"\
        type\": \"string\",\n                    \"enum\": [\n                        \"CURRENCY\",\n                    \
        \    \"ITEM\",\n                        \"EXPERIENCE\",\n                        \"REPUTATION\"\n                \
        \    ],\n                    \"description\": \"Type of reward\"\n                },\n                \"currencyCode\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Currency code for CURRENCY rewards\"\n                },\n                \"amount\": {\n                    \"\
        type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Amount for CURRENCY/EXPERIENCE
        rewards\"\n                },\n                \"itemCode\": {\n                    \"type\": \"string\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Item code for ITEM rewards\"\n        \
        \        },\n                \"quantity\": {\n                    \"type\": \"integer\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"Quantity for ITEM rewards\"\n                },\n                \"\
        factionCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n           \
        \         \"description\": \"Faction code for REPUTATION rewards\"\n                }\n            }\n        }\n\
        \    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Create a new quest definition\",\n    \"description\": \"Creates a quest
        definition wrapping a contract template with quest metadata.\",\n    \"tags\": [\n        \"Definitions\"\n    ],\n\
        \    \"deprecated\": false,\n    \"operationId\": \"createQuestDefinition\"\n}"
  /quest/definition/get:
    post:
      operationId: getQuestDefinition
      tags:
      - Definitions
      summary: Get quest definition by ID or code
      description: Retrieves a quest definition by its unique identifier or code.
      x-permissions:
      - role: user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetQuestDefinitionRequest'
      responses:
        '200':
          description: Quest definition found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestDefinitionResponse'
        '404':
          description: Quest definition not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/GetQuestDefinitionRequest\"\
        ,\n    \"$defs\": {\n        \"GetQuestDefinitionRequest\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"properties\": {\n                \"definitionId\": {\n                    \"type\": \"string\"\
        ,\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Definition ID (provide either this or code)\"\n                },\n                \"code\": {\n             \
        \       \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Quest
        code (provide either this or definitionId)\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/QuestDefinitionResponse\"\
        ,\n    \"$defs\": {\n        \"QuestDefinitionResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"definitionId\",\n                \"contractTemplateId\",\n\
        \                \"code\",\n                \"name\",\n                \"category\",\n                \"difficulty\"\
        ,\n                \"repeatable\",\n                \"maxQuestors\",\n                \"objectives\",\n          \
        \      \"deprecated\",\n                \"createdAt\",\n                \"gameServiceId\"\n            ],\n      \
        \      \"properties\": {\n                \"definitionId\": {\n                    \"type\": \"string\",\n       \
        \             \"format\": \"uuid\",\n                    \"description\": \"Unique quest definition ID\"\n       \
        \         },\n                \"contractTemplateId\": {\n                    \"type\": \"string\",\n             \
        \       \"format\": \"uuid\",\n                    \"description\": \"Underlying contract template ID\"\n        \
        \        },\n                \"code\": {\n                    \"type\": \"string\",\n                    \"description\"\
        : \"Quest code\"\n                },\n                \"name\": {\n                    \"type\": \"string\",\n   \
        \                 \"description\": \"Quest name\"\n                },\n                \"description\": {\n      \
        \              \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Quest description\"\n                },\n                \"category\": {\n                    \"$ref\": \"#/$defs/QuestCategory\"\
        \n                },\n                \"difficulty\": {\n                    \"$ref\": \"#/$defs/QuestDifficulty\"\
        \n                },\n                \"levelRequirement\": {\n                    \"type\": \"integer\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Minimum level required\"\n            \
        \    },\n                \"repeatable\": {\n                    \"type\": \"boolean\",\n                    \"description\"\
        : \"Whether repeatable\"\n                },\n                \"cooldownSeconds\": {\n                    \"type\"\
        : \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Cooldown for repeatable
        quests\"\n                },\n                \"deadlineSeconds\": {\n                    \"type\": \"integer\",\n\
        \                    \"nullable\": true,\n                    \"description\": \"Time limit\"\n                },\n\
        \                \"maxQuestors\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Max party size\"\n                },\n                \"objectives\": {\n                    \"type\": \"array\"\
        ,\n                    \"items\": {\n                        \"$ref\": \"#/$defs/ObjectiveDefinition\"\n         \
        \           },\n                    \"description\": \"Quest objectives\"\n                },\n                \"\
        prerequisites\": {\n                    \"type\": \"array\",\n                    \"nullable\": true,\n          \
        \          \"items\": {\n                        \"$ref\": \"#/$defs/PrerequisiteDefinition\"\n                  \
        \  },\n                    \"description\": \"Prerequisites\"\n                },\n                \"rewards\": {\n\
        \                    \"type\": \"array\",\n                    \"nullable\": true,\n                    \"items\"\
        : {\n                        \"$ref\": \"#/$defs/RewardDefinition\"\n                    },\n                    \"\
        description\": \"Rewards\"\n                },\n                \"tags\": {\n                    \"type\": \"array\"\
        ,\n                    \"nullable\": true,\n                    \"items\": {\n                        \"type\": \"\
        string\"\n                    },\n                    \"description\": \"Tags\"\n                },\n            \
        \    \"deprecated\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether
        deprecated\"\n                },\n                \"createdAt\": {\n                    \"type\": \"string\",\n  \
        \                  \"format\": \"date-time\",\n                    \"description\": \"Creation timestamp\"\n     \
        \           },\n                \"gameServiceId\": {\n                    \"type\": \"string\",\n                \
        \    \"format\": \"uuid\",\n                    \"description\": \"Game service ID\"\n                }\n        \
        \    }\n        },\n        \"QuestCategory\": {\n            \"type\": \"string\",\n            \"enum\": [\n   \
        \             \"MAIN\",\n                \"SIDE\",\n                \"BOUNTY\",\n                \"DAILY\",\n    \
        \            \"WEEKLY\",\n                \"EVENT\",\n                \"TUTORIAL\"\n            ],\n            \"\
        description\": \"Category of quest for organization\"\n        },\n        \"QuestDifficulty\": {\n            \"\
        type\": \"string\",\n            \"enum\": [\n                \"TRIVIAL\",\n                \"EASY\",\n          \
        \      \"NORMAL\",\n                \"HARD\",\n                \"HEROIC\",\n                \"LEGENDARY\"\n      \
        \      ],\n            \"description\": \"Difficulty rating of the quest\"\n        },\n        \"ObjectiveDefinition\"\
        : {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n\
        \                \"code\",\n                \"name\",\n                \"objectiveType\",\n                \"requiredCount\"\
        \n            ],\n            \"properties\": {\n                \"code\": {\n                    \"type\": \"string\"\
        ,\n                    \"description\": \"Unique objective code within quest\"\n                },\n             \
        \   \"name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Display name of
        the objective\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\
        ,\n                    \"nullable\": true,\n                    \"description\": \"Objective description\"\n     \
        \           },\n                \"objectiveType\": {\n                    \"$ref\": \"#/$defs/ObjectiveType\"\n  \
        \              },\n                \"requiredCount\": {\n                    \"type\": \"integer\",\n            \
        \        \"description\": \"Count needed to complete\"\n                },\n                \"targetEntityType\":
        {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Entity type for kill/collect objectives\"\n                },\n                \"targetEntitySubtype\": {\n  \
        \                  \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Subtype filter (e.g., species:wolf)\"\n                },\n                \"targetLocationId\": {\n         \
        \           \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n\
        \                    \"description\": \"Location for travel/deliver objectives\"\n                },\n           \
        \     \"hidden\": {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n       \
        \             \"description\": \"Whether objective is hidden initially\"\n                },\n                \"revealBehavior\"\
        : {\n                    \"$ref\": \"#/$defs/ObjectiveRevealBehavior\"\n                },\n                \"optional\"\
        : {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"description\"\
        : \"Whether objective is optional for completion\"\n                }\n            }\n        },\n        \"ObjectiveType\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"KILL\",\n                \"COLLECT\"\
        ,\n                \"DELIVER\",\n                \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\"\
        ,\n                \"CRAFT\",\n                \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\
        \n            ],\n            \"description\": \"Type of objective determining progress tracking logic\"\n       \
        \ },\n        \"ObjectiveRevealBehavior\": {\n            \"type\": \"string\",\n            \"enum\": [\n       \
        \         \"ALWAYS\",\n                \"ON_PROGRESS\",\n                \"ON_COMPLETE\",\n                \"NEVER\"\
        \n            ],\n            \"description\": \"When a hidden objective is revealed in the quest log\"\n        },\n\
        \        \"PrerequisiteDefinition\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"type\"\n            ],\n            \"properties\": {\n          \
        \      \"type\": {\n                    \"$ref\": \"#/$defs/PrerequisiteType\"\n                },\n             \
        \   \"questCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n       \
        \             \"description\": \"Quest code for QUEST_COMPLETED type\"\n                },\n                \"minLevel\"\
        : {\n                    \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Minimum level for CHARACTER_LEVEL type\"\n                },\n                \"factionCode\": {\n           \
        \         \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"\
        Faction code for REPUTATION type\"\n                },\n                \"minReputation\": {\n                   \
        \ \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Minimum
        reputation for REPUTATION type\"\n                },\n                \"itemCode\": {\n                    \"type\"\
        : \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Item code for ITEM_OWNED
        type\"\n                },\n                \"currencyCode\": {\n                    \"type\": \"string\",\n     \
        \               \"nullable\": true,\n                    \"description\": \"Currency code for CURRENCY_AMOUNT type\"\
        \n                },\n                \"minAmount\": {\n                    \"type\": \"integer\",\n             \
        \       \"nullable\": true,\n                    \"description\": \"Minimum amount for CURRENCY_AMOUNT type\"\n  \
        \              }\n            }\n        },\n        \"PrerequisiteType\": {\n            \"type\": \"string\",\n\
        \            \"enum\": [\n                \"QUEST_COMPLETED\",\n                \"CHARACTER_LEVEL\",\n           \
        \     \"REPUTATION\",\n                \"ITEM_OWNED\",\n                \"CURRENCY_AMOUNT\"\n            ],\n    \
        \        \"description\": \"Type of prerequisite check\"\n        },\n        \"RewardDefinition\": {\n          \
        \  \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n            \
        \    \"type\"\n            ],\n            \"properties\": {\n                \"type\": {\n                    \"\
        type\": \"string\",\n                    \"enum\": [\n                        \"CURRENCY\",\n                    \
        \    \"ITEM\",\n                        \"EXPERIENCE\",\n                        \"REPUTATION\"\n                \
        \    ],\n                    \"description\": \"Type of reward\"\n                },\n                \"currencyCode\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Currency code for CURRENCY rewards\"\n                },\n                \"amount\": {\n                    \"\
        type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Amount for CURRENCY/EXPERIENCE
        rewards\"\n                },\n                \"itemCode\": {\n                    \"type\": \"string\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Item code for ITEM rewards\"\n        \
        \        },\n                \"quantity\": {\n                    \"type\": \"integer\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"Quantity for ITEM rewards\"\n                },\n                \"\
        factionCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n           \
        \         \"description\": \"Faction code for REPUTATION rewards\"\n                }\n            }\n        }\n\
        \    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Get quest definition by ID or code\",\n    \"description\": \"Retrieves
        a quest definition by its unique identifier or code.\",\n    \"tags\": [\n        \"Definitions\"\n    ],\n    \"\
        deprecated\": false,\n    \"operationId\": \"getQuestDefinition\"\n}"
  /quest/definition/list:
    post:
      operationId: listQuestDefinitions
      tags:
      - Definitions
      summary: List quest definitions with filtering
      description: Lists quest definitions with optional filtering by category, difficulty, tags.
      x-permissions:
      - role: user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ListQuestDefinitionsRequest'
      responses:
        '200':
          description: Quest definitions retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListQuestDefinitionsResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListQuestDefinitionsRequest\"\
        ,\n    \"$defs\": {\n        \"ListQuestDefinitionsRequest\": {\n            \"type\": \"object\",\n            \"\
        additionalProperties\": false,\n            \"properties\": {\n                \"gameServiceId\": {\n            \
        \        \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n\
        \                    \"description\": \"Filter by game service\"\n                },\n                \"category\"\
        : {\n                    \"$ref\": \"#/$defs/QuestCategory\"\n                },\n                \"difficulty\":
        {\n                    \"$ref\": \"#/$defs/QuestDifficulty\"\n                },\n                \"tags\": {\n  \
        \                  \"type\": \"array\",\n                    \"nullable\": true,\n                    \"items\": {\n\
        \                        \"type\": \"string\"\n                    },\n                    \"description\": \"Filter
        by tags (any match)\"\n                },\n                \"includeDeprecated\": {\n                    \"type\"\
        : \"boolean\",\n                    \"default\": false,\n                    \"description\": \"Include deprecated
        definitions\"\n                },\n                \"limit\": {\n                    \"type\": \"integer\",\n    \
        \                \"default\": 50,\n                    \"description\": \"Max results\"\n                },\n    \
        \            \"offset\": {\n                    \"type\": \"integer\",\n                    \"default\": 0,\n    \
        \                \"description\": \"Pagination offset\"\n                }\n            }\n        },\n        \"\
        QuestCategory\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"MAIN\",\n      \
        \          \"SIDE\",\n                \"BOUNTY\",\n                \"DAILY\",\n                \"WEEKLY\",\n     \
        \           \"EVENT\",\n                \"TUTORIAL\"\n            ],\n            \"description\": \"Category of quest
        for organization\"\n        },\n        \"QuestDifficulty\": {\n            \"type\": \"string\",\n            \"\
        enum\": [\n                \"TRIVIAL\",\n                \"EASY\",\n                \"NORMAL\",\n                \"\
        HARD\",\n                \"HEROIC\",\n                \"LEGENDARY\"\n            ],\n            \"description\":
        \"Difficulty rating of the quest\"\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListQuestDefinitionsResponse\"\
        ,\n    \"$defs\": {\n        \"ListQuestDefinitionsResponse\": {\n            \"type\": \"object\",\n            \"\
        additionalProperties\": false,\n            \"required\": [\n                \"definitions\",\n                \"\
        total\"\n            ],\n            \"properties\": {\n                \"definitions\": {\n                    \"\
        type\": \"array\",\n                    \"items\": {\n                        \"$ref\": \"#/$defs/QuestDefinitionResponse\"\
        \n                    },\n                    \"description\": \"List of definitions\"\n                },\n     \
        \           \"total\": {\n                    \"type\": \"integer\",\n                    \"description\": \"Total
        count for pagination\"\n                }\n            }\n        },\n        \"QuestDefinitionResponse\": {\n   \
        \         \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n     \
        \           \"definitionId\",\n                \"contractTemplateId\",\n                \"code\",\n              \
        \  \"name\",\n                \"category\",\n                \"difficulty\",\n                \"repeatable\",\n  \
        \              \"maxQuestors\",\n                \"objectives\",\n                \"deprecated\",\n              \
        \  \"createdAt\",\n                \"gameServiceId\"\n            ],\n            \"properties\": {\n            \
        \    \"definitionId\": {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n \
        \                   \"description\": \"Unique quest definition ID\"\n                },\n                \"contractTemplateId\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"\
        description\": \"Underlying contract template ID\"\n                },\n                \"code\": {\n            \
        \        \"type\": \"string\",\n                    \"description\": \"Quest code\"\n                },\n        \
        \        \"name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Quest name\"\
        \n                },\n                \"description\": {\n                    \"type\": \"string\",\n            \
        \        \"nullable\": true,\n                    \"description\": \"Quest description\"\n                },\n   \
        \             \"category\": {\n                    \"$ref\": \"#/$defs/QuestCategory\"\n                },\n     \
        \           \"difficulty\": {\n                    \"$ref\": \"#/$defs/QuestDifficulty\"\n                },\n   \
        \             \"levelRequirement\": {\n                    \"type\": \"integer\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"Minimum level required\"\n                },\n                \"repeatable\"\
        : {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether repeatable\"\n   \
        \             },\n                \"cooldownSeconds\": {\n                    \"type\": \"integer\",\n           \
        \         \"nullable\": true,\n                    \"description\": \"Cooldown for repeatable quests\"\n         \
        \       },\n                \"deadlineSeconds\": {\n                    \"type\": \"integer\",\n                 \
        \   \"nullable\": true,\n                    \"description\": \"Time limit\"\n                },\n               \
        \ \"maxQuestors\": {\n                    \"type\": \"integer\",\n                    \"description\": \"Max party
        size\"\n                },\n                \"objectives\": {\n                    \"type\": \"array\",\n        \
        \            \"items\": {\n                        \"$ref\": \"#/$defs/ObjectiveDefinition\"\n                   \
        \ },\n                    \"description\": \"Quest objectives\"\n                },\n                \"prerequisites\"\
        : {\n                    \"type\": \"array\",\n                    \"nullable\": true,\n                    \"items\"\
        : {\n                        \"$ref\": \"#/$defs/PrerequisiteDefinition\"\n                    },\n              \
        \      \"description\": \"Prerequisites\"\n                },\n                \"rewards\": {\n                  \
        \  \"type\": \"array\",\n                    \"nullable\": true,\n                    \"items\": {\n             \
        \           \"$ref\": \"#/$defs/RewardDefinition\"\n                    },\n                    \"description\": \"\
        Rewards\"\n                },\n                \"tags\": {\n                    \"type\": \"array\",\n           \
        \         \"nullable\": true,\n                    \"items\": {\n                        \"type\": \"string\"\n  \
        \                  },\n                    \"description\": \"Tags\"\n                },\n                \"deprecated\"\
        : {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether deprecated\"\n   \
        \             },\n                \"createdAt\": {\n                    \"type\": \"string\",\n                  \
        \  \"format\": \"date-time\",\n                    \"description\": \"Creation timestamp\"\n                },\n \
        \               \"gameServiceId\": {\n                    \"type\": \"string\",\n                    \"format\": \"\
        uuid\",\n                    \"description\": \"Game service ID\"\n                }\n            }\n        },\n\
        \        \"QuestCategory\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"MAIN\"\
        ,\n                \"SIDE\",\n                \"BOUNTY\",\n                \"DAILY\",\n                \"WEEKLY\"\
        ,\n                \"EVENT\",\n                \"TUTORIAL\"\n            ],\n            \"description\": \"Category
        of quest for organization\"\n        },\n        \"QuestDifficulty\": {\n            \"type\": \"string\",\n     \
        \       \"enum\": [\n                \"TRIVIAL\",\n                \"EASY\",\n                \"NORMAL\",\n      \
        \          \"HARD\",\n                \"HEROIC\",\n                \"LEGENDARY\"\n            ],\n            \"description\"\
        : \"Difficulty rating of the quest\"\n        },\n        \"ObjectiveDefinition\": {\n            \"type\": \"object\"\
        ,\n            \"additionalProperties\": false,\n            \"required\": [\n                \"code\",\n        \
        \        \"name\",\n                \"objectiveType\",\n                \"requiredCount\"\n            ],\n      \
        \      \"properties\": {\n                \"code\": {\n                    \"type\": \"string\",\n               \
        \     \"description\": \"Unique objective code within quest\"\n                },\n                \"name\": {\n \
        \                   \"type\": \"string\",\n                    \"description\": \"Display name of the objective\"\n\
        \                },\n                \"description\": {\n                    \"type\": \"string\",\n             \
        \       \"nullable\": true,\n                    \"description\": \"Objective description\"\n                },\n\
        \                \"objectiveType\": {\n                    \"$ref\": \"#/$defs/ObjectiveType\"\n                },\n\
        \                \"requiredCount\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Count needed to complete\"\n                },\n                \"targetEntityType\": {\n                    \"\
        type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Entity type for
        kill/collect objectives\"\n                },\n                \"targetEntitySubtype\": {\n                    \"\
        type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Subtype filter
        (e.g., species:wolf)\"\n                },\n                \"targetLocationId\": {\n                    \"type\"\
        : \"string\",\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n              \
        \      \"description\": \"Location for travel/deliver objectives\"\n                },\n                \"hidden\"\
        : {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"description\"\
        : \"Whether objective is hidden initially\"\n                },\n                \"revealBehavior\": {\n         \
        \           \"$ref\": \"#/$defs/ObjectiveRevealBehavior\"\n                },\n                \"optional\": {\n \
        \                   \"type\": \"boolean\",\n                    \"default\": false,\n                    \"description\"\
        : \"Whether objective is optional for completion\"\n                }\n            }\n        },\n        \"ObjectiveType\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"KILL\",\n                \"COLLECT\"\
        ,\n                \"DELIVER\",\n                \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\"\
        ,\n                \"CRAFT\",\n                \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\
        \n            ],\n            \"description\": \"Type of objective determining progress tracking logic\"\n       \
        \ },\n        \"ObjectiveRevealBehavior\": {\n            \"type\": \"string\",\n            \"enum\": [\n       \
        \         \"ALWAYS\",\n                \"ON_PROGRESS\",\n                \"ON_COMPLETE\",\n                \"NEVER\"\
        \n            ],\n            \"description\": \"When a hidden objective is revealed in the quest log\"\n        },\n\
        \        \"PrerequisiteDefinition\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"type\"\n            ],\n            \"properties\": {\n          \
        \      \"type\": {\n                    \"$ref\": \"#/$defs/PrerequisiteType\"\n                },\n             \
        \   \"questCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n       \
        \             \"description\": \"Quest code for QUEST_COMPLETED type\"\n                },\n                \"minLevel\"\
        : {\n                    \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Minimum level for CHARACTER_LEVEL type\"\n                },\n                \"factionCode\": {\n           \
        \         \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"\
        Faction code for REPUTATION type\"\n                },\n                \"minReputation\": {\n                   \
        \ \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Minimum
        reputation for REPUTATION type\"\n                },\n                \"itemCode\": {\n                    \"type\"\
        : \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Item code for ITEM_OWNED
        type\"\n                },\n                \"currencyCode\": {\n                    \"type\": \"string\",\n     \
        \               \"nullable\": true,\n                    \"description\": \"Currency code for CURRENCY_AMOUNT type\"\
        \n                },\n                \"minAmount\": {\n                    \"type\": \"integer\",\n             \
        \       \"nullable\": true,\n                    \"description\": \"Minimum amount for CURRENCY_AMOUNT type\"\n  \
        \              }\n            }\n        },\n        \"PrerequisiteType\": {\n            \"type\": \"string\",\n\
        \            \"enum\": [\n                \"QUEST_COMPLETED\",\n                \"CHARACTER_LEVEL\",\n           \
        \     \"REPUTATION\",\n                \"ITEM_OWNED\",\n                \"CURRENCY_AMOUNT\"\n            ],\n    \
        \        \"description\": \"Type of prerequisite check\"\n        },\n        \"RewardDefinition\": {\n          \
        \  \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n            \
        \    \"type\"\n            ],\n            \"properties\": {\n                \"type\": {\n                    \"\
        type\": \"string\",\n                    \"enum\": [\n                        \"CURRENCY\",\n                    \
        \    \"ITEM\",\n                        \"EXPERIENCE\",\n                        \"REPUTATION\"\n                \
        \    ],\n                    \"description\": \"Type of reward\"\n                },\n                \"currencyCode\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Currency code for CURRENCY rewards\"\n                },\n                \"amount\": {\n                    \"\
        type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Amount for CURRENCY/EXPERIENCE
        rewards\"\n                },\n                \"itemCode\": {\n                    \"type\": \"string\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Item code for ITEM rewards\"\n        \
        \        },\n                \"quantity\": {\n                    \"type\": \"integer\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"Quantity for ITEM rewards\"\n                },\n                \"\
        factionCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n           \
        \         \"description\": \"Faction code for REPUTATION rewards\"\n                }\n            }\n        }\n\
        \    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"List quest definitions with filtering\",\n    \"description\": \"Lists
        quest definitions with optional filtering by category, difficulty, tags.\",\n    \"tags\": [\n        \"Definitions\"\
        \n    ],\n    \"deprecated\": false,\n    \"operationId\": \"listQuestDefinitions\"\n}"
  /quest/definition/update:
    post:
      operationId: updateQuestDefinition
      tags:
      - Definitions
      summary: Update quest definition metadata
      description: Updates quest metadata (not contract template - that's immutable).
      x-permissions:
      - role: developer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateQuestDefinitionRequest'
      responses:
        '200':
          description: Quest definition updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestDefinitionResponse'
        '404':
          description: Quest definition not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/UpdateQuestDefinitionRequest\"\
        ,\n    \"$defs\": {\n        \"UpdateQuestDefinitionRequest\": {\n            \"type\": \"object\",\n            \"\
        additionalProperties\": false,\n            \"required\": [\n                \"definitionId\"\n            ],\n  \
        \          \"properties\": {\n                \"definitionId\": {\n                    \"type\": \"string\",\n   \
        \                 \"format\": \"uuid\",\n                    \"description\": \"Definition to update\"\n         \
        \       },\n                \"name\": {\n                    \"type\": \"string\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"New name\"\n                },\n                \"description\": {\n\
        \                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"New description\"\n                },\n                \"category\": {\n                    \"$ref\": \"#/$defs/QuestCategory\"\
        \n                },\n                \"difficulty\": {\n                    \"$ref\": \"#/$defs/QuestDifficulty\"\
        \n                },\n                \"tags\": {\n                    \"type\": \"array\",\n                    \"\
        nullable\": true,\n                    \"items\": {\n                        \"type\": \"string\"\n              \
        \      },\n                    \"description\": \"New tags\"\n                }\n            }\n        },\n     \
        \   \"QuestCategory\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"MAIN\",\n\
        \                \"SIDE\",\n                \"BOUNTY\",\n                \"DAILY\",\n                \"WEEKLY\",\n\
        \                \"EVENT\",\n                \"TUTORIAL\"\n            ],\n            \"description\": \"Category
        of quest for organization\"\n        },\n        \"QuestDifficulty\": {\n            \"type\": \"string\",\n     \
        \       \"enum\": [\n                \"TRIVIAL\",\n                \"EASY\",\n                \"NORMAL\",\n      \
        \          \"HARD\",\n                \"HEROIC\",\n                \"LEGENDARY\"\n            ],\n            \"description\"\
        : \"Difficulty rating of the quest\"\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/QuestDefinitionResponse\"\
        ,\n    \"$defs\": {\n        \"QuestDefinitionResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"definitionId\",\n                \"contractTemplateId\",\n\
        \                \"code\",\n                \"name\",\n                \"category\",\n                \"difficulty\"\
        ,\n                \"repeatable\",\n                \"maxQuestors\",\n                \"objectives\",\n          \
        \      \"deprecated\",\n                \"createdAt\",\n                \"gameServiceId\"\n            ],\n      \
        \      \"properties\": {\n                \"definitionId\": {\n                    \"type\": \"string\",\n       \
        \             \"format\": \"uuid\",\n                    \"description\": \"Unique quest definition ID\"\n       \
        \         },\n                \"contractTemplateId\": {\n                    \"type\": \"string\",\n             \
        \       \"format\": \"uuid\",\n                    \"description\": \"Underlying contract template ID\"\n        \
        \        },\n                \"code\": {\n                    \"type\": \"string\",\n                    \"description\"\
        : \"Quest code\"\n                },\n                \"name\": {\n                    \"type\": \"string\",\n   \
        \                 \"description\": \"Quest name\"\n                },\n                \"description\": {\n      \
        \              \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Quest description\"\n                },\n                \"category\": {\n                    \"$ref\": \"#/$defs/QuestCategory\"\
        \n                },\n                \"difficulty\": {\n                    \"$ref\": \"#/$defs/QuestDifficulty\"\
        \n                },\n                \"levelRequirement\": {\n                    \"type\": \"integer\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Minimum level required\"\n            \
        \    },\n                \"repeatable\": {\n                    \"type\": \"boolean\",\n                    \"description\"\
        : \"Whether repeatable\"\n                },\n                \"cooldownSeconds\": {\n                    \"type\"\
        : \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Cooldown for repeatable
        quests\"\n                },\n                \"deadlineSeconds\": {\n                    \"type\": \"integer\",\n\
        \                    \"nullable\": true,\n                    \"description\": \"Time limit\"\n                },\n\
        \                \"maxQuestors\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Max party size\"\n                },\n                \"objectives\": {\n                    \"type\": \"array\"\
        ,\n                    \"items\": {\n                        \"$ref\": \"#/$defs/ObjectiveDefinition\"\n         \
        \           },\n                    \"description\": \"Quest objectives\"\n                },\n                \"\
        prerequisites\": {\n                    \"type\": \"array\",\n                    \"nullable\": true,\n          \
        \          \"items\": {\n                        \"$ref\": \"#/$defs/PrerequisiteDefinition\"\n                  \
        \  },\n                    \"description\": \"Prerequisites\"\n                },\n                \"rewards\": {\n\
        \                    \"type\": \"array\",\n                    \"nullable\": true,\n                    \"items\"\
        : {\n                        \"$ref\": \"#/$defs/RewardDefinition\"\n                    },\n                    \"\
        description\": \"Rewards\"\n                },\n                \"tags\": {\n                    \"type\": \"array\"\
        ,\n                    \"nullable\": true,\n                    \"items\": {\n                        \"type\": \"\
        string\"\n                    },\n                    \"description\": \"Tags\"\n                },\n            \
        \    \"deprecated\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether
        deprecated\"\n                },\n                \"createdAt\": {\n                    \"type\": \"string\",\n  \
        \                  \"format\": \"date-time\",\n                    \"description\": \"Creation timestamp\"\n     \
        \           },\n                \"gameServiceId\": {\n                    \"type\": \"string\",\n                \
        \    \"format\": \"uuid\",\n                    \"description\": \"Game service ID\"\n                }\n        \
        \    }\n        },\n        \"QuestCategory\": {\n            \"type\": \"string\",\n            \"enum\": [\n   \
        \             \"MAIN\",\n                \"SIDE\",\n                \"BOUNTY\",\n                \"DAILY\",\n    \
        \            \"WEEKLY\",\n                \"EVENT\",\n                \"TUTORIAL\"\n            ],\n            \"\
        description\": \"Category of quest for organization\"\n        },\n        \"QuestDifficulty\": {\n            \"\
        type\": \"string\",\n            \"enum\": [\n                \"TRIVIAL\",\n                \"EASY\",\n          \
        \      \"NORMAL\",\n                \"HARD\",\n                \"HEROIC\",\n                \"LEGENDARY\"\n      \
        \      ],\n            \"description\": \"Difficulty rating of the quest\"\n        },\n        \"ObjectiveDefinition\"\
        : {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n\
        \                \"code\",\n                \"name\",\n                \"objectiveType\",\n                \"requiredCount\"\
        \n            ],\n            \"properties\": {\n                \"code\": {\n                    \"type\": \"string\"\
        ,\n                    \"description\": \"Unique objective code within quest\"\n                },\n             \
        \   \"name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Display name of
        the objective\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\
        ,\n                    \"nullable\": true,\n                    \"description\": \"Objective description\"\n     \
        \           },\n                \"objectiveType\": {\n                    \"$ref\": \"#/$defs/ObjectiveType\"\n  \
        \              },\n                \"requiredCount\": {\n                    \"type\": \"integer\",\n            \
        \        \"description\": \"Count needed to complete\"\n                },\n                \"targetEntityType\":
        {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Entity type for kill/collect objectives\"\n                },\n                \"targetEntitySubtype\": {\n  \
        \                  \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Subtype filter (e.g., species:wolf)\"\n                },\n                \"targetLocationId\": {\n         \
        \           \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n\
        \                    \"description\": \"Location for travel/deliver objectives\"\n                },\n           \
        \     \"hidden\": {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n       \
        \             \"description\": \"Whether objective is hidden initially\"\n                },\n                \"revealBehavior\"\
        : {\n                    \"$ref\": \"#/$defs/ObjectiveRevealBehavior\"\n                },\n                \"optional\"\
        : {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"description\"\
        : \"Whether objective is optional for completion\"\n                }\n            }\n        },\n        \"ObjectiveType\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"KILL\",\n                \"COLLECT\"\
        ,\n                \"DELIVER\",\n                \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\"\
        ,\n                \"CRAFT\",\n                \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\
        \n            ],\n            \"description\": \"Type of objective determining progress tracking logic\"\n       \
        \ },\n        \"ObjectiveRevealBehavior\": {\n            \"type\": \"string\",\n            \"enum\": [\n       \
        \         \"ALWAYS\",\n                \"ON_PROGRESS\",\n                \"ON_COMPLETE\",\n                \"NEVER\"\
        \n            ],\n            \"description\": \"When a hidden objective is revealed in the quest log\"\n        },\n\
        \        \"PrerequisiteDefinition\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"type\"\n            ],\n            \"properties\": {\n          \
        \      \"type\": {\n                    \"$ref\": \"#/$defs/PrerequisiteType\"\n                },\n             \
        \   \"questCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n       \
        \             \"description\": \"Quest code for QUEST_COMPLETED type\"\n                },\n                \"minLevel\"\
        : {\n                    \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Minimum level for CHARACTER_LEVEL type\"\n                },\n                \"factionCode\": {\n           \
        \         \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"\
        Faction code for REPUTATION type\"\n                },\n                \"minReputation\": {\n                   \
        \ \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Minimum
        reputation for REPUTATION type\"\n                },\n                \"itemCode\": {\n                    \"type\"\
        : \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Item code for ITEM_OWNED
        type\"\n                },\n                \"currencyCode\": {\n                    \"type\": \"string\",\n     \
        \               \"nullable\": true,\n                    \"description\": \"Currency code for CURRENCY_AMOUNT type\"\
        \n                },\n                \"minAmount\": {\n                    \"type\": \"integer\",\n             \
        \       \"nullable\": true,\n                    \"description\": \"Minimum amount for CURRENCY_AMOUNT type\"\n  \
        \              }\n            }\n        },\n        \"PrerequisiteType\": {\n            \"type\": \"string\",\n\
        \            \"enum\": [\n                \"QUEST_COMPLETED\",\n                \"CHARACTER_LEVEL\",\n           \
        \     \"REPUTATION\",\n                \"ITEM_OWNED\",\n                \"CURRENCY_AMOUNT\"\n            ],\n    \
        \        \"description\": \"Type of prerequisite check\"\n        },\n        \"RewardDefinition\": {\n          \
        \  \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n            \
        \    \"type\"\n            ],\n            \"properties\": {\n                \"type\": {\n                    \"\
        type\": \"string\",\n                    \"enum\": [\n                        \"CURRENCY\",\n                    \
        \    \"ITEM\",\n                        \"EXPERIENCE\",\n                        \"REPUTATION\"\n                \
        \    ],\n                    \"description\": \"Type of reward\"\n                },\n                \"currencyCode\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Currency code for CURRENCY rewards\"\n                },\n                \"amount\": {\n                    \"\
        type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Amount for CURRENCY/EXPERIENCE
        rewards\"\n                },\n                \"itemCode\": {\n                    \"type\": \"string\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Item code for ITEM rewards\"\n        \
        \        },\n                \"quantity\": {\n                    \"type\": \"integer\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"Quantity for ITEM rewards\"\n                },\n                \"\
        factionCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n           \
        \         \"description\": \"Faction code for REPUTATION rewards\"\n                }\n            }\n        }\n\
        \    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Update quest definition metadata\",\n    \"description\": \"Updates quest
        metadata (not contract template - that's immutable).\",\n    \"tags\": [\n        \"Definitions\"\n    ],\n    \"\
        deprecated\": false,\n    \"operationId\": \"updateQuestDefinition\"\n}"
  /quest/definition/deprecate:
    post:
      operationId: deprecateQuestDefinition
      tags:
      - Definitions
      summary: Mark quest definition as deprecated
      description: Marks a quest definition as deprecated. No new instances can be created.
      x-permissions:
      - role: developer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeprecateQuestDefinitionRequest'
      responses:
        '200':
          description: Quest definition deprecated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestDefinitionResponse'
        '404':
          description: Quest definition not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/DeprecateQuestDefinitionRequest\"\
        ,\n    \"$defs\": {\n        \"DeprecateQuestDefinitionRequest\": {\n            \"type\": \"object\",\n         \
        \   \"additionalProperties\": false,\n            \"required\": [\n                \"definitionId\"\n            ],\n\
        \            \"properties\": {\n                \"definitionId\": {\n                    \"type\": \"string\",\n \
        \                   \"format\": \"uuid\",\n                    \"description\": \"Definition to deprecate\"\n    \
        \            }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/QuestDefinitionResponse\"\
        ,\n    \"$defs\": {\n        \"QuestDefinitionResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"definitionId\",\n                \"contractTemplateId\",\n\
        \                \"code\",\n                \"name\",\n                \"category\",\n                \"difficulty\"\
        ,\n                \"repeatable\",\n                \"maxQuestors\",\n                \"objectives\",\n          \
        \      \"deprecated\",\n                \"createdAt\",\n                \"gameServiceId\"\n            ],\n      \
        \      \"properties\": {\n                \"definitionId\": {\n                    \"type\": \"string\",\n       \
        \             \"format\": \"uuid\",\n                    \"description\": \"Unique quest definition ID\"\n       \
        \         },\n                \"contractTemplateId\": {\n                    \"type\": \"string\",\n             \
        \       \"format\": \"uuid\",\n                    \"description\": \"Underlying contract template ID\"\n        \
        \        },\n                \"code\": {\n                    \"type\": \"string\",\n                    \"description\"\
        : \"Quest code\"\n                },\n                \"name\": {\n                    \"type\": \"string\",\n   \
        \                 \"description\": \"Quest name\"\n                },\n                \"description\": {\n      \
        \              \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Quest description\"\n                },\n                \"category\": {\n                    \"$ref\": \"#/$defs/QuestCategory\"\
        \n                },\n                \"difficulty\": {\n                    \"$ref\": \"#/$defs/QuestDifficulty\"\
        \n                },\n                \"levelRequirement\": {\n                    \"type\": \"integer\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Minimum level required\"\n            \
        \    },\n                \"repeatable\": {\n                    \"type\": \"boolean\",\n                    \"description\"\
        : \"Whether repeatable\"\n                },\n                \"cooldownSeconds\": {\n                    \"type\"\
        : \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Cooldown for repeatable
        quests\"\n                },\n                \"deadlineSeconds\": {\n                    \"type\": \"integer\",\n\
        \                    \"nullable\": true,\n                    \"description\": \"Time limit\"\n                },\n\
        \                \"maxQuestors\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Max party size\"\n                },\n                \"objectives\": {\n                    \"type\": \"array\"\
        ,\n                    \"items\": {\n                        \"$ref\": \"#/$defs/ObjectiveDefinition\"\n         \
        \           },\n                    \"description\": \"Quest objectives\"\n                },\n                \"\
        prerequisites\": {\n                    \"type\": \"array\",\n                    \"nullable\": true,\n          \
        \          \"items\": {\n                        \"$ref\": \"#/$defs/PrerequisiteDefinition\"\n                  \
        \  },\n                    \"description\": \"Prerequisites\"\n                },\n                \"rewards\": {\n\
        \                    \"type\": \"array\",\n                    \"nullable\": true,\n                    \"items\"\
        : {\n                        \"$ref\": \"#/$defs/RewardDefinition\"\n                    },\n                    \"\
        description\": \"Rewards\"\n                },\n                \"tags\": {\n                    \"type\": \"array\"\
        ,\n                    \"nullable\": true,\n                    \"items\": {\n                        \"type\": \"\
        string\"\n                    },\n                    \"description\": \"Tags\"\n                },\n            \
        \    \"deprecated\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether
        deprecated\"\n                },\n                \"createdAt\": {\n                    \"type\": \"string\",\n  \
        \                  \"format\": \"date-time\",\n                    \"description\": \"Creation timestamp\"\n     \
        \           },\n                \"gameServiceId\": {\n                    \"type\": \"string\",\n                \
        \    \"format\": \"uuid\",\n                    \"description\": \"Game service ID\"\n                }\n        \
        \    }\n        },\n        \"QuestCategory\": {\n            \"type\": \"string\",\n            \"enum\": [\n   \
        \             \"MAIN\",\n                \"SIDE\",\n                \"BOUNTY\",\n                \"DAILY\",\n    \
        \            \"WEEKLY\",\n                \"EVENT\",\n                \"TUTORIAL\"\n            ],\n            \"\
        description\": \"Category of quest for organization\"\n        },\n        \"QuestDifficulty\": {\n            \"\
        type\": \"string\",\n            \"enum\": [\n                \"TRIVIAL\",\n                \"EASY\",\n          \
        \      \"NORMAL\",\n                \"HARD\",\n                \"HEROIC\",\n                \"LEGENDARY\"\n      \
        \      ],\n            \"description\": \"Difficulty rating of the quest\"\n        },\n        \"ObjectiveDefinition\"\
        : {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n\
        \                \"code\",\n                \"name\",\n                \"objectiveType\",\n                \"requiredCount\"\
        \n            ],\n            \"properties\": {\n                \"code\": {\n                    \"type\": \"string\"\
        ,\n                    \"description\": \"Unique objective code within quest\"\n                },\n             \
        \   \"name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Display name of
        the objective\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\
        ,\n                    \"nullable\": true,\n                    \"description\": \"Objective description\"\n     \
        \           },\n                \"objectiveType\": {\n                    \"$ref\": \"#/$defs/ObjectiveType\"\n  \
        \              },\n                \"requiredCount\": {\n                    \"type\": \"integer\",\n            \
        \        \"description\": \"Count needed to complete\"\n                },\n                \"targetEntityType\":
        {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Entity type for kill/collect objectives\"\n                },\n                \"targetEntitySubtype\": {\n  \
        \                  \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Subtype filter (e.g., species:wolf)\"\n                },\n                \"targetLocationId\": {\n         \
        \           \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n\
        \                    \"description\": \"Location for travel/deliver objectives\"\n                },\n           \
        \     \"hidden\": {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n       \
        \             \"description\": \"Whether objective is hidden initially\"\n                },\n                \"revealBehavior\"\
        : {\n                    \"$ref\": \"#/$defs/ObjectiveRevealBehavior\"\n                },\n                \"optional\"\
        : {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"description\"\
        : \"Whether objective is optional for completion\"\n                }\n            }\n        },\n        \"ObjectiveType\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"KILL\",\n                \"COLLECT\"\
        ,\n                \"DELIVER\",\n                \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\"\
        ,\n                \"CRAFT\",\n                \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\
        \n            ],\n            \"description\": \"Type of objective determining progress tracking logic\"\n       \
        \ },\n        \"ObjectiveRevealBehavior\": {\n            \"type\": \"string\",\n            \"enum\": [\n       \
        \         \"ALWAYS\",\n                \"ON_PROGRESS\",\n                \"ON_COMPLETE\",\n                \"NEVER\"\
        \n            ],\n            \"description\": \"When a hidden objective is revealed in the quest log\"\n        },\n\
        \        \"PrerequisiteDefinition\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"type\"\n            ],\n            \"properties\": {\n          \
        \      \"type\": {\n                    \"$ref\": \"#/$defs/PrerequisiteType\"\n                },\n             \
        \   \"questCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n       \
        \             \"description\": \"Quest code for QUEST_COMPLETED type\"\n                },\n                \"minLevel\"\
        : {\n                    \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Minimum level for CHARACTER_LEVEL type\"\n                },\n                \"factionCode\": {\n           \
        \         \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"\
        Faction code for REPUTATION type\"\n                },\n                \"minReputation\": {\n                   \
        \ \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Minimum
        reputation for REPUTATION type\"\n                },\n                \"itemCode\": {\n                    \"type\"\
        : \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Item code for ITEM_OWNED
        type\"\n                },\n                \"currencyCode\": {\n                    \"type\": \"string\",\n     \
        \               \"nullable\": true,\n                    \"description\": \"Currency code for CURRENCY_AMOUNT type\"\
        \n                },\n                \"minAmount\": {\n                    \"type\": \"integer\",\n             \
        \       \"nullable\": true,\n                    \"description\": \"Minimum amount for CURRENCY_AMOUNT type\"\n  \
        \              }\n            }\n        },\n        \"PrerequisiteType\": {\n            \"type\": \"string\",\n\
        \            \"enum\": [\n                \"QUEST_COMPLETED\",\n                \"CHARACTER_LEVEL\",\n           \
        \     \"REPUTATION\",\n                \"ITEM_OWNED\",\n                \"CURRENCY_AMOUNT\"\n            ],\n    \
        \        \"description\": \"Type of prerequisite check\"\n        },\n        \"RewardDefinition\": {\n          \
        \  \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n            \
        \    \"type\"\n            ],\n            \"properties\": {\n                \"type\": {\n                    \"\
        type\": \"string\",\n                    \"enum\": [\n                        \"CURRENCY\",\n                    \
        \    \"ITEM\",\n                        \"EXPERIENCE\",\n                        \"REPUTATION\"\n                \
        \    ],\n                    \"description\": \"Type of reward\"\n                },\n                \"currencyCode\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Currency code for CURRENCY rewards\"\n                },\n                \"amount\": {\n                    \"\
        type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Amount for CURRENCY/EXPERIENCE
        rewards\"\n                },\n                \"itemCode\": {\n                    \"type\": \"string\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Item code for ITEM rewards\"\n        \
        \        },\n                \"quantity\": {\n                    \"type\": \"integer\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"Quantity for ITEM rewards\"\n                },\n                \"\
        factionCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n           \
        \         \"description\": \"Faction code for REPUTATION rewards\"\n                }\n            }\n        }\n\
        \    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Mark quest definition as deprecated\",\n    \"description\": \"Marks a
        quest definition as deprecated. No new instances can be created.\",\n    \"tags\": [\n        \"Definitions\"\n  \
        \  ],\n    \"deprecated\": false,\n    \"operationId\": \"deprecateQuestDefinition\"\n}"
  /quest/accept:
    post:
      operationId: acceptQuest
      tags:
      - Instances
      summary: Accept a quest
      description: Creates a contract instance and auto-consents for the questor. Returns the active quest.
      x-permissions:
      - role: user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AcceptQuestRequest'
      responses:
        '200':
          description: Quest accepted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestInstanceResponse'
        '400':
          description: Prerequisites not met or already at max quests
        '404':
          description: Quest definition not found
        '409':
          description: Quest already active or on cooldown
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/AcceptQuestRequest\"\
        ,\n    \"$defs\": {\n        \"AcceptQuestRequest\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"questorCharacterId\"\n            ],\n            \"properties\"\
        : {\n                \"definitionId\": {\n                    \"type\": \"string\",\n                    \"format\"\
        : \"uuid\",\n                    \"nullable\": true,\n                    \"description\": \"Quest definition ID (provide
        either this or code)\"\n                },\n                \"code\": {\n                    \"type\": \"string\"\
        ,\n                    \"nullable\": true,\n                    \"description\": \"Quest code (provide either this
        or definitionId)\"\n                },\n                \"questorCharacterId\": {\n                    \"type\": \"\
        string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"Character accepting the
        quest\"\n                },\n                \"questGiverCharacterId\": {\n                    \"type\": \"string\"\
        ,\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"NPC offering the quest\"\n                },\n                \"termOverrides\": {\n                    \"type\"\
        : \"object\",\n                    \"nullable\": true,\n                    \"additionalProperties\": {\n        \
        \                \"type\": \"string\"\n                    },\n                    \"description\": \"Template variable
        overrides\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/QuestInstanceResponse\"\
        ,\n    \"$defs\": {\n        \"QuestInstanceResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"questInstanceId\",\n                \"definitionId\",\n \
        \               \"contractInstanceId\",\n                \"code\",\n                \"name\",\n                \"\
        status\",\n                \"questorCharacterIds\",\n                \"objectives\",\n                \"acceptedAt\"\
        \n            ],\n            \"properties\": {\n                \"questInstanceId\": {\n                    \"type\"\
        : \"string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"Unique instance ID\"\
        \n                },\n                \"definitionId\": {\n                    \"type\": \"string\",\n           \
        \         \"format\": \"uuid\",\n                    \"description\": \"Quest definition ID\"\n                },\n\
        \                \"contractInstanceId\": {\n                    \"type\": \"string\",\n                    \"format\"\
        : \"uuid\",\n                    \"description\": \"Underlying contract instance ID\"\n                },\n      \
        \          \"code\": {\n                    \"type\": \"string\",\n                    \"description\": \"Quest code\"\
        \n                },\n                \"name\": {\n                    \"type\": \"string\",\n                   \
        \ \"description\": \"Quest name\"\n                },\n                \"status\": {\n                    \"$ref\"\
        : \"#/$defs/QuestStatus\"\n                },\n                \"questorCharacterIds\": {\n                    \"\
        type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n            \
        \            \"format\": \"uuid\"\n                    },\n                    \"description\": \"Characters on the
        quest\"\n                },\n                \"questGiverCharacterId\": {\n                    \"type\": \"string\"\
        ,\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Quest giver NPC\"\n                },\n                \"objectives\": {\n                    \"type\": \"array\"\
        ,\n                    \"items\": {\n                        \"$ref\": \"#/$defs/ObjectiveProgress\"\n           \
        \         },\n                    \"description\": \"Objective progress\"\n                },\n                \"\
        acceptedAt\": {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\",\n     \
        \               \"description\": \"When quest was accepted\"\n                },\n                \"deadline\": {\n\
        \                    \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"\
        nullable\": true,\n                    \"description\": \"Quest deadline (null if none)\"\n                },\n  \
        \              \"completedAt\": {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\"\
        ,\n                    \"nullable\": true,\n                    \"description\": \"When completed\"\n            \
        \    }\n            }\n        },\n        \"QuestStatus\": {\n            \"type\": \"string\",\n            \"enum\"\
        : [\n                \"ACTIVE\",\n                \"COMPLETED\",\n                \"FAILED\",\n                \"\
        ABANDONED\",\n                \"EXPIRED\"\n            ],\n            \"description\": \"Current status of a quest
        instance\"\n        },\n        \"ObjectiveProgress\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"code\",\n                \"name\",\n                \"objectiveType\"\
        ,\n                \"currentCount\",\n                \"requiredCount\",\n                \"isComplete\",\n      \
        \          \"progressPercent\",\n                \"hidden\",\n                \"optional\"\n            ],\n     \
        \       \"properties\": {\n                \"code\": {\n                    \"type\": \"string\",\n              \
        \      \"description\": \"Objective code\"\n                },\n                \"name\": {\n                    \"\
        type\": \"string\",\n                    \"description\": \"Objective name\"\n                },\n               \
        \ \"description\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n       \
        \             \"description\": \"Objective description\"\n                },\n                \"objectiveType\": {\n\
        \                    \"$ref\": \"#/$defs/ObjectiveType\"\n                },\n                \"currentCount\": {\n\
        \                    \"type\": \"integer\",\n                    \"description\": \"Current progress count\"\n   \
        \             },\n                \"requiredCount\": {\n                    \"type\": \"integer\",\n             \
        \       \"description\": \"Required count\"\n                },\n                \"isComplete\": {\n             \
        \       \"type\": \"boolean\",\n                    \"description\": \"Whether complete\"\n                },\n  \
        \              \"progressPercent\": {\n                    \"type\": \"number\",\n                    \"format\":
        \"float\",\n                    \"description\": \"Progress percentage (0-100)\"\n                },\n           \
        \     \"hidden\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether currently
        hidden\"\n                },\n                \"optional\": {\n                    \"type\": \"boolean\",\n      \
        \              \"description\": \"Whether optional\"\n                }\n            }\n        },\n        \"ObjectiveType\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"KILL\",\n                \"COLLECT\"\
        ,\n                \"DELIVER\",\n                \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\"\
        ,\n                \"CRAFT\",\n                \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\
        \n            ],\n            \"description\": \"Type of objective determining progress tracking logic\"\n       \
        \ }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Accept a quest\",\n    \"description\": \"Creates a contract instance and
        auto-consents for the questor. Returns the active quest.\",\n    \"tags\": [\n        \"Instances\"\n    ],\n    \"\
        deprecated\": false,\n    \"operationId\": \"acceptQuest\"\n}"
  /quest/abandon:
    post:
      operationId: abandonQuest
      tags:
      - Instances
      summary: Abandon an active quest
      description: Terminates the underlying contract and marks the quest as abandoned.
      x-permissions:
      - role: user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AbandonQuestRequest'
      responses:
        '200':
          description: Quest abandoned
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestInstanceResponse'
        '404':
          description: Quest not found
        '409':
          description: Quest not in abandonable state
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/AbandonQuestRequest\"\
        ,\n    \"$defs\": {\n        \"AbandonQuestRequest\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"questInstanceId\",\n                \"questorCharacterId\"\
        \n            ],\n            \"properties\": {\n                \"questInstanceId\": {\n                    \"type\"\
        : \"string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"Quest instance to
        abandon\"\n                },\n                \"questorCharacterId\": {\n                    \"type\": \"string\"\
        ,\n                    \"format\": \"uuid\",\n                    \"description\": \"Character abandoning\"\n    \
        \            }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/QuestInstanceResponse\"\
        ,\n    \"$defs\": {\n        \"QuestInstanceResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"questInstanceId\",\n                \"definitionId\",\n \
        \               \"contractInstanceId\",\n                \"code\",\n                \"name\",\n                \"\
        status\",\n                \"questorCharacterIds\",\n                \"objectives\",\n                \"acceptedAt\"\
        \n            ],\n            \"properties\": {\n                \"questInstanceId\": {\n                    \"type\"\
        : \"string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"Unique instance ID\"\
        \n                },\n                \"definitionId\": {\n                    \"type\": \"string\",\n           \
        \         \"format\": \"uuid\",\n                    \"description\": \"Quest definition ID\"\n                },\n\
        \                \"contractInstanceId\": {\n                    \"type\": \"string\",\n                    \"format\"\
        : \"uuid\",\n                    \"description\": \"Underlying contract instance ID\"\n                },\n      \
        \          \"code\": {\n                    \"type\": \"string\",\n                    \"description\": \"Quest code\"\
        \n                },\n                \"name\": {\n                    \"type\": \"string\",\n                   \
        \ \"description\": \"Quest name\"\n                },\n                \"status\": {\n                    \"$ref\"\
        : \"#/$defs/QuestStatus\"\n                },\n                \"questorCharacterIds\": {\n                    \"\
        type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n            \
        \            \"format\": \"uuid\"\n                    },\n                    \"description\": \"Characters on the
        quest\"\n                },\n                \"questGiverCharacterId\": {\n                    \"type\": \"string\"\
        ,\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Quest giver NPC\"\n                },\n                \"objectives\": {\n                    \"type\": \"array\"\
        ,\n                    \"items\": {\n                        \"$ref\": \"#/$defs/ObjectiveProgress\"\n           \
        \         },\n                    \"description\": \"Objective progress\"\n                },\n                \"\
        acceptedAt\": {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\",\n     \
        \               \"description\": \"When quest was accepted\"\n                },\n                \"deadline\": {\n\
        \                    \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"\
        nullable\": true,\n                    \"description\": \"Quest deadline (null if none)\"\n                },\n  \
        \              \"completedAt\": {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\"\
        ,\n                    \"nullable\": true,\n                    \"description\": \"When completed\"\n            \
        \    }\n            }\n        },\n        \"QuestStatus\": {\n            \"type\": \"string\",\n            \"enum\"\
        : [\n                \"ACTIVE\",\n                \"COMPLETED\",\n                \"FAILED\",\n                \"\
        ABANDONED\",\n                \"EXPIRED\"\n            ],\n            \"description\": \"Current status of a quest
        instance\"\n        },\n        \"ObjectiveProgress\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"code\",\n                \"name\",\n                \"objectiveType\"\
        ,\n                \"currentCount\",\n                \"requiredCount\",\n                \"isComplete\",\n      \
        \          \"progressPercent\",\n                \"hidden\",\n                \"optional\"\n            ],\n     \
        \       \"properties\": {\n                \"code\": {\n                    \"type\": \"string\",\n              \
        \      \"description\": \"Objective code\"\n                },\n                \"name\": {\n                    \"\
        type\": \"string\",\n                    \"description\": \"Objective name\"\n                },\n               \
        \ \"description\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n       \
        \             \"description\": \"Objective description\"\n                },\n                \"objectiveType\": {\n\
        \                    \"$ref\": \"#/$defs/ObjectiveType\"\n                },\n                \"currentCount\": {\n\
        \                    \"type\": \"integer\",\n                    \"description\": \"Current progress count\"\n   \
        \             },\n                \"requiredCount\": {\n                    \"type\": \"integer\",\n             \
        \       \"description\": \"Required count\"\n                },\n                \"isComplete\": {\n             \
        \       \"type\": \"boolean\",\n                    \"description\": \"Whether complete\"\n                },\n  \
        \              \"progressPercent\": {\n                    \"type\": \"number\",\n                    \"format\":
        \"float\",\n                    \"description\": \"Progress percentage (0-100)\"\n                },\n           \
        \     \"hidden\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether currently
        hidden\"\n                },\n                \"optional\": {\n                    \"type\": \"boolean\",\n      \
        \              \"description\": \"Whether optional\"\n                }\n            }\n        },\n        \"ObjectiveType\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"KILL\",\n                \"COLLECT\"\
        ,\n                \"DELIVER\",\n                \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\"\
        ,\n                \"CRAFT\",\n                \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\
        \n            ],\n            \"description\": \"Type of objective determining progress tracking logic\"\n       \
        \ }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Abandon an active quest\",\n    \"description\": \"Terminates the underlying
        contract and marks the quest as abandoned.\",\n    \"tags\": [\n        \"Instances\"\n    ],\n    \"deprecated\"\
        : false,\n    \"operationId\": \"abandonQuest\"\n}"
  /quest/get:
    post:
      operationId: getQuest
      tags:
      - Instances
      summary: Get quest instance details
      description: Retrieves detailed quest instance information including objectives.
      x-permissions:
      - role: user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetQuestRequest'
      responses:
        '200':
          description: Quest instance found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestInstanceResponse'
        '404':
          description: Quest not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/GetQuestRequest\"\
        ,\n    \"$defs\": {\n        \"GetQuestRequest\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"questInstanceId\"\n            ],\n            \"properties\"\
        : {\n                \"questInstanceId\": {\n                    \"type\": \"string\",\n                    \"format\"\
        : \"uuid\",\n                    \"description\": \"Quest instance ID\"\n                }\n            }\n      \
        \  }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/QuestInstanceResponse\"\
        ,\n    \"$defs\": {\n        \"QuestInstanceResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"questInstanceId\",\n                \"definitionId\",\n \
        \               \"contractInstanceId\",\n                \"code\",\n                \"name\",\n                \"\
        status\",\n                \"questorCharacterIds\",\n                \"objectives\",\n                \"acceptedAt\"\
        \n            ],\n            \"properties\": {\n                \"questInstanceId\": {\n                    \"type\"\
        : \"string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"Unique instance ID\"\
        \n                },\n                \"definitionId\": {\n                    \"type\": \"string\",\n           \
        \         \"format\": \"uuid\",\n                    \"description\": \"Quest definition ID\"\n                },\n\
        \                \"contractInstanceId\": {\n                    \"type\": \"string\",\n                    \"format\"\
        : \"uuid\",\n                    \"description\": \"Underlying contract instance ID\"\n                },\n      \
        \          \"code\": {\n                    \"type\": \"string\",\n                    \"description\": \"Quest code\"\
        \n                },\n                \"name\": {\n                    \"type\": \"string\",\n                   \
        \ \"description\": \"Quest name\"\n                },\n                \"status\": {\n                    \"$ref\"\
        : \"#/$defs/QuestStatus\"\n                },\n                \"questorCharacterIds\": {\n                    \"\
        type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n            \
        \            \"format\": \"uuid\"\n                    },\n                    \"description\": \"Characters on the
        quest\"\n                },\n                \"questGiverCharacterId\": {\n                    \"type\": \"string\"\
        ,\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Quest giver NPC\"\n                },\n                \"objectives\": {\n                    \"type\": \"array\"\
        ,\n                    \"items\": {\n                        \"$ref\": \"#/$defs/ObjectiveProgress\"\n           \
        \         },\n                    \"description\": \"Objective progress\"\n                },\n                \"\
        acceptedAt\": {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\",\n     \
        \               \"description\": \"When quest was accepted\"\n                },\n                \"deadline\": {\n\
        \                    \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"\
        nullable\": true,\n                    \"description\": \"Quest deadline (null if none)\"\n                },\n  \
        \              \"completedAt\": {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\"\
        ,\n                    \"nullable\": true,\n                    \"description\": \"When completed\"\n            \
        \    }\n            }\n        },\n        \"QuestStatus\": {\n            \"type\": \"string\",\n            \"enum\"\
        : [\n                \"ACTIVE\",\n                \"COMPLETED\",\n                \"FAILED\",\n                \"\
        ABANDONED\",\n                \"EXPIRED\"\n            ],\n            \"description\": \"Current status of a quest
        instance\"\n        },\n        \"ObjectiveProgress\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"code\",\n                \"name\",\n                \"objectiveType\"\
        ,\n                \"currentCount\",\n                \"requiredCount\",\n                \"isComplete\",\n      \
        \          \"progressPercent\",\n                \"hidden\",\n                \"optional\"\n            ],\n     \
        \       \"properties\": {\n                \"code\": {\n                    \"type\": \"string\",\n              \
        \      \"description\": \"Objective code\"\n                },\n                \"name\": {\n                    \"\
        type\": \"string\",\n                    \"description\": \"Objective name\"\n                },\n               \
        \ \"description\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n       \
        \             \"description\": \"Objective description\"\n                },\n                \"objectiveType\": {\n\
        \                    \"$ref\": \"#/$defs/ObjectiveType\"\n                },\n                \"currentCount\": {\n\
        \                    \"type\": \"integer\",\n                    \"description\": \"Current progress count\"\n   \
        \             },\n                \"requiredCount\": {\n                    \"type\": \"integer\",\n             \
        \       \"description\": \"Required count\"\n                },\n                \"isComplete\": {\n             \
        \       \"type\": \"boolean\",\n                    \"description\": \"Whether complete\"\n                },\n  \
        \              \"progressPercent\": {\n                    \"type\": \"number\",\n                    \"format\":
        \"float\",\n                    \"description\": \"Progress percentage (0-100)\"\n                },\n           \
        \     \"hidden\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether currently
        hidden\"\n                },\n                \"optional\": {\n                    \"type\": \"boolean\",\n      \
        \              \"description\": \"Whether optional\"\n                }\n            }\n        },\n        \"ObjectiveType\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"KILL\",\n                \"COLLECT\"\
        ,\n                \"DELIVER\",\n                \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\"\
        ,\n                \"CRAFT\",\n                \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\
        \n            ],\n            \"description\": \"Type of objective determining progress tracking logic\"\n       \
        \ }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Get quest instance details\",\n    \"description\": \"Retrieves detailed
        quest instance information including objectives.\",\n    \"tags\": [\n        \"Instances\"\n    ],\n    \"deprecated\"\
        : false,\n    \"operationId\": \"getQuest\"\n}"
  /quest/list:
    post:
      operationId: listQuests
      tags:
      - Instances
      summary: List character's quests
      description: Lists quests for a character filtered by status.
      x-permissions:
      - role: user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ListQuestsRequest'
      responses:
        '200':
          description: Quests retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListQuestsResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListQuestsRequest\"\
        ,\n    \"$defs\": {\n        \"ListQuestsRequest\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"characterId\"\n            ],\n            \"properties\"\
        : {\n                \"characterId\": {\n                    \"type\": \"string\",\n                    \"format\"\
        : \"uuid\",\n                    \"description\": \"Character to list quests for\"\n                },\n         \
        \       \"statuses\": {\n                    \"type\": \"array\",\n                    \"nullable\": true,\n     \
        \               \"items\": {\n                        \"$ref\": \"#/$defs/QuestStatus\"\n                    },\n\
        \                    \"description\": \"Filter by statuses (null for all)\"\n                },\n                \"\
        limit\": {\n                    \"type\": \"integer\",\n                    \"default\": 50,\n                   \
        \ \"description\": \"Max results\"\n                },\n                \"offset\": {\n                    \"type\"\
        : \"integer\",\n                    \"default\": 0,\n                    \"description\": \"Pagination offset\"\n\
        \                }\n            }\n        },\n        \"QuestStatus\": {\n            \"type\": \"string\",\n   \
        \         \"enum\": [\n                \"ACTIVE\",\n                \"COMPLETED\",\n                \"FAILED\",\n\
        \                \"ABANDONED\",\n                \"EXPIRED\"\n            ],\n            \"description\": \"Current
        status of a quest instance\"\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListQuestsResponse\"\
        ,\n    \"$defs\": {\n        \"ListQuestsResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"quests\",\n                \"total\"\n            ],\n  \
        \          \"properties\": {\n                \"quests\": {\n                    \"type\": \"array\",\n          \
        \          \"items\": {\n                        \"$ref\": \"#/$defs/QuestInstanceResponse\"\n                   \
        \ },\n                    \"description\": \"Quest instances\"\n                },\n                \"total\": {\n\
        \                    \"type\": \"integer\",\n                    \"description\": \"Total count\"\n              \
        \  }\n            }\n        },\n        \"QuestInstanceResponse\": {\n            \"type\": \"object\",\n       \
        \     \"additionalProperties\": false,\n            \"required\": [\n                \"questInstanceId\",\n      \
        \          \"definitionId\",\n                \"contractInstanceId\",\n                \"code\",\n               \
        \ \"name\",\n                \"status\",\n                \"questorCharacterIds\",\n                \"objectives\"\
        ,\n                \"acceptedAt\"\n            ],\n            \"properties\": {\n                \"questInstanceId\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"\
        description\": \"Unique instance ID\"\n                },\n                \"definitionId\": {\n                 \
        \   \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"Quest
        definition ID\"\n                },\n                \"contractInstanceId\": {\n                    \"type\": \"string\"\
        ,\n                    \"format\": \"uuid\",\n                    \"description\": \"Underlying contract instance
        ID\"\n                },\n                \"code\": {\n                    \"type\": \"string\",\n               \
        \     \"description\": \"Quest code\"\n                },\n                \"name\": {\n                    \"type\"\
        : \"string\",\n                    \"description\": \"Quest name\"\n                },\n                \"status\"\
        : {\n                    \"$ref\": \"#/$defs/QuestStatus\"\n                },\n                \"questorCharacterIds\"\
        : {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\"\
        : \"string\",\n                        \"format\": \"uuid\"\n                    },\n                    \"description\"\
        : \"Characters on the quest\"\n                },\n                \"questGiverCharacterId\": {\n                \
        \    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n \
        \                   \"description\": \"Quest giver NPC\"\n                },\n                \"objectives\": {\n\
        \                    \"type\": \"array\",\n                    \"items\": {\n                        \"$ref\": \"\
        #/$defs/ObjectiveProgress\"\n                    },\n                    \"description\": \"Objective progress\"\n\
        \                },\n                \"acceptedAt\": {\n                    \"type\": \"string\",\n              \
        \      \"format\": \"date-time\",\n                    \"description\": \"When quest was accepted\"\n            \
        \    },\n                \"deadline\": {\n                    \"type\": \"string\",\n                    \"format\"\
        : \"date-time\",\n                    \"nullable\": true,\n                    \"description\": \"Quest deadline (null
        if none)\"\n                },\n                \"completedAt\": {\n                    \"type\": \"string\",\n  \
        \                  \"format\": \"date-time\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"When completed\"\n                }\n            }\n        },\n        \"QuestStatus\": {\n            \"type\"\
        : \"string\",\n            \"enum\": [\n                \"ACTIVE\",\n                \"COMPLETED\",\n            \
        \    \"FAILED\",\n                \"ABANDONED\",\n                \"EXPIRED\"\n            ],\n            \"description\"\
        : \"Current status of a quest instance\"\n        },\n        \"ObjectiveProgress\": {\n            \"type\": \"object\"\
        ,\n            \"additionalProperties\": false,\n            \"required\": [\n                \"code\",\n        \
        \        \"name\",\n                \"objectiveType\",\n                \"currentCount\",\n                \"requiredCount\"\
        ,\n                \"isComplete\",\n                \"progressPercent\",\n                \"hidden\",\n          \
        \      \"optional\"\n            ],\n            \"properties\": {\n                \"code\": {\n                \
        \    \"type\": \"string\",\n                    \"description\": \"Objective code\"\n                },\n        \
        \        \"name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Objective
        name\"\n                },\n                \"description\": {\n                    \"type\": \"string\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Objective description\"\n             \
        \   },\n                \"objectiveType\": {\n                    \"$ref\": \"#/$defs/ObjectiveType\"\n          \
        \      },\n                \"currentCount\": {\n                    \"type\": \"integer\",\n                    \"\
        description\": \"Current progress count\"\n                },\n                \"requiredCount\": {\n            \
        \        \"type\": \"integer\",\n                    \"description\": \"Required count\"\n                },\n   \
        \             \"isComplete\": {\n                    \"type\": \"boolean\",\n                    \"description\":
        \"Whether complete\"\n                },\n                \"progressPercent\": {\n                    \"type\": \"\
        number\",\n                    \"format\": \"float\",\n                    \"description\": \"Progress percentage
        (0-100)\"\n                },\n                \"hidden\": {\n                    \"type\": \"boolean\",\n       \
        \             \"description\": \"Whether currently hidden\"\n                },\n                \"optional\": {\n\
        \                    \"type\": \"boolean\",\n                    \"description\": \"Whether optional\"\n         \
        \       }\n            }\n        },\n        \"ObjectiveType\": {\n            \"type\": \"string\",\n          \
        \  \"enum\": [\n                \"KILL\",\n                \"COLLECT\",\n                \"DELIVER\",\n          \
        \      \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\",\n                \"CRAFT\",\n       \
        \         \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\n            ],\n            \"description\"\
        : \"Type of objective determining progress tracking logic\"\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"List character's quests\",\n    \"description\": \"Lists quests for a character
        filtered by status.\",\n    \"tags\": [\n        \"Instances\"\n    ],\n    \"deprecated\": false,\n    \"operationId\"\
        : \"listQuests\"\n}"
  /quest/list-available:
    post:
      operationId: listAvailableQuests
      tags:
      - Instances
      summary: List quests available to accept
      description: Lists quests a character can accept (prerequisites met, not on cooldown, not active).
      x-permissions:
      - role: user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ListAvailableQuestsRequest'
      responses:
        '200':
          description: Available quests retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListAvailableQuestsResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListAvailableQuestsRequest\"\
        ,\n    \"$defs\": {\n        \"ListAvailableQuestsRequest\": {\n            \"type\": \"object\",\n            \"\
        additionalProperties\": false,\n            \"required\": [\n                \"characterId\"\n            ],\n   \
        \         \"properties\": {\n                \"characterId\": {\n                    \"type\": \"string\",\n     \
        \               \"format\": \"uuid\",\n                    \"description\": \"Character to check availability for\"\
        \n                },\n                \"questGiverCharacterId\": {\n                    \"type\": \"string\",\n  \
        \                  \"format\": \"uuid\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Filter by quest giver\"\n                },\n                \"gameServiceId\": {\n                    \"type\"\
        : \"string\",\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n              \
        \      \"description\": \"Filter by game service\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListAvailableQuestsResponse\"\
        ,\n    \"$defs\": {\n        \"ListAvailableQuestsResponse\": {\n            \"type\": \"object\",\n            \"\
        additionalProperties\": false,\n            \"required\": [\n                \"available\"\n            ],\n     \
        \       \"properties\": {\n                \"available\": {\n                    \"type\": \"array\",\n          \
        \          \"items\": {\n                        \"$ref\": \"#/$defs/QuestDefinitionResponse\"\n                 \
        \   },\n                    \"description\": \"Available quest definitions\"\n                }\n            }\n \
        \       },\n        \"QuestDefinitionResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"definitionId\",\n                \"contractTemplateId\",\n\
        \                \"code\",\n                \"name\",\n                \"category\",\n                \"difficulty\"\
        ,\n                \"repeatable\",\n                \"maxQuestors\",\n                \"objectives\",\n          \
        \      \"deprecated\",\n                \"createdAt\",\n                \"gameServiceId\"\n            ],\n      \
        \      \"properties\": {\n                \"definitionId\": {\n                    \"type\": \"string\",\n       \
        \             \"format\": \"uuid\",\n                    \"description\": \"Unique quest definition ID\"\n       \
        \         },\n                \"contractTemplateId\": {\n                    \"type\": \"string\",\n             \
        \       \"format\": \"uuid\",\n                    \"description\": \"Underlying contract template ID\"\n        \
        \        },\n                \"code\": {\n                    \"type\": \"string\",\n                    \"description\"\
        : \"Quest code\"\n                },\n                \"name\": {\n                    \"type\": \"string\",\n   \
        \                 \"description\": \"Quest name\"\n                },\n                \"description\": {\n      \
        \              \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Quest description\"\n                },\n                \"category\": {\n                    \"$ref\": \"#/$defs/QuestCategory\"\
        \n                },\n                \"difficulty\": {\n                    \"$ref\": \"#/$defs/QuestDifficulty\"\
        \n                },\n                \"levelRequirement\": {\n                    \"type\": \"integer\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Minimum level required\"\n            \
        \    },\n                \"repeatable\": {\n                    \"type\": \"boolean\",\n                    \"description\"\
        : \"Whether repeatable\"\n                },\n                \"cooldownSeconds\": {\n                    \"type\"\
        : \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Cooldown for repeatable
        quests\"\n                },\n                \"deadlineSeconds\": {\n                    \"type\": \"integer\",\n\
        \                    \"nullable\": true,\n                    \"description\": \"Time limit\"\n                },\n\
        \                \"maxQuestors\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Max party size\"\n                },\n                \"objectives\": {\n                    \"type\": \"array\"\
        ,\n                    \"items\": {\n                        \"$ref\": \"#/$defs/ObjectiveDefinition\"\n         \
        \           },\n                    \"description\": \"Quest objectives\"\n                },\n                \"\
        prerequisites\": {\n                    \"type\": \"array\",\n                    \"nullable\": true,\n          \
        \          \"items\": {\n                        \"$ref\": \"#/$defs/PrerequisiteDefinition\"\n                  \
        \  },\n                    \"description\": \"Prerequisites\"\n                },\n                \"rewards\": {\n\
        \                    \"type\": \"array\",\n                    \"nullable\": true,\n                    \"items\"\
        : {\n                        \"$ref\": \"#/$defs/RewardDefinition\"\n                    },\n                    \"\
        description\": \"Rewards\"\n                },\n                \"tags\": {\n                    \"type\": \"array\"\
        ,\n                    \"nullable\": true,\n                    \"items\": {\n                        \"type\": \"\
        string\"\n                    },\n                    \"description\": \"Tags\"\n                },\n            \
        \    \"deprecated\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether
        deprecated\"\n                },\n                \"createdAt\": {\n                    \"type\": \"string\",\n  \
        \                  \"format\": \"date-time\",\n                    \"description\": \"Creation timestamp\"\n     \
        \           },\n                \"gameServiceId\": {\n                    \"type\": \"string\",\n                \
        \    \"format\": \"uuid\",\n                    \"description\": \"Game service ID\"\n                }\n        \
        \    }\n        },\n        \"QuestCategory\": {\n            \"type\": \"string\",\n            \"enum\": [\n   \
        \             \"MAIN\",\n                \"SIDE\",\n                \"BOUNTY\",\n                \"DAILY\",\n    \
        \            \"WEEKLY\",\n                \"EVENT\",\n                \"TUTORIAL\"\n            ],\n            \"\
        description\": \"Category of quest for organization\"\n        },\n        \"QuestDifficulty\": {\n            \"\
        type\": \"string\",\n            \"enum\": [\n                \"TRIVIAL\",\n                \"EASY\",\n          \
        \      \"NORMAL\",\n                \"HARD\",\n                \"HEROIC\",\n                \"LEGENDARY\"\n      \
        \      ],\n            \"description\": \"Difficulty rating of the quest\"\n        },\n        \"ObjectiveDefinition\"\
        : {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n\
        \                \"code\",\n                \"name\",\n                \"objectiveType\",\n                \"requiredCount\"\
        \n            ],\n            \"properties\": {\n                \"code\": {\n                    \"type\": \"string\"\
        ,\n                    \"description\": \"Unique objective code within quest\"\n                },\n             \
        \   \"name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Display name of
        the objective\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\
        ,\n                    \"nullable\": true,\n                    \"description\": \"Objective description\"\n     \
        \           },\n                \"objectiveType\": {\n                    \"$ref\": \"#/$defs/ObjectiveType\"\n  \
        \              },\n                \"requiredCount\": {\n                    \"type\": \"integer\",\n            \
        \        \"description\": \"Count needed to complete\"\n                },\n                \"targetEntityType\":
        {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Entity type for kill/collect objectives\"\n                },\n                \"targetEntitySubtype\": {\n  \
        \                  \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Subtype filter (e.g., species:wolf)\"\n                },\n                \"targetLocationId\": {\n         \
        \           \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n\
        \                    \"description\": \"Location for travel/deliver objectives\"\n                },\n           \
        \     \"hidden\": {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n       \
        \             \"description\": \"Whether objective is hidden initially\"\n                },\n                \"revealBehavior\"\
        : {\n                    \"$ref\": \"#/$defs/ObjectiveRevealBehavior\"\n                },\n                \"optional\"\
        : {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"description\"\
        : \"Whether objective is optional for completion\"\n                }\n            }\n        },\n        \"ObjectiveType\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"KILL\",\n                \"COLLECT\"\
        ,\n                \"DELIVER\",\n                \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\"\
        ,\n                \"CRAFT\",\n                \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\
        \n            ],\n            \"description\": \"Type of objective determining progress tracking logic\"\n       \
        \ },\n        \"ObjectiveRevealBehavior\": {\n            \"type\": \"string\",\n            \"enum\": [\n       \
        \         \"ALWAYS\",\n                \"ON_PROGRESS\",\n                \"ON_COMPLETE\",\n                \"NEVER\"\
        \n            ],\n            \"description\": \"When a hidden objective is revealed in the quest log\"\n        },\n\
        \        \"PrerequisiteDefinition\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"type\"\n            ],\n            \"properties\": {\n          \
        \      \"type\": {\n                    \"$ref\": \"#/$defs/PrerequisiteType\"\n                },\n             \
        \   \"questCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n       \
        \             \"description\": \"Quest code for QUEST_COMPLETED type\"\n                },\n                \"minLevel\"\
        : {\n                    \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Minimum level for CHARACTER_LEVEL type\"\n                },\n                \"factionCode\": {\n           \
        \         \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"\
        Faction code for REPUTATION type\"\n                },\n                \"minReputation\": {\n                   \
        \ \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Minimum
        reputation for REPUTATION type\"\n                },\n                \"itemCode\": {\n                    \"type\"\
        : \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Item code for ITEM_OWNED
        type\"\n                },\n                \"currencyCode\": {\n                    \"type\": \"string\",\n     \
        \               \"nullable\": true,\n                    \"description\": \"Currency code for CURRENCY_AMOUNT type\"\
        \n                },\n                \"minAmount\": {\n                    \"type\": \"integer\",\n             \
        \       \"nullable\": true,\n                    \"description\": \"Minimum amount for CURRENCY_AMOUNT type\"\n  \
        \              }\n            }\n        },\n        \"PrerequisiteType\": {\n            \"type\": \"string\",\n\
        \            \"enum\": [\n                \"QUEST_COMPLETED\",\n                \"CHARACTER_LEVEL\",\n           \
        \     \"REPUTATION\",\n                \"ITEM_OWNED\",\n                \"CURRENCY_AMOUNT\"\n            ],\n    \
        \        \"description\": \"Type of prerequisite check\"\n        },\n        \"RewardDefinition\": {\n          \
        \  \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n            \
        \    \"type\"\n            ],\n            \"properties\": {\n                \"type\": {\n                    \"\
        type\": \"string\",\n                    \"enum\": [\n                        \"CURRENCY\",\n                    \
        \    \"ITEM\",\n                        \"EXPERIENCE\",\n                        \"REPUTATION\"\n                \
        \    ],\n                    \"description\": \"Type of reward\"\n                },\n                \"currencyCode\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Currency code for CURRENCY rewards\"\n                },\n                \"amount\": {\n                    \"\
        type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Amount for CURRENCY/EXPERIENCE
        rewards\"\n                },\n                \"itemCode\": {\n                    \"type\": \"string\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Item code for ITEM rewards\"\n        \
        \        },\n                \"quantity\": {\n                    \"type\": \"integer\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"Quantity for ITEM rewards\"\n                },\n                \"\
        factionCode\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n           \
        \         \"description\": \"Faction code for REPUTATION rewards\"\n                }\n            }\n        }\n\
        \    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"List quests available to accept\",\n    \"description\": \"Lists quests
        a character can accept (prerequisites met, not on cooldown, not active).\",\n    \"tags\": [\n        \"Instances\"\
        \n    ],\n    \"deprecated\": false,\n    \"operationId\": \"listAvailableQuests\"\n}"
  /quest/log:
    post:
      operationId: getQuestLog
      tags:
      - Instances
      summary: Get player-facing quest log
      description: Returns UI-optimized quest log with progress summaries.
      x-permissions:
      - role: user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetQuestLogRequest'
      responses:
        '200':
          description: Quest log retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestLogResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/GetQuestLogRequest\"\
        ,\n    \"$defs\": {\n        \"GetQuestLogRequest\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"characterId\"\n            ],\n            \"properties\"\
        : {\n                \"characterId\": {\n                    \"type\": \"string\",\n                    \"format\"\
        : \"uuid\",\n                    \"description\": \"Character to get log for\"\n                }\n            }\n\
        \        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/QuestLogResponse\"\
        ,\n    \"$defs\": {\n        \"QuestLogResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"activeQuests\",\n                \"completedCount\",\n  \
        \              \"failedCount\"\n            ],\n            \"properties\": {\n                \"activeQuests\": {\n\
        \                    \"type\": \"array\",\n                    \"items\": {\n                        \"$ref\": \"\
        #/$defs/QuestLogEntry\"\n                    },\n                    \"description\": \"Active quests with progress\"\
        \n                },\n                \"completedCount\": {\n                    \"type\": \"integer\",\n        \
        \            \"description\": \"Total completed quests\"\n                },\n                \"failedCount\": {\n\
        \                    \"type\": \"integer\",\n                    \"description\": \"Total failed quests\"\n      \
        \          }\n            }\n        },\n        \"QuestLogEntry\": {\n            \"type\": \"object\",\n       \
        \     \"additionalProperties\": false,\n            \"required\": [\n                \"questInstanceId\",\n      \
        \          \"code\",\n                \"name\",\n                \"category\",\n                \"status\",\n    \
        \            \"overallProgress\",\n                \"visibleObjectives\",\n                \"acceptedAt\"\n      \
        \      ],\n            \"properties\": {\n                \"questInstanceId\": {\n                    \"type\": \"\
        string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"Quest instance ID\"\n\
        \                },\n                \"code\": {\n                    \"type\": \"string\",\n                    \"\
        description\": \"Quest code\"\n                },\n                \"name\": {\n                    \"type\": \"string\"\
        ,\n                    \"description\": \"Quest name\"\n                },\n                \"category\": {\n    \
        \                \"$ref\": \"#/$defs/QuestCategory\"\n                },\n                \"status\": {\n        \
        \            \"$ref\": \"#/$defs/QuestStatus\"\n                },\n                \"overallProgress\": {\n     \
        \               \"type\": \"number\",\n                    \"format\": \"float\",\n                    \"description\"\
        : \"Overall progress percentage\"\n                },\n                \"visibleObjectives\": {\n                \
        \    \"type\": \"array\",\n                    \"items\": {\n                        \"$ref\": \"#/$defs/ObjectiveProgress\"\
        \n                    },\n                    \"description\": \"Visible objectives (hidden ones excluded until revealed)\"\
        \n                },\n                \"deadline\": {\n                    \"type\": \"string\",\n               \
        \     \"format\": \"date-time\",\n                    \"nullable\": true,\n                    \"description\": \"\
        Deadline if any\"\n                },\n                \"acceptedAt\": {\n                    \"type\": \"string\"\
        ,\n                    \"format\": \"date-time\",\n                    \"description\": \"When accepted\"\n      \
        \          }\n            }\n        },\n        \"QuestCategory\": {\n            \"type\": \"string\",\n       \
        \     \"enum\": [\n                \"MAIN\",\n                \"SIDE\",\n                \"BOUNTY\",\n           \
        \     \"DAILY\",\n                \"WEEKLY\",\n                \"EVENT\",\n                \"TUTORIAL\"\n        \
        \    ],\n            \"description\": \"Category of quest for organization\"\n        },\n        \"QuestStatus\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"ACTIVE\",\n                \"COMPLETED\"\
        ,\n                \"FAILED\",\n                \"ABANDONED\",\n                \"EXPIRED\"\n            ],\n    \
        \        \"description\": \"Current status of a quest instance\"\n        },\n        \"ObjectiveProgress\": {\n \
        \           \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n   \
        \             \"code\",\n                \"name\",\n                \"objectiveType\",\n                \"currentCount\"\
        ,\n                \"requiredCount\",\n                \"isComplete\",\n                \"progressPercent\",\n   \
        \             \"hidden\",\n                \"optional\"\n            ],\n            \"properties\": {\n         \
        \       \"code\": {\n                    \"type\": \"string\",\n                    \"description\": \"Objective code\"\
        \n                },\n                \"name\": {\n                    \"type\": \"string\",\n                   \
        \ \"description\": \"Objective name\"\n                },\n                \"description\": {\n                  \
        \  \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Objective
        description\"\n                },\n                \"objectiveType\": {\n                    \"$ref\": \"#/$defs/ObjectiveType\"\
        \n                },\n                \"currentCount\": {\n                    \"type\": \"integer\",\n          \
        \          \"description\": \"Current progress count\"\n                },\n                \"requiredCount\": {\n\
        \                    \"type\": \"integer\",\n                    \"description\": \"Required count\"\n           \
        \     },\n                \"isComplete\": {\n                    \"type\": \"boolean\",\n                    \"description\"\
        : \"Whether complete\"\n                },\n                \"progressPercent\": {\n                    \"type\":
        \"number\",\n                    \"format\": \"float\",\n                    \"description\": \"Progress percentage
        (0-100)\"\n                },\n                \"hidden\": {\n                    \"type\": \"boolean\",\n       \
        \             \"description\": \"Whether currently hidden\"\n                },\n                \"optional\": {\n\
        \                    \"type\": \"boolean\",\n                    \"description\": \"Whether optional\"\n         \
        \       }\n            }\n        },\n        \"ObjectiveType\": {\n            \"type\": \"string\",\n          \
        \  \"enum\": [\n                \"KILL\",\n                \"COLLECT\",\n                \"DELIVER\",\n          \
        \      \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\",\n                \"CRAFT\",\n       \
        \         \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\n            ],\n            \"description\"\
        : \"Type of objective determining progress tracking logic\"\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Get player-facing quest log\",\n    \"description\": \"Returns UI-optimized
        quest log with progress summaries.\",\n    \"tags\": [\n        \"Instances\"\n    ],\n    \"deprecated\": false,\n\
        \    \"operationId\": \"getQuestLog\"\n}"
  /quest/objective/progress:
    post:
      operationId: reportObjectiveProgress
      tags:
      - Objectives
      summary: Report progress on an objective
      description: Manually reports progress on a quest objective. Used by game systems.
      x-permissions:
      - role: user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportProgressRequest'
      responses:
        '200':
          description: Progress recorded
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectiveProgressResponse'
        '404':
          description: Quest or objective not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ReportProgressRequest\"\
        ,\n    \"$defs\": {\n        \"ReportProgressRequest\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"questInstanceId\",\n                \"objectiveCode\",\n\
        \                \"incrementBy\"\n            ],\n            \"properties\": {\n                \"questInstanceId\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"\
        description\": \"Quest instance\"\n                },\n                \"objectiveCode\": {\n                    \"\
        type\": \"string\",\n                    \"description\": \"Objective code\"\n                },\n               \
        \ \"incrementBy\": {\n                    \"type\": \"integer\",\n                    \"description\": \"Amount to
        increment progress\"\n                },\n                \"trackedEntityId\": {\n                    \"type\": \"\
        string\",\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n                  \
        \  \"description\": \"Entity that contributed to progress (for deduplication)\"\n                }\n            }\n\
        \        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ObjectiveProgressResponse\"\
        ,\n    \"$defs\": {\n        \"ObjectiveProgressResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"questInstanceId\",\n                \"objective\",\n    \
        \            \"milestoneCompleted\"\n            ],\n            \"properties\": {\n                \"questInstanceId\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"\
        description\": \"Quest instance ID\"\n                },\n                \"objective\": {\n                    \"\
        $ref\": \"#/$defs/ObjectiveProgress\"\n                },\n                \"milestoneCompleted\": {\n           \
        \         \"type\": \"boolean\",\n                    \"description\": \"Whether this progress completed the milestone\"\
        \n                }\n            }\n        },\n        \"ObjectiveProgress\": {\n            \"type\": \"object\"\
        ,\n            \"additionalProperties\": false,\n            \"required\": [\n                \"code\",\n        \
        \        \"name\",\n                \"objectiveType\",\n                \"currentCount\",\n                \"requiredCount\"\
        ,\n                \"isComplete\",\n                \"progressPercent\",\n                \"hidden\",\n          \
        \      \"optional\"\n            ],\n            \"properties\": {\n                \"code\": {\n                \
        \    \"type\": \"string\",\n                    \"description\": \"Objective code\"\n                },\n        \
        \        \"name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Objective
        name\"\n                },\n                \"description\": {\n                    \"type\": \"string\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Objective description\"\n             \
        \   },\n                \"objectiveType\": {\n                    \"$ref\": \"#/$defs/ObjectiveType\"\n          \
        \      },\n                \"currentCount\": {\n                    \"type\": \"integer\",\n                    \"\
        description\": \"Current progress count\"\n                },\n                \"requiredCount\": {\n            \
        \        \"type\": \"integer\",\n                    \"description\": \"Required count\"\n                },\n   \
        \             \"isComplete\": {\n                    \"type\": \"boolean\",\n                    \"description\":
        \"Whether complete\"\n                },\n                \"progressPercent\": {\n                    \"type\": \"\
        number\",\n                    \"format\": \"float\",\n                    \"description\": \"Progress percentage
        (0-100)\"\n                },\n                \"hidden\": {\n                    \"type\": \"boolean\",\n       \
        \             \"description\": \"Whether currently hidden\"\n                },\n                \"optional\": {\n\
        \                    \"type\": \"boolean\",\n                    \"description\": \"Whether optional\"\n         \
        \       }\n            }\n        },\n        \"ObjectiveType\": {\n            \"type\": \"string\",\n          \
        \  \"enum\": [\n                \"KILL\",\n                \"COLLECT\",\n                \"DELIVER\",\n          \
        \      \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\",\n                \"CRAFT\",\n       \
        \         \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\n            ],\n            \"description\"\
        : \"Type of objective determining progress tracking logic\"\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Report progress on an objective\",\n    \"description\": \"Manually reports
        progress on a quest objective. Used by game systems.\",\n    \"tags\": [\n        \"Objectives\"\n    ],\n    \"deprecated\"\
        : false,\n    \"operationId\": \"reportObjectiveProgress\"\n}"
  /quest/objective/complete:
    post:
      operationId: forceCompleteObjective
      tags:
      - Objectives
      summary: Force complete an objective (debug/GM)
      description: Immediately completes an objective regardless of progress. Admin only.
      x-permissions:
      - role: admin
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ForceCompleteObjectiveRequest'
      responses:
        '200':
          description: Objective completed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectiveProgressResponse'
        '404':
          description: Quest or objective not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ForceCompleteObjectiveRequest\"\
        ,\n    \"$defs\": {\n        \"ForceCompleteObjectiveRequest\": {\n            \"type\": \"object\",\n           \
        \ \"additionalProperties\": false,\n            \"required\": [\n                \"questInstanceId\",\n          \
        \      \"objectiveCode\"\n            ],\n            \"properties\": {\n                \"questInstanceId\": {\n\
        \                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\"\
        : \"Quest instance\"\n                },\n                \"objectiveCode\": {\n                    \"type\": \"string\"\
        ,\n                    \"description\": \"Objective code\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ObjectiveProgressResponse\"\
        ,\n    \"$defs\": {\n        \"ObjectiveProgressResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"questInstanceId\",\n                \"objective\",\n    \
        \            \"milestoneCompleted\"\n            ],\n            \"properties\": {\n                \"questInstanceId\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"\
        description\": \"Quest instance ID\"\n                },\n                \"objective\": {\n                    \"\
        $ref\": \"#/$defs/ObjectiveProgress\"\n                },\n                \"milestoneCompleted\": {\n           \
        \         \"type\": \"boolean\",\n                    \"description\": \"Whether this progress completed the milestone\"\
        \n                }\n            }\n        },\n        \"ObjectiveProgress\": {\n            \"type\": \"object\"\
        ,\n            \"additionalProperties\": false,\n            \"required\": [\n                \"code\",\n        \
        \        \"name\",\n                \"objectiveType\",\n                \"currentCount\",\n                \"requiredCount\"\
        ,\n                \"isComplete\",\n                \"progressPercent\",\n                \"hidden\",\n          \
        \      \"optional\"\n            ],\n            \"properties\": {\n                \"code\": {\n                \
        \    \"type\": \"string\",\n                    \"description\": \"Objective code\"\n                },\n        \
        \        \"name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Objective
        name\"\n                },\n                \"description\": {\n                    \"type\": \"string\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Objective description\"\n             \
        \   },\n                \"objectiveType\": {\n                    \"$ref\": \"#/$defs/ObjectiveType\"\n          \
        \      },\n                \"currentCount\": {\n                    \"type\": \"integer\",\n                    \"\
        description\": \"Current progress count\"\n                },\n                \"requiredCount\": {\n            \
        \        \"type\": \"integer\",\n                    \"description\": \"Required count\"\n                },\n   \
        \             \"isComplete\": {\n                    \"type\": \"boolean\",\n                    \"description\":
        \"Whether complete\"\n                },\n                \"progressPercent\": {\n                    \"type\": \"\
        number\",\n                    \"format\": \"float\",\n                    \"description\": \"Progress percentage
        (0-100)\"\n                },\n                \"hidden\": {\n                    \"type\": \"boolean\",\n       \
        \             \"description\": \"Whether currently hidden\"\n                },\n                \"optional\": {\n\
        \                    \"type\": \"boolean\",\n                    \"description\": \"Whether optional\"\n         \
        \       }\n            }\n        },\n        \"ObjectiveType\": {\n            \"type\": \"string\",\n          \
        \  \"enum\": [\n                \"KILL\",\n                \"COLLECT\",\n                \"DELIVER\",\n          \
        \      \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\",\n                \"CRAFT\",\n       \
        \         \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\n            ],\n            \"description\"\
        : \"Type of objective determining progress tracking logic\"\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Force complete an objective (debug/GM)\",\n    \"description\": \"Immediately
        completes an objective regardless of progress. Admin only.\",\n    \"tags\": [\n        \"Objectives\"\n    ],\n \
        \   \"deprecated\": false,\n    \"operationId\": \"forceCompleteObjective\"\n}"
  /quest/objective/get:
    post:
      operationId: getObjectiveProgress
      tags:
      - Objectives
      summary: Get objective progress details
      description: Returns detailed progress information for a specific objective.
      x-permissions:
      - role: user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetObjectiveProgressRequest'
      responses:
        '200':
          description: Objective progress retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectiveProgressResponse'
        '404':
          description: Quest or objective not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/GetObjectiveProgressRequest\"\
        ,\n    \"$defs\": {\n        \"GetObjectiveProgressRequest\": {\n            \"type\": \"object\",\n            \"\
        additionalProperties\": false,\n            \"required\": [\n                \"questInstanceId\",\n              \
        \  \"objectiveCode\"\n            ],\n            \"properties\": {\n                \"questInstanceId\": {\n    \
        \                \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\"\
        : \"Quest instance\"\n                },\n                \"objectiveCode\": {\n                    \"type\": \"string\"\
        ,\n                    \"description\": \"Objective code\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ObjectiveProgressResponse\"\
        ,\n    \"$defs\": {\n        \"ObjectiveProgressResponse\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"questInstanceId\",\n                \"objective\",\n    \
        \            \"milestoneCompleted\"\n            ],\n            \"properties\": {\n                \"questInstanceId\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"\
        description\": \"Quest instance ID\"\n                },\n                \"objective\": {\n                    \"\
        $ref\": \"#/$defs/ObjectiveProgress\"\n                },\n                \"milestoneCompleted\": {\n           \
        \         \"type\": \"boolean\",\n                    \"description\": \"Whether this progress completed the milestone\"\
        \n                }\n            }\n        },\n        \"ObjectiveProgress\": {\n            \"type\": \"object\"\
        ,\n            \"additionalProperties\": false,\n            \"required\": [\n                \"code\",\n        \
        \        \"name\",\n                \"objectiveType\",\n                \"currentCount\",\n                \"requiredCount\"\
        ,\n                \"isComplete\",\n                \"progressPercent\",\n                \"hidden\",\n          \
        \      \"optional\"\n            ],\n            \"properties\": {\n                \"code\": {\n                \
        \    \"type\": \"string\",\n                    \"description\": \"Objective code\"\n                },\n        \
        \        \"name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Objective
        name\"\n                },\n                \"description\": {\n                    \"type\": \"string\",\n      \
        \              \"nullable\": true,\n                    \"description\": \"Objective description\"\n             \
        \   },\n                \"objectiveType\": {\n                    \"$ref\": \"#/$defs/ObjectiveType\"\n          \
        \      },\n                \"currentCount\": {\n                    \"type\": \"integer\",\n                    \"\
        description\": \"Current progress count\"\n                },\n                \"requiredCount\": {\n            \
        \        \"type\": \"integer\",\n                    \"description\": \"Required count\"\n                },\n   \
        \             \"isComplete\": {\n                    \"type\": \"boolean\",\n                    \"description\":
        \"Whether complete\"\n                },\n                \"progressPercent\": {\n                    \"type\": \"\
        number\",\n                    \"format\": \"float\",\n                    \"description\": \"Progress percentage
        (0-100)\"\n                },\n                \"hidden\": {\n                    \"type\": \"boolean\",\n       \
        \             \"description\": \"Whether currently hidden\"\n                },\n                \"optional\": {\n\
        \                    \"type\": \"boolean\",\n                    \"description\": \"Whether optional\"\n         \
        \       }\n            }\n        },\n        \"ObjectiveType\": {\n            \"type\": \"string\",\n          \
        \  \"enum\": [\n                \"KILL\",\n                \"COLLECT\",\n                \"DELIVER\",\n          \
        \      \"TRAVEL\",\n                \"DISCOVER\",\n                \"TALK\",\n                \"CRAFT\",\n       \
        \         \"ESCORT\",\n                \"DEFEND\",\n                \"CUSTOM\"\n            ],\n            \"description\"\
        : \"Type of objective determining progress tracking logic\"\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Get objective progress details\",\n    \"description\": \"Returns detailed
        progress information for a specific objective.\",\n    \"tags\": [\n        \"Objectives\"\n    ],\n    \"deprecated\"\
        : false,\n    \"operationId\": \"getObjectiveProgress\"\n}"
  /quest/internal/milestone-completed:
    post:
      operationId: handleMilestoneCompleted
      tags:
      - Internal
      summary: Handle milestone completion callback
      description: Called by Contract prebound API when a milestone completes.
      x-permissions: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MilestoneCompletedCallback'
      responses:
        '200':
          description: Callback processed
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/MilestoneCompletedCallback\"\
        ,\n    \"$defs\": {\n        \"MilestoneCompletedCallback\": {\n            \"type\": \"object\",\n            \"\
        additionalProperties\": false,\n            \"required\": [\n                \"contractInstanceId\",\n           \
        \     \"milestoneCode\"\n            ],\n            \"properties\": {\n                \"contractInstanceId\": {\n\
        \                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\"\
        : \"Contract instance ID (maps to questInstanceId)\"\n                },\n                \"milestoneCode\": {\n \
        \                   \"type\": \"string\",\n                    \"description\": \"Completed milestone code\"\n   \
        \             }\n            }\n        }\n    }\n}"
      x-response-schema-json: '{}'
      x-endpoint-info-json: "{\n    \"summary\": \"Handle milestone completion callback\",\n    \"description\": \"Called
        by Contract prebound API when a milestone completes.\",\n    \"tags\": [\n        \"Internal\"\n    ],\n    \"deprecated\"\
        : false,\n    \"operationId\": \"handleMilestoneCompleted\"\n}"
  /quest/internal/quest-completed:
    post:
      operationId: handleQuestCompleted
      tags:
      - Internal
      summary: Handle quest completion callback
      description: Called when all required milestones are done.
      x-permissions: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestCompletedCallback'
      responses:
        '200':
          description: Callback processed
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/QuestCompletedCallback\"\
        ,\n    \"$defs\": {\n        \"QuestCompletedCallback\": {\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"contractInstanceId\"\n            ],\n            \"properties\"\
        : {\n                \"contractInstanceId\": {\n                    \"type\": \"string\",\n                    \"\
        format\": \"uuid\",\n                    \"description\": \"Contract instance ID\"\n                }\n          \
        \  }\n        }\n    }\n}"
      x-response-schema-json: '{}'
      x-endpoint-info-json: "{\n    \"summary\": \"Handle quest completion callback\",\n    \"description\": \"Called when
        all required milestones are done.\",\n    \"tags\": [\n        \"Internal\"\n    ],\n    \"deprecated\": false,\n\
        \    \"operationId\": \"handleQuestCompleted\"\n}"
components:
  schemas:
    QuestStatus:
      type: string
      enum:
      - ACTIVE
      - COMPLETED
      - FAILED
      - ABANDONED
      - EXPIRED
      description: Current status of a quest instance
    QuestCategory:
      type: string
      enum:
      - MAIN
      - SIDE
      - BOUNTY
      - DAILY
      - WEEKLY
      - EVENT
      - TUTORIAL
      description: Category of quest for organization
    QuestDifficulty:
      type: string
      enum:
      - TRIVIAL
      - EASY
      - NORMAL
      - HARD
      - HEROIC
      - LEGENDARY
      description: Difficulty rating of the quest
    ObjectiveType:
      type: string
      enum:
      - KILL
      - COLLECT
      - DELIVER
      - TRAVEL
      - DISCOVER
      - TALK
      - CRAFT
      - ESCORT
      - DEFEND
      - CUSTOM
      description: Type of objective determining progress tracking logic
    ObjectiveRevealBehavior:
      type: string
      enum:
      - ALWAYS
      - ON_PROGRESS
      - ON_COMPLETE
      - NEVER
      description: When a hidden objective is revealed in the quest log
    PrerequisiteType:
      type: string
      enum:
      - QUEST_COMPLETED
      - CHARACTER_LEVEL
      - REPUTATION
      - ITEM_OWNED
      - CURRENCY_AMOUNT
      description: Type of prerequisite check
    CreateQuestDefinitionRequest:
      type: object
      additionalProperties: false
      required:
      - code
      - name
      - objectives
      - gameServiceId
      properties:
        code:
          type: string
          description: Unique quest code (uppercase, underscores)
        name:
          type: string
          description: Display name of the quest
        description:
          type: string
          nullable: true
          description: Quest description for players
        category:
          $ref: '#/components/schemas/QuestCategory'
        difficulty:
          $ref: '#/components/schemas/QuestDifficulty'
        levelRequirement:
          type: integer
          nullable: true
          description: Minimum character level required
        repeatable:
          type: boolean
          default: false
          description: Whether quest can be repeated
        cooldownSeconds:
          type: integer
          nullable: true
          description: Cooldown in seconds for repeatable quests
        deadlineSeconds:
          type: integer
          nullable: true
          description: Time limit in seconds (null for no deadline)
        maxQuestors:
          type: integer
          default: 1
          description: Maximum party members (1 for solo)
        objectives:
          type: array
          items:
            $ref: '#/components/schemas/ObjectiveDefinition'
          description: List of quest objectives (ordered)
        prerequisites:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/PrerequisiteDefinition'
          description: Requirements to accept the quest
        rewards:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/RewardDefinition'
          description: Rewards granted on completion
        tags:
          type: array
          nullable: true
          items:
            type: string
          description: Tags for filtering and organization
        questGiverCharacterId:
          type: string
          format: uuid
          nullable: true
          description: Character who offers this quest (null for any)
        gameServiceId:
          type: string
          format: uuid
          description: Game service this quest belongs to
    ObjectiveDefinition:
      type: object
      additionalProperties: false
      required:
      - code
      - name
      - objectiveType
      - requiredCount
      properties:
        code:
          type: string
          description: Unique objective code within quest
        name:
          type: string
          description: Display name of the objective
        description:
          type: string
          nullable: true
          description: Objective description
        objectiveType:
          $ref: '#/components/schemas/ObjectiveType'
        requiredCount:
          type: integer
          description: Count needed to complete
        targetEntityType:
          type: string
          nullable: true
          description: Entity type for kill/collect objectives
        targetEntitySubtype:
          type: string
          nullable: true
          description: Subtype filter (e.g., species:wolf)
        targetLocationId:
          type: string
          format: uuid
          nullable: true
          description: Location for travel/deliver objectives
        hidden:
          type: boolean
          default: false
          description: Whether objective is hidden initially
        revealBehavior:
          $ref: '#/components/schemas/ObjectiveRevealBehavior'
        optional:
          type: boolean
          default: false
          description: Whether objective is optional for completion
    PrerequisiteDefinition:
      type: object
      additionalProperties: false
      required:
      - type
      properties:
        type:
          $ref: '#/components/schemas/PrerequisiteType'
        questCode:
          type: string
          nullable: true
          description: Quest code for QUEST_COMPLETED type
        minLevel:
          type: integer
          nullable: true
          description: Minimum level for CHARACTER_LEVEL type
        factionCode:
          type: string
          nullable: true
          description: Faction code for REPUTATION type
        minReputation:
          type: integer
          nullable: true
          description: Minimum reputation for REPUTATION type
        itemCode:
          type: string
          nullable: true
          description: Item code for ITEM_OWNED type
        currencyCode:
          type: string
          nullable: true
          description: Currency code for CURRENCY_AMOUNT type
        minAmount:
          type: integer
          nullable: true
          description: Minimum amount for CURRENCY_AMOUNT type
    RewardDefinition:
      type: object
      additionalProperties: false
      required:
      - type
      properties:
        type:
          type: string
          enum:
          - CURRENCY
          - ITEM
          - EXPERIENCE
          - REPUTATION
          description: Type of reward
        currencyCode:
          type: string
          nullable: true
          description: Currency code for CURRENCY rewards
        amount:
          type: integer
          nullable: true
          description: Amount for CURRENCY/EXPERIENCE rewards
        itemCode:
          type: string
          nullable: true
          description: Item code for ITEM rewards
        quantity:
          type: integer
          nullable: true
          description: Quantity for ITEM rewards
        factionCode:
          type: string
          nullable: true
          description: Faction code for REPUTATION rewards
    QuestDefinitionResponse:
      type: object
      additionalProperties: false
      required:
      - definitionId
      - contractTemplateId
      - code
      - name
      - category
      - difficulty
      - repeatable
      - maxQuestors
      - objectives
      - deprecated
      - createdAt
      - gameServiceId
      properties:
        definitionId:
          type: string
          format: uuid
          description: Unique quest definition ID
        contractTemplateId:
          type: string
          format: uuid
          description: Underlying contract template ID
        code:
          type: string
          description: Quest code
        name:
          type: string
          description: Quest name
        description:
          type: string
          nullable: true
          description: Quest description
        category:
          $ref: '#/components/schemas/QuestCategory'
        difficulty:
          $ref: '#/components/schemas/QuestDifficulty'
        levelRequirement:
          type: integer
          nullable: true
          description: Minimum level required
        repeatable:
          type: boolean
          description: Whether repeatable
        cooldownSeconds:
          type: integer
          nullable: true
          description: Cooldown for repeatable quests
        deadlineSeconds:
          type: integer
          nullable: true
          description: Time limit
        maxQuestors:
          type: integer
          description: Max party size
        objectives:
          type: array
          items:
            $ref: '#/components/schemas/ObjectiveDefinition'
          description: Quest objectives
        prerequisites:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/PrerequisiteDefinition'
          description: Prerequisites
        rewards:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/RewardDefinition'
          description: Rewards
        tags:
          type: array
          nullable: true
          items:
            type: string
          description: Tags
        deprecated:
          type: boolean
          description: Whether deprecated
        createdAt:
          type: string
          format: date-time
          description: Creation timestamp
        gameServiceId:
          type: string
          format: uuid
          description: Game service ID
    GetQuestDefinitionRequest:
      type: object
      additionalProperties: false
      properties:
        definitionId:
          type: string
          format: uuid
          nullable: true
          description: Definition ID (provide either this or code)
        code:
          type: string
          nullable: true
          description: Quest code (provide either this or definitionId)
    ListQuestDefinitionsRequest:
      type: object
      additionalProperties: false
      properties:
        gameServiceId:
          type: string
          format: uuid
          nullable: true
          description: Filter by game service
        category:
          $ref: '#/components/schemas/QuestCategory'
        difficulty:
          $ref: '#/components/schemas/QuestDifficulty'
        tags:
          type: array
          nullable: true
          items:
            type: string
          description: Filter by tags (any match)
        includeDeprecated:
          type: boolean
          default: false
          description: Include deprecated definitions
        limit:
          type: integer
          default: 50
          description: Max results
        offset:
          type: integer
          default: 0
          description: Pagination offset
    ListQuestDefinitionsResponse:
      type: object
      additionalProperties: false
      required:
      - definitions
      - total
      properties:
        definitions:
          type: array
          items:
            $ref: '#/components/schemas/QuestDefinitionResponse'
          description: List of definitions
        total:
          type: integer
          description: Total count for pagination
    UpdateQuestDefinitionRequest:
      type: object
      additionalProperties: false
      required:
      - definitionId
      properties:
        definitionId:
          type: string
          format: uuid
          description: Definition to update
        name:
          type: string
          nullable: true
          description: New name
        description:
          type: string
          nullable: true
          description: New description
        category:
          $ref: '#/components/schemas/QuestCategory'
        difficulty:
          $ref: '#/components/schemas/QuestDifficulty'
        tags:
          type: array
          nullable: true
          items:
            type: string
          description: New tags
    DeprecateQuestDefinitionRequest:
      type: object
      additionalProperties: false
      required:
      - definitionId
      properties:
        definitionId:
          type: string
          format: uuid
          description: Definition to deprecate
    AcceptQuestRequest:
      type: object
      additionalProperties: false
      required:
      - questorCharacterId
      properties:
        definitionId:
          type: string
          format: uuid
          nullable: true
          description: Quest definition ID (provide either this or code)
        code:
          type: string
          nullable: true
          description: Quest code (provide either this or definitionId)
        questorCharacterId:
          type: string
          format: uuid
          description: Character accepting the quest
        questGiverCharacterId:
          type: string
          format: uuid
          nullable: true
          description: NPC offering the quest
        termOverrides:
          type: object
          nullable: true
          additionalProperties:
            type: string
          description: Template variable overrides
    AbandonQuestRequest:
      type: object
      additionalProperties: false
      required:
      - questInstanceId
      - questorCharacterId
      properties:
        questInstanceId:
          type: string
          format: uuid
          description: Quest instance to abandon
        questorCharacterId:
          type: string
          format: uuid
          description: Character abandoning
    GetQuestRequest:
      type: object
      additionalProperties: false
      required:
      - questInstanceId
      properties:
        questInstanceId:
          type: string
          format: uuid
          description: Quest instance ID
    ListQuestsRequest:
      type: object
      additionalProperties: false
      required:
      - characterId
      properties:
        characterId:
          type: string
          format: uuid
          description: Character to list quests for
        statuses:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/QuestStatus'
          description: Filter by statuses (null for all)
        limit:
          type: integer
          default: 50
          description: Max results
        offset:
          type: integer
          default: 0
          description: Pagination offset
    ListQuestsResponse:
      type: object
      additionalProperties: false
      required:
      - quests
      - total
      properties:
        quests:
          type: array
          items:
            $ref: '#/components/schemas/QuestInstanceResponse'
          description: Quest instances
        total:
          type: integer
          description: Total count
    ListAvailableQuestsRequest:
      type: object
      additionalProperties: false
      required:
      - characterId
      properties:
        characterId:
          type: string
          format: uuid
          description: Character to check availability for
        questGiverCharacterId:
          type: string
          format: uuid
          nullable: true
          description: Filter by quest giver
        gameServiceId:
          type: string
          format: uuid
          nullable: true
          description: Filter by game service
    ListAvailableQuestsResponse:
      type: object
      additionalProperties: false
      required:
      - available
      properties:
        available:
          type: array
          items:
            $ref: '#/components/schemas/QuestDefinitionResponse'
          description: Available quest definitions
    GetQuestLogRequest:
      type: object
      additionalProperties: false
      required:
      - characterId
      properties:
        characterId:
          type: string
          format: uuid
          description: Character to get log for
    QuestInstanceResponse:
      type: object
      additionalProperties: false
      required:
      - questInstanceId
      - definitionId
      - contractInstanceId
      - code
      - name
      - status
      - questorCharacterIds
      - objectives
      - acceptedAt
      properties:
        questInstanceId:
          type: string
          format: uuid
          description: Unique instance ID
        definitionId:
          type: string
          format: uuid
          description: Quest definition ID
        contractInstanceId:
          type: string
          format: uuid
          description: Underlying contract instance ID
        code:
          type: string
          description: Quest code
        name:
          type: string
          description: Quest name
        status:
          $ref: '#/components/schemas/QuestStatus'
        questorCharacterIds:
          type: array
          items:
            type: string
            format: uuid
          description: Characters on the quest
        questGiverCharacterId:
          type: string
          format: uuid
          nullable: true
          description: Quest giver NPC
        objectives:
          type: array
          items:
            $ref: '#/components/schemas/ObjectiveProgress'
          description: Objective progress
        acceptedAt:
          type: string
          format: date-time
          description: When quest was accepted
        deadline:
          type: string
          format: date-time
          nullable: true
          description: Quest deadline (null if none)
        completedAt:
          type: string
          format: date-time
          nullable: true
          description: When completed
    ObjectiveProgress:
      type: object
      additionalProperties: false
      required:
      - code
      - name
      - objectiveType
      - currentCount
      - requiredCount
      - isComplete
      - progressPercent
      - hidden
      - optional
      properties:
        code:
          type: string
          description: Objective code
        name:
          type: string
          description: Objective name
        description:
          type: string
          nullable: true
          description: Objective description
        objectiveType:
          $ref: '#/components/schemas/ObjectiveType'
        currentCount:
          type: integer
          description: Current progress count
        requiredCount:
          type: integer
          description: Required count
        isComplete:
          type: boolean
          description: Whether complete
        progressPercent:
          type: number
          format: float
          description: Progress percentage (0-100)
        hidden:
          type: boolean
          description: Whether currently hidden
        optional:
          type: boolean
          description: Whether optional
    QuestLogResponse:
      type: object
      additionalProperties: false
      required:
      - activeQuests
      - completedCount
      - failedCount
      properties:
        activeQuests:
          type: array
          items:
            $ref: '#/components/schemas/QuestLogEntry'
          description: Active quests with progress
        completedCount:
          type: integer
          description: Total completed quests
        failedCount:
          type: integer
          description: Total failed quests
    QuestLogEntry:
      type: object
      additionalProperties: false
      required:
      - questInstanceId
      - code
      - name
      - category
      - status
      - overallProgress
      - visibleObjectives
      - acceptedAt
      properties:
        questInstanceId:
          type: string
          format: uuid
          description: Quest instance ID
        code:
          type: string
          description: Quest code
        name:
          type: string
          description: Quest name
        category:
          $ref: '#/components/schemas/QuestCategory'
        status:
          $ref: '#/components/schemas/QuestStatus'
        overallProgress:
          type: number
          format: float
          description: Overall progress percentage
        visibleObjectives:
          type: array
          items:
            $ref: '#/components/schemas/ObjectiveProgress'
          description: Visible objectives (hidden ones excluded until revealed)
        deadline:
          type: string
          format: date-time
          nullable: true
          description: Deadline if any
        acceptedAt:
          type: string
          format: date-time
          description: When accepted
    ReportProgressRequest:
      type: object
      additionalProperties: false
      required:
      - questInstanceId
      - objectiveCode
      - incrementBy
      properties:
        questInstanceId:
          type: string
          format: uuid
          description: Quest instance
        objectiveCode:
          type: string
          description: Objective code
        incrementBy:
          type: integer
          description: Amount to increment progress
        trackedEntityId:
          type: string
          format: uuid
          nullable: true
          description: Entity that contributed to progress (for deduplication)
    ForceCompleteObjectiveRequest:
      type: object
      additionalProperties: false
      required:
      - questInstanceId
      - objectiveCode
      properties:
        questInstanceId:
          type: string
          format: uuid
          description: Quest instance
        objectiveCode:
          type: string
          description: Objective code
    GetObjectiveProgressRequest:
      type: object
      additionalProperties: false
      required:
      - questInstanceId
      - objectiveCode
      properties:
        questInstanceId:
          type: string
          format: uuid
          description: Quest instance
        objectiveCode:
          type: string
          description: Objective code
    ObjectiveProgressResponse:
      type: object
      additionalProperties: false
      required:
      - questInstanceId
      - objective
      - milestoneCompleted
      properties:
        questInstanceId:
          type: string
          format: uuid
          description: Quest instance ID
        objective:
          $ref: '#/components/schemas/ObjectiveProgress'
        milestoneCompleted:
          type: boolean
          description: Whether this progress completed the milestone
    MilestoneCompletedCallback:
      type: object
      additionalProperties: false
      required:
      - contractInstanceId
      - milestoneCode
      properties:
        contractInstanceId:
          type: string
          format: uuid
          description: Contract instance ID (maps to questInstanceId)
        milestoneCode:
          type: string
          description: Completed milestone code
    QuestCompletedCallback:
      type: object
      additionalProperties: false
      required:
      - contractInstanceId
      properties:
        contractInstanceId:
          type: string
          format: uuid
          description: Contract instance ID
