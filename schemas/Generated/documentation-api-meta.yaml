openapi: 3.0.0
info:
  title: Bannou Documentation API
  description: |
    Knowledge base API for AI agents to query documentation.
    Designed for SignalWire SWAIG, OpenAI function calling, and Claude tool use.
    All endpoints return voice-friendly summaries alongside detailed content.

    **POST-Only API Pattern**: This API uses POST for all operations to support zero-copy
    WebSocket routing. Path parameters are passed in request bodies instead of URLs.
    See docs/BANNOU_DESIGN.md for architectural rationale.

    **Browser Endpoint**: The GET /documentation/view/{slug} endpoint is browser-facing
    (NGINX-routed) per FOUNDATION TENETS.

    **SCHEMA MODIFICATION GATE**: STOP. Before modifying this schema, you MUST:
    1. Read docs/reference/SCHEMA-RULES.md
    2. State which section applies to your change
    3. Only then proceed with edits
    Edits without stating the applicable rule are FORBIDDEN.
  version: 1.0.0
x-service-layer: AppFeatures
servers:
- url: http://localhost:5012
  description: Bannou service endpoint (MUST use "bannou" app-id)
paths:
  /documentation/view/{slug}:
    get:
      operationId: viewDocumentBySlug
      summary: View documentation page in browser
      description: |
        Browser-facing endpoint for viewing documentation.
        Routed via NGINX, not exposed to WebSocket clients.
        Returns HTML-rendered documentation page.
      tags:
      - Browser
      x-permissions: []
      parameters:
      - name: slug
        in: path
        required: true
        schema:
          type: string
          pattern: '^[a-z0-9-]+$'
        description: Document slug within namespace
      - name: ns
        in: query
        required: false
        schema:
          type: string
          default: bannou
        description: Documentation namespace (defaults to bannou)
      responses:
        '200':
          description: HTML documentation page (returns ContentResult)
        '404':
          description: Document not found
      x-manual-implementation: true
      x-request-schema-json: '{}'
      x-response-schema-json: '{}'
      x-endpoint-info-json: "{\n    \"summary\": \"View documentation page in browser\",\n    \"description\": \"Browser-facing
        endpoint for viewing documentation.\\nRouted via NGINX, not exposed to WebSocket clients.\\nReturns HTML-rendered
        documentation page.\\n\",\n    \"tags\": [\n        \"Browser\"\n    ],\n    \"deprecated\": false,\n    \"operationId\"\
        : \"viewDocumentBySlug\"\n}"
  /documentation/raw/{slug}:
    get:
      operationId: rawDocumentBySlug
      summary: Get raw markdown content
      description: |
        Browser-facing endpoint for retrieving raw markdown content.
        Routed via NGINX, not exposed to WebSocket clients.
        Returns raw markdown with text/markdown content type.
      tags:
      - Browser
      x-permissions: []
      parameters:
      - name: slug
        in: path
        required: true
        schema:
          type: string
          pattern: '^[a-z0-9-]+$'
        description: Document slug within namespace
      - name: ns
        in: query
        required: false
        schema:
          type: string
          default: bannou
        description: Documentation namespace (defaults to bannou)
      responses:
        '200':
          description: Raw markdown content
          content:
            text/markdown:
              schema:
                type: string
        '404':
          description: Document not found
      x-manual-implementation: true
      x-request-schema-json: '{}'
      x-response-schema-json: '{}'
      x-endpoint-info-json: "{\n    \"summary\": \"Get raw markdown content\",\n    \"description\": \"Browser-facing endpoint
        for retrieving raw markdown content.\\nRouted via NGINX, not exposed to WebSocket clients.\\nReturns raw markdown
        with text/markdown content type.\\n\",\n    \"tags\": [\n        \"Browser\"\n    ],\n    \"deprecated\": false,\n\
        \    \"operationId\": \"rawDocumentBySlug\"\n}"
  /documentation/query:
    post:
      operationId: queryDocumentation
      summary: Natural language documentation search
      description: |
        Search documentation using natural language queries.
        Returns the most relevant documents with voice-friendly summaries.
      tags:
      - Search
      x-permissions:
      - role: anonymous
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QueryDocumentationRequest'
      responses:
        '200':
          description: Search results with voice-friendly summaries
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryDocumentationResponse'
        '400':
          description: Invalid request
        '500':
          description: Internal server error
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/QueryDocumentationRequest\"\
        ,\n    \"$defs\": {\n        \"QueryDocumentationRequest\": {\n            \"description\": \"Request to search documentation
        using natural language queries\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"namespace\",\n                \"query\"\n            ],\n        \
        \    \"properties\": {\n                \"namespace\": {\n                    \"type\": \"string\",\n            \
        \        \"pattern\": \"^[a-z0-9-]+$\",\n                    \"maxLength\": 50,\n                    \"description\"\
        : \"Documentation namespace to search within\"\n                },\n                \"query\": {\n               \
        \     \"type\": \"string\",\n                    \"minLength\": 3,\n                    \"maxLength\": 500,\n    \
        \                \"description\": \"Natural language query to search for\"\n                },\n                \"\
        sessionId\": {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n           \
        \         \"description\": \"Optional session ID for conversational context\"\n                },\n              \
        \  \"category\": {\n                    \"$ref\": \"#/$defs/DocumentCategory\",\n                    \"description\"\
        : \"Filter results to a specific category\"\n                },\n                \"maxResults\": {\n             \
        \       \"type\": \"integer\",\n                    \"default\": 5,\n                    \"minimum\": 1,\n       \
        \             \"maximum\": 20,\n                    \"description\": \"Maximum number of results to return\"\n   \
        \             },\n                \"includeContent\": {\n                    \"type\": \"boolean\",\n            \
        \        \"default\": false,\n                    \"description\": \"Whether to include full document content in results\"\
        \n                },\n                \"maxSummaryLength\": {\n                    \"type\": \"integer\",\n      \
        \              \"default\": 300,\n                    \"minimum\": 50,\n                    \"maximum\": 500,\n  \
        \                  \"description\": \"Maximum length of summaries in characters\"\n                },\n          \
        \      \"minRelevanceScore\": {\n                    \"type\": \"number\",\n                    \"format\": \"float\"\
        ,\n                    \"default\": 0.3,\n                    \"minimum\": 0.0,\n                    \"maximum\":
        1.0,\n                    \"description\": \"Minimum relevance score threshold for results\"\n                }\n\
        \            }\n        },\n        \"DocumentCategory\": {\n            \"type\": \"string\",\n            \"enum\"\
        : [\n                \"getting-started\",\n                \"api-reference\",\n                \"architecture\",\n\
        \                \"deployment\",\n                \"troubleshooting\",\n                \"tutorials\",\n         \
        \       \"game-systems\",\n                \"world-lore\",\n                \"npc-ai\",\n                \"other\"\
        \n            ],\n            \"description\": \"Fixed categories for type-safe filtering\"\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/QueryDocumentationResponse\"\
        ,\n    \"$defs\": {\n        \"QueryDocumentationResponse\": {\n            \"description\": \"Response containing
        search results and voice-friendly summaries\",\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"namespace\",\n                \"query\",\n              \
        \  \"results\"\n            ],\n            \"properties\": {\n                \"namespace\": {\n                \
        \    \"type\": \"string\",\n                    \"description\": \"The namespace that was searched\"\n           \
        \     },\n                \"query\": {\n                    \"type\": \"string\",\n                    \"description\"\
        : \"The original query string\"\n                },\n                \"results\": {\n                    \"type\"\
        : \"array\",\n                    \"items\": {\n                        \"$ref\": \"#/$defs/DocumentResult\"\n   \
        \                 },\n                    \"description\": \"List of matching documents\"\n                },\n  \
        \              \"totalResults\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Total number of matching documents\"\n                },\n                \"voiceSummary\": {\n              \
        \      \"type\": \"string\",\n                    \"description\": \"Concise spoken summary for voice AI\"\n     \
        \           },\n                \"suggestedFollowups\": {\n                    \"type\": \"array\",\n            \
        \        \"items\": {\n                        \"type\": \"string\"\n                    },\n                    \"\
        description\": \"Suggested follow-up queries\"\n                },\n                \"noResultsMessage\": {\n    \
        \                \"type\": \"string\",\n                    \"description\": \"User-friendly message when no results
        found\"\n                }\n            }\n        },\n        \"DocumentResult\": {\n            \"description\"\
        : \"Search result with relevance scoring and match highlights\",\n            \"type\": \"object\",\n            \"\
        additionalProperties\": false,\n            \"required\": [\n                \"documentId\",\n                \"slug\"\
        ,\n                \"title\",\n                \"relevanceScore\"\n            ],\n            \"properties\": {\n\
        \                \"documentId\": {\n                    \"type\": \"string\",\n                    \"format\": \"\
        uuid\",\n                    \"description\": \"Unique identifier of the document\"\n                },\n        \
        \        \"slug\": {\n                    \"type\": \"string\",\n                    \"description\": \"URL-friendly
        unique identifier\"\n                },\n                \"title\": {\n                    \"type\": \"string\",\n\
        \                    \"description\": \"Display title of the document\"\n                },\n                \"category\"\
        : {\n                    \"$ref\": \"#/$defs/DocumentCategory\",\n                    \"description\": \"Category
        of the document\"\n                },\n                \"summary\": {\n                    \"type\": \"string\",\n\
        \                    \"nullable\": true,\n                    \"description\": \"Brief text summary of the document\"\
        \n                },\n                \"voiceSummary\": {\n                    \"type\": \"string\",\n           \
        \         \"nullable\": true,\n                    \"description\": \"Concise summary optimized for voice AI\"\n \
        \               },\n                \"content\": {\n                    \"type\": \"string\",\n                  \
        \  \"nullable\": true,\n                    \"description\": \"Full document content if requested\"\n            \
        \    },\n                \"relevanceScore\": {\n                    \"type\": \"number\",\n                    \"\
        format\": \"float\",\n                    \"description\": \"Relevance score from 0.0 to 1.0\"\n                },\n\
        \                \"matchHighlights\": {\n                    \"type\": \"array\",\n                    \"items\":
        {\n                        \"type\": \"string\"\n                    },\n                    \"description\": \"Text
        snippets showing where matches occurred\"\n                }\n            }\n        },\n        \"DocumentCategory\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"getting-started\",\n          \
        \      \"api-reference\",\n                \"architecture\",\n                \"deployment\",\n                \"\
        troubleshooting\",\n                \"tutorials\",\n                \"game-systems\",\n                \"world-lore\"\
        ,\n                \"npc-ai\",\n                \"other\"\n            ],\n            \"description\": \"Fixed categories
        for type-safe filtering\"\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Natural language documentation search\",\n    \"description\": \"Search
        documentation using natural language queries.\\nReturns the most relevant documents with voice-friendly summaries.\\\
        n\",\n    \"tags\": [\n        \"Search\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"queryDocumentation\"\
        \n}"
  /documentation/get:
    post:
      operationId: getDocument
      summary: Get specific document by ID or slug
      description: |
        Retrieve a specific document by its unique identifier or slug.
        Returns full content with metadata.
      tags:
      - Documents
      x-permissions:
      - role: anonymous
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetDocumentRequest'
      responses:
        '200':
          description: Document content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetDocumentResponse'
        '404':
          description: Document not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/GetDocumentRequest\"\
        ,\n    \"$defs\": {\n        \"GetDocumentRequest\": {\n            \"description\": \"Request to retrieve a specific
        document by ID or slug\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n     \
        \       \"required\": [\n                \"namespace\"\n            ],\n            \"properties\": {\n          \
        \      \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\"\
        ,\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace containing
        the document\"\n                },\n                \"documentId\": {\n                    \"type\": \"string\",\n\
        \                    \"format\": \"uuid\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Unique identifier of the document to retrieve (null if using slug)\"\n                },\n                \"slug\"\
        : {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\",\n             \
        \       \"nullable\": true,\n                    \"description\": \"URL-friendly slug of the document to retrieve
        (null if using documentId)\"\n                },\n                \"sessionId\": {\n                    \"type\":
        \"string\",\n                    \"format\": \"uuid\",\n                    \"nullable\": true,\n                \
        \    \"description\": \"Optional session ID for tracking document views (null if not tracking)\"\n               \
        \ },\n                \"includeRelated\": {\n                    \"$ref\": \"#/$defs/RelatedDepth\",\n           \
        \         \"nullable\": true,\n                    \"description\": \"How deep to fetch related documents (null for
        no related documents)\"\n                },\n                \"includeContent\": {\n                    \"type\":
        \"boolean\",\n                    \"default\": false,\n                    \"description\": \"Whether to include full
        document content\"\n                },\n                \"renderHtml\": {\n                    \"type\": \"boolean\"\
        ,\n                    \"default\": false,\n                    \"description\": \"Whether to render markdown content
        as HTML\"\n                }\n            }\n        },\n        \"RelatedDepth\": {\n            \"type\": \"string\"\
        ,\n            \"enum\": [\n                \"none\",\n                \"direct\",\n                \"extended\"\n\
        \            ],\n            \"default\": \"direct\",\n            \"description\": \"How deep to traverse related
        document links:\\n- none: No related documents included\\n- direct: Only directly linked documents (depth 1)\\n- extended:
        Related documents + their related documents (depth 2)\\n\"\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/GetDocumentResponse\"\
        ,\n    \"$defs\": {\n        \"GetDocumentResponse\": {\n            \"description\": \"Response containing the requested
        document and optional related documents\",\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"document\"\n            ],\n            \"properties\": {\n\
        \                \"document\": {\n                    \"$ref\": \"#/$defs/Document\",\n                    \"description\"\
        : \"The requested document\"\n                },\n                \"relatedDocuments\": {\n                    \"\
        type\": \"array\",\n                    \"items\": {\n                        \"$ref\": \"#/$defs/DocumentSummary\"\
        \n                    },\n                    \"description\": \"List of related documents based on includeRelated
        depth\"\n                },\n                \"contentFormat\": {\n                    \"type\": \"string\",\n   \
        \                 \"enum\": [\n                        \"markdown\",\n                        \"html\",\n        \
        \                \"none\"\n                    ],\n                    \"description\": \"Format of the content field
        in the response\"\n                }\n            }\n        },\n        \"Document\": {\n            \"description\"\
        : \"Complete document with all metadata and content\",\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"documentId\",\n                \"namespace\",\n         \
        \       \"slug\",\n                \"title\",\n                \"category\",\n                \"createdAt\",\n   \
        \             \"updatedAt\"\n            ],\n            \"properties\": {\n                \"documentId\": {\n  \
        \                  \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\"\
        : \"Unique identifier of the document\"\n                },\n                \"namespace\": {\n                  \
        \  \"type\": \"string\",\n                    \"description\": \"Namespace the document belongs to\"\n           \
        \     },\n                \"slug\": {\n                    \"type\": \"string\",\n                    \"description\"\
        : \"URL-friendly unique identifier\"\n                },\n                \"title\": {\n                    \"type\"\
        : \"string\",\n                    \"description\": \"Display title of the document\"\n                },\n      \
        \          \"category\": {\n                    \"$ref\": \"#/$defs/DocumentCategory\",\n                    \"description\"\
        : \"Category for organizing the document\"\n                },\n                \"content\": {\n                 \
        \   \"type\": \"string\",\n                    \"description\": \"Full markdown content of the document\"\n      \
        \          },\n                \"summary\": {\n                    \"type\": \"string\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"Brief text summary of the document\"\n                },\n       \
        \         \"voiceSummary\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n\
        \                    \"description\": \"Concise summary optimized for voice AI\"\n                },\n           \
        \     \"tags\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                  \
        \      \"type\": \"string\"\n                    },\n                    \"description\": \"Tags for filtering and
        search\"\n                },\n                \"relatedDocuments\": {\n                    \"type\": \"array\",\n\
        \                    \"items\": {\n                        \"type\": \"string\",\n                        \"format\"\
        : \"uuid\"\n                    },\n                    \"description\": \"IDs of related documents\"\n          \
        \      },\n                \"metadata\": {\n                    \"type\": \"object\",\n                    \"additionalProperties\"\
        : true,\n                    \"description\": \"Custom metadata key-value pairs\"\n                },\n          \
        \      \"createdAt\": {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\"\
        ,\n                    \"description\": \"Timestamp when the document was created\"\n                },\n        \
        \        \"updatedAt\": {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\"\
        ,\n                    \"description\": \"Timestamp when the document was last updated\"\n                }\n    \
        \        }\n        },\n        \"DocumentCategory\": {\n            \"type\": \"string\",\n            \"enum\":
        [\n                \"getting-started\",\n                \"api-reference\",\n                \"architecture\",\n \
        \               \"deployment\",\n                \"troubleshooting\",\n                \"tutorials\",\n          \
        \      \"game-systems\",\n                \"world-lore\",\n                \"npc-ai\",\n                \"other\"\n\
        \            ],\n            \"description\": \"Fixed categories for type-safe filtering\"\n        },\n        \"\
        DocumentSummary\": {\n            \"description\": \"Lightweight document representation for listings and references\"\
        ,\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n\
        \                \"documentId\",\n                \"slug\",\n                \"title\",\n                \"category\"\
        \n            ],\n            \"properties\": {\n                \"documentId\": {\n                    \"type\":
        \"string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"Unique identifier of
        the document\"\n                },\n                \"slug\": {\n                    \"type\": \"string\",\n     \
        \               \"description\": \"URL-friendly unique identifier\"\n                },\n                \"title\"\
        : {\n                    \"type\": \"string\",\n                    \"description\": \"Display title of the document\"\
        \n                },\n                \"category\": {\n                    \"$ref\": \"#/$defs/DocumentCategory\"\
        ,\n                    \"description\": \"Category of the document\"\n                },\n                \"summary\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Brief text summary of the document\"\n                },\n                \"voiceSummary\": {\n              \
        \      \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Concise
        summary optimized for voice AI\"\n                },\n                \"tags\": {\n                    \"type\": \"\
        array\",\n                    \"items\": {\n                        \"type\": \"string\"\n                    },\n\
        \                    \"description\": \"Tags associated with the document\"\n                }\n            }\n  \
        \      }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Get specific document by ID or slug\",\n    \"description\": \"Retrieve
        a specific document by its unique identifier or slug.\\nReturns full content with metadata.\\n\",\n    \"tags\": [\n\
        \        \"Documents\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"getDocument\"\n}"
  /documentation/search:
    post:
      operationId: searchDocumentation
      summary: Full-text keyword search
      description: |
        Search documentation using exact keyword matching.
        Faster than semantic search but less flexible.
      tags:
      - Search
      x-permissions:
      - role: anonymous
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchDocumentationRequest'
      responses:
        '200':
          description: Matching documents
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchDocumentationResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/SearchDocumentationRequest\"\
        ,\n    \"$defs\": {\n        \"SearchDocumentationRequest\": {\n            \"description\": \"Request to search documentation
        using keyword matching\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n     \
        \       \"required\": [\n                \"namespace\",\n                \"searchTerm\"\n            ],\n        \
        \    \"properties\": {\n                \"namespace\": {\n                    \"type\": \"string\",\n            \
        \        \"pattern\": \"^[a-z0-9-]+$\",\n                    \"maxLength\": 50,\n                    \"description\"\
        : \"Documentation namespace to search within\"\n                },\n                \"searchTerm\": {\n          \
        \          \"type\": \"string\",\n                    \"minLength\": 2,\n                    \"maxLength\": 200,\n\
        \                    \"description\": \"Keyword or phrase to search for\"\n                },\n                \"\
        sessionId\": {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n           \
        \         \"nullable\": true,\n                    \"description\": \"Optional session ID for tracking searches (null
        if not tracking)\"\n                },\n                \"category\": {\n                    \"$ref\": \"#/$defs/DocumentCategory\"\
        ,\n                    \"nullable\": true,\n                    \"description\": \"Filter results to a specific category
        (null for all categories)\"\n                },\n                \"maxResults\": {\n                    \"type\":
        \"integer\",\n                    \"default\": 10,\n                    \"minimum\": 1,\n                    \"maximum\"\
        : 50,\n                    \"description\": \"Maximum number of results to return\"\n                },\n        \
        \        \"searchIn\": {\n                    \"type\": \"array\",\n                    \"items\": {\n           \
        \             \"$ref\": \"#/$defs/SearchField\"\n                    },\n                    \"nullable\": true,\n\
        \                    \"description\": \"Fields to search within (null for default fields)\"\n                },\n\
        \                \"sortBy\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n     \
        \                   \"relevance\",\n                        \"recency\",\n                        \"alphabetical\"\
        \n                    ],\n                    \"default\": \"relevance\",\n                    \"description\": \"\
        How to sort the search results\"\n                },\n                \"includeContent\": {\n                    \"\
        type\": \"boolean\",\n                    \"default\": false,\n                    \"description\": \"Whether to include
        full document content in results\"\n                }\n            }\n        },\n        \"DocumentCategory\": {\n\
        \            \"type\": \"string\",\n            \"enum\": [\n                \"getting-started\",\n              \
        \  \"api-reference\",\n                \"architecture\",\n                \"deployment\",\n                \"troubleshooting\"\
        ,\n                \"tutorials\",\n                \"game-systems\",\n                \"world-lore\",\n          \
        \      \"npc-ai\",\n                \"other\"\n            ],\n            \"description\": \"Fixed categories for
        type-safe filtering\"\n        },\n        \"SearchField\": {\n            \"type\": \"string\",\n            \"enum\"\
        : [\n                \"title\",\n                \"content\",\n                \"tags\",\n                \"summary\"\
        \n            ],\n            \"description\": \"Fields that can be searched within documents\"\n        }\n    }\n\
        }"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/SearchDocumentationResponse\"\
        ,\n    \"$defs\": {\n        \"SearchDocumentationResponse\": {\n            \"description\": \"Response containing
        keyword search results\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n     \
        \       \"required\": [\n                \"namespace\",\n                \"results\"\n            ],\n           \
        \ \"properties\": {\n                \"namespace\": {\n                    \"type\": \"string\",\n               \
        \     \"description\": \"The namespace that was searched\"\n                },\n                \"results\": {\n \
        \                   \"type\": \"array\",\n                    \"items\": {\n                        \"$ref\": \"#/$defs/DocumentResult\"\
        \n                    },\n                    \"description\": \"List of matching documents\"\n                },\n\
        \                \"totalResults\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Total number of matching documents\"\n                },\n                \"searchTerm\": {\n                \
        \    \"type\": \"string\",\n                    \"description\": \"The original search term\"\n                }\n\
        \            }\n        },\n        \"DocumentResult\": {\n            \"description\": \"Search result with relevance
        scoring and match highlights\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"documentId\",\n                \"slug\",\n                \"title\"\
        ,\n                \"relevanceScore\"\n            ],\n            \"properties\": {\n                \"documentId\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"\
        description\": \"Unique identifier of the document\"\n                },\n                \"slug\": {\n          \
        \          \"type\": \"string\",\n                    \"description\": \"URL-friendly unique identifier\"\n      \
        \          },\n                \"title\": {\n                    \"type\": \"string\",\n                    \"description\"\
        : \"Display title of the document\"\n                },\n                \"category\": {\n                    \"$ref\"\
        : \"#/$defs/DocumentCategory\",\n                    \"description\": \"Category of the document\"\n             \
        \   },\n                \"summary\": {\n                    \"type\": \"string\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"Brief text summary of the document\"\n                },\n       \
        \         \"voiceSummary\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n\
        \                    \"description\": \"Concise summary optimized for voice AI\"\n                },\n           \
        \     \"content\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n       \
        \             \"description\": \"Full document content if requested\"\n                },\n                \"relevanceScore\"\
        : {\n                    \"type\": \"number\",\n                    \"format\": \"float\",\n                    \"\
        description\": \"Relevance score from 0.0 to 1.0\"\n                },\n                \"matchHighlights\": {\n \
        \                   \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\"\
        \n                    },\n                    \"description\": \"Text snippets showing where matches occurred\"\n\
        \                }\n            }\n        },\n        \"DocumentCategory\": {\n            \"type\": \"string\",\n\
        \            \"enum\": [\n                \"getting-started\",\n                \"api-reference\",\n             \
        \   \"architecture\",\n                \"deployment\",\n                \"troubleshooting\",\n                \"tutorials\"\
        ,\n                \"game-systems\",\n                \"world-lore\",\n                \"npc-ai\",\n             \
        \   \"other\"\n            ],\n            \"description\": \"Fixed categories for type-safe filtering\"\n       \
        \ }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Full-text keyword search\",\n    \"description\": \"Search documentation
        using exact keyword matching.\\nFaster than semantic search but less flexible.\\n\",\n    \"tags\": [\n        \"\
        Search\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"searchDocumentation\"\n}"
  /documentation/list:
    post:
      operationId: listDocuments
      summary: List documents by category
      description: |
        List all documents in a specific category or all categories.
        Supports pagination for large result sets.
      tags:
      - Documents
      x-permissions:
      - role: anonymous
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ListDocumentsRequest'
      responses:
        '200':
          description: Document list
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListDocumentsResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListDocumentsRequest\"\
        ,\n    \"$defs\": {\n        \"ListDocumentsRequest\": {\n            \"description\": \"Request to list documents
        with optional filtering and pagination\",\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"namespace\"\n            ],\n            \"properties\":
        {\n                \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"\
        ^[a-z0-9-]+$\",\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace
        to list documents from\"\n                },\n                \"category\": {\n                    \"$ref\": \"#/$defs/DocumentCategory\"\
        ,\n                    \"description\": \"Filter to a specific category\"\n                },\n                \"\
        tags\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"\
        type\": \"string\"\n                    },\n                    \"nullable\": true,\n                    \"description\"\
        : \"Filter by tags (null to skip tag filtering)\"\n                },\n                \"tagsMatch\": {\n        \
        \            \"type\": \"string\",\n                    \"enum\": [\n                        \"all\",\n          \
        \              \"any\"\n                    ],\n                    \"default\": \"all\",\n                    \"\
        description\": \"Whether documents must match all tags or any tag\"\n                },\n                \"createdAfter\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\",\n                 \
        \   \"description\": \"Filter to documents created after this timestamp\"\n                },\n                \"\
        createdBefore\": {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\",\n  \
        \                  \"description\": \"Filter to documents created before this timestamp\"\n                },\n  \
        \              \"updatedAfter\": {\n                    \"type\": \"string\",\n                    \"format\": \"\
        date-time\",\n                    \"description\": \"Filter to documents updated after this timestamp\"\n        \
        \        },\n                \"updatedBefore\": {\n                    \"type\": \"string\",\n                   \
        \ \"format\": \"date-time\",\n                    \"description\": \"Filter to documents updated before this timestamp\"\
        \n                },\n                \"titlesOnly\": {\n                    \"type\": \"boolean\",\n            \
        \        \"default\": false,\n                    \"description\": \"Return only document titles without summaries\"\
        \n                },\n                \"page\": {\n                    \"type\": \"integer\",\n                  \
        \  \"default\": 1,\n                    \"minimum\": 1,\n                    \"description\": \"Page number for pagination\"\
        \n                },\n                \"pageSize\": {\n                    \"type\": \"integer\",\n              \
        \      \"default\": 20,\n                    \"minimum\": 1,\n                    \"maximum\": 100,\n            \
        \        \"description\": \"Number of documents per page\"\n                },\n                \"sortBy\": {\n  \
        \                  \"$ref\": \"#/$defs/ListSortField\",\n                    \"description\": \"Field to sort results
        by\"\n                },\n                \"sortOrder\": {\n                    \"type\": \"string\",\n          \
        \          \"enum\": [\n                        \"asc\",\n                        \"desc\"\n                    ],\n\
        \                    \"default\": \"desc\",\n                    \"description\": \"Sort order direction\"\n     \
        \           }\n            }\n        },\n        \"DocumentCategory\": {\n            \"type\": \"string\",\n   \
        \         \"enum\": [\n                \"getting-started\",\n                \"api-reference\",\n                \"\
        architecture\",\n                \"deployment\",\n                \"troubleshooting\",\n                \"tutorials\"\
        ,\n                \"game-systems\",\n                \"world-lore\",\n                \"npc-ai\",\n             \
        \   \"other\"\n            ],\n            \"description\": \"Fixed categories for type-safe filtering\"\n       \
        \ },\n        \"ListSortField\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"\
        created_at\",\n                \"updated_at\",\n                \"title\"\n            ],\n            \"default\"\
        : \"updated_at\",\n            \"description\": \"Fields available for sorting document lists\"\n        }\n    }\n\
        }"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListDocumentsResponse\"\
        ,\n    \"$defs\": {\n        \"ListDocumentsResponse\": {\n            \"description\": \"Response containing a paginated
        list of documents\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n          \
        \  \"required\": [\n                \"namespace\",\n                \"documents\"\n            ],\n            \"\
        properties\": {\n                \"namespace\": {\n                    \"type\": \"string\",\n                   \
        \ \"description\": \"The namespace that was listed\"\n                },\n                \"documents\": {\n     \
        \               \"type\": \"array\",\n                    \"items\": {\n                        \"$ref\": \"#/$defs/DocumentSummary\"\
        \n                    },\n                    \"description\": \"List of documents in the namespace\"\n          \
        \      },\n                \"totalCount\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Total number of documents matching filters\"\n                },\n                \"page\": {\n              \
        \      \"type\": \"integer\",\n                    \"description\": \"Current page number\"\n                },\n\
        \                \"pageSize\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Number of documents per page\"\n                },\n                \"totalPages\": {\n                    \"\
        type\": \"integer\",\n                    \"description\": \"Total number of pages available\"\n                }\n\
        \            }\n        },\n        \"DocumentSummary\": {\n            \"description\": \"Lightweight document representation
        for listings and references\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"documentId\",\n                \"slug\",\n                \"title\"\
        ,\n                \"category\"\n            ],\n            \"properties\": {\n                \"documentId\": {\n\
        \                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\"\
        : \"Unique identifier of the document\"\n                },\n                \"slug\": {\n                    \"type\"\
        : \"string\",\n                    \"description\": \"URL-friendly unique identifier\"\n                },\n     \
        \           \"title\": {\n                    \"type\": \"string\",\n                    \"description\": \"Display
        title of the document\"\n                },\n                \"category\": {\n                    \"$ref\": \"#/$defs/DocumentCategory\"\
        ,\n                    \"description\": \"Category of the document\"\n                },\n                \"summary\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Brief text summary of the document\"\n                },\n                \"voiceSummary\": {\n              \
        \      \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Concise
        summary optimized for voice AI\"\n                },\n                \"tags\": {\n                    \"type\": \"\
        array\",\n                    \"items\": {\n                        \"type\": \"string\"\n                    },\n\
        \                    \"description\": \"Tags associated with the document\"\n                }\n            }\n  \
        \      },\n        \"DocumentCategory\": {\n            \"type\": \"string\",\n            \"enum\": [\n         \
        \       \"getting-started\",\n                \"api-reference\",\n                \"architecture\",\n            \
        \    \"deployment\",\n                \"troubleshooting\",\n                \"tutorials\",\n                \"game-systems\"\
        ,\n                \"world-lore\",\n                \"npc-ai\",\n                \"other\"\n            ],\n     \
        \       \"description\": \"Fixed categories for type-safe filtering\"\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"List documents by category\",\n    \"description\": \"List all documents
        in a specific category or all categories.\\nSupports pagination for large result sets.\\n\",\n    \"tags\": [\n  \
        \      \"Documents\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"listDocuments\"\n}"
  /documentation/suggest:
    post:
      operationId: suggestRelatedTopics
      summary: Get related topics and follow-up suggestions
      description: |
        Given a topic or document ID, returns related topics the user
        might want to explore. Useful for conversational AI flow.
      tags:
      - Search
      x-permissions:
      - role: anonymous
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SuggestRelatedRequest'
      responses:
        '200':
          description: Related topics
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuggestRelatedResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/SuggestRelatedRequest\"\
        ,\n    \"$defs\": {\n        \"SuggestRelatedRequest\": {\n            \"description\": \"Request to get related topic
        suggestions based on a source\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"namespace\",\n                \"suggestionSource\"\n            ],\n\
        \            \"properties\": {\n                \"namespace\": {\n                    \"type\": \"string\",\n    \
        \                \"pattern\": \"^[a-z0-9-]+$\",\n                    \"maxLength\": 50,\n                    \"description\"\
        : \"Documentation namespace for suggestions\"\n                },\n                \"suggestionSource\": {\n     \
        \               \"$ref\": \"#/$defs/SuggestionSource\",\n                    \"description\": \"Type of source to
        base suggestions on\"\n                },\n                \"sourceValue\": {\n                    \"type\": \"string\"\
        ,\n                    \"description\": \"The value for the suggestion source (document ID, slug, topic, or category)\"\
        \n                },\n                \"sessionId\": {\n                    \"type\": \"string\",\n              \
        \      \"format\": \"uuid\",\n                    \"description\": \"Optional session ID for personalized suggestions\"\
        \n                },\n                \"maxSuggestions\": {\n                    \"type\": \"integer\",\n        \
        \            \"default\": 5,\n                    \"minimum\": 1,\n                    \"maximum\": 10,\n        \
        \            \"description\": \"Maximum number of suggestions to return\"\n                },\n                \"\
        excludeRecentlyViewed\": {\n                    \"type\": \"boolean\",\n                    \"default\": true,\n \
        \                   \"description\": \"Exclude documents viewed in current session\"\n                }\n        \
        \    }\n        },\n        \"SuggestionSource\": {\n            \"type\": \"string\",\n            \"enum\": [\n\
        \                \"document_id\",\n                \"slug\",\n                \"topic\",\n                \"category\"\
        \n            ],\n            \"description\": \"Source type for generating related topic suggestions\"\n        }\n\
        \    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/SuggestRelatedResponse\"\
        ,\n    \"$defs\": {\n        \"SuggestRelatedResponse\": {\n            \"description\": \"Response containing suggested
        related topics for conversational flow\",\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"namespace\",\n                \"suggestions\"\n         \
        \   ],\n            \"properties\": {\n                \"namespace\": {\n                    \"type\": \"string\"\
        ,\n                    \"description\": \"The namespace suggestions are from\"\n                },\n             \
        \   \"suggestions\": {\n                    \"type\": \"array\",\n                    \"items\": {\n             \
        \           \"$ref\": \"#/$defs/TopicSuggestion\"\n                    },\n                    \"description\": \"\
        List of suggested related topics\"\n                },\n                \"voicePrompt\": {\n                    \"\
        type\": \"string\",\n                    \"description\": \"Voice-friendly prompt for presenting suggestions\"\n \
        \               },\n                \"sessionInfluenced\": {\n                    \"type\": \"boolean\",\n       \
        \             \"description\": \"Whether suggestions were influenced by session history\"\n                }\n   \
        \         }\n        },\n        \"TopicSuggestion\": {\n            \"description\": \"A suggested related topic
        with relevance context\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n     \
        \       \"required\": [\n                \"documentId\",\n                \"title\"\n            ],\n            \"\
        properties\": {\n                \"documentId\": {\n                    \"type\": \"string\",\n                  \
        \  \"format\": \"uuid\",\n                    \"description\": \"Unique identifier of the suggested document\"\n \
        \               },\n                \"slug\": {\n                    \"type\": \"string\",\n                    \"\
        description\": \"URL-friendly slug of the suggested document\"\n                },\n                \"title\": {\n\
        \                    \"type\": \"string\",\n                    \"description\": \"Title of the suggested document\"\
        \n                },\n                \"category\": {\n                    \"$ref\": \"#/$defs/DocumentCategory\"\
        ,\n                    \"description\": \"Category of the suggested document\"\n                },\n             \
        \   \"relevanceReason\": {\n                    \"type\": \"string\",\n                    \"description\": \"Explanation
        of why this document is relevant\"\n                }\n            }\n        },\n        \"DocumentCategory\": {\n\
        \            \"type\": \"string\",\n            \"enum\": [\n                \"getting-started\",\n              \
        \  \"api-reference\",\n                \"architecture\",\n                \"deployment\",\n                \"troubleshooting\"\
        ,\n                \"tutorials\",\n                \"game-systems\",\n                \"world-lore\",\n          \
        \      \"npc-ai\",\n                \"other\"\n            ],\n            \"description\": \"Fixed categories for
        type-safe filtering\"\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Get related topics and follow-up suggestions\",\n    \"description\": \"\
        Given a topic or document ID, returns related topics the user\\nmight want to explore. Useful for conversational AI
        flow.\\n\",\n    \"tags\": [\n        \"Search\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"suggestRelatedTopics\"\
        \n}"
  /documentation/create:
    post:
      operationId: createDocument
      summary: Create new documentation entry
      tags:
      - Admin
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDocumentRequest'
      responses:
        '200':
          description: Document created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateDocumentResponse'
        '409':
          description: Document with same slug already exists
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/CreateDocumentRequest\"\
        ,\n    \"$defs\": {\n        \"CreateDocumentRequest\": {\n            \"description\": \"Request to create a new
        documentation entry\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n        \
        \    \"required\": [\n                \"namespace\",\n                \"slug\",\n                \"title\",\n    \
        \            \"category\",\n                \"content\"\n            ],\n            \"properties\": {\n         \
        \       \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\"\
        ,\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace to create
        document in\"\n                },\n                \"slug\": {\n                    \"type\": \"string\",\n      \
        \              \"pattern\": \"^[a-z0-9-]+$\",\n                    \"maxLength\": 100,\n                    \"description\"\
        : \"URL-friendly unique identifier for the document\"\n                },\n                \"title\": {\n        \
        \            \"type\": \"string\",\n                    \"maxLength\": 200,\n                    \"description\":
        \"Display title of the document\"\n                },\n                \"category\": {\n                    \"$ref\"\
        : \"#/$defs/DocumentCategory\",\n                    \"description\": \"Category for organizing the document\"\n \
        \               },\n                \"content\": {\n                    \"type\": \"string\",\n                  \
        \  \"description\": \"Markdown content (max 500KB)\"\n                },\n                \"summary\": {\n       \
        \             \"type\": \"string\",\n                    \"maxLength\": 500,\n                    \"nullable\": true,\n\
        \                    \"description\": \"Brief text summary of the document (null if not provided)\"\n            \
        \    },\n                \"voiceSummary\": {\n                    \"type\": \"string\",\n                    \"maxLength\"\
        : 200,\n                    \"nullable\": true,\n                    \"description\": \"Concise summary optimized
        for voice AI (null if not provided)\"\n                },\n                \"tags\": {\n                    \"type\"\
        : \"array\",\n                    \"items\": {\n                        \"type\": \"string\"\n                   \
        \ },\n                    \"nullable\": true,\n                    \"description\": \"Tags for filtering and search
        (null to skip tagging)\"\n                },\n                \"relatedDocuments\": {\n                    \"type\"\
        : \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n                  \
        \      \"format\": \"uuid\"\n                    },\n                    \"nullable\": true,\n                   \
        \ \"description\": \"IDs of related documents to link (null to skip linking)\"\n                },\n             \
        \   \"metadata\": {\n                    \"type\": \"object\",\n                    \"additionalProperties\": true,\n\
        \                    \"nullable\": true,\n                    \"description\": \"Custom metadata key-value pairs (null
        if not needed)\"\n                }\n            }\n        },\n        \"DocumentCategory\": {\n            \"type\"\
        : \"string\",\n            \"enum\": [\n                \"getting-started\",\n                \"api-reference\",\n\
        \                \"architecture\",\n                \"deployment\",\n                \"troubleshooting\",\n      \
        \          \"tutorials\",\n                \"game-systems\",\n                \"world-lore\",\n                \"\
        npc-ai\",\n                \"other\"\n            ],\n            \"description\": \"Fixed categories for type-safe
        filtering\"\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/CreateDocumentResponse\"\
        ,\n    \"$defs\": {\n        \"CreateDocumentResponse\": {\n            \"description\": \"Response confirming document
        creation with assigned identifiers\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"documentId\",\n                \"slug\"\n            ],\n        \
        \    \"properties\": {\n                \"documentId\": {\n                    \"type\": \"string\",\n           \
        \         \"format\": \"uuid\",\n                    \"description\": \"Unique identifier of the created document\"\
        \n                },\n                \"slug\": {\n                    \"type\": \"string\",\n                   \
        \ \"description\": \"URL-friendly slug of the created document\"\n                },\n                \"createdAt\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\",\n                 \
        \   \"description\": \"Timestamp when the document was created\"\n                }\n            }\n        }\n  \
        \  }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Create new documentation entry\",\n    \"description\": \"\",\n    \"tags\"\
        : [\n        \"Admin\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"createDocument\"\n}"
  /documentation/update:
    post:
      operationId: updateDocument
      summary: Update existing documentation entry
      tags:
      - Admin
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDocumentRequest'
      responses:
        '200':
          description: Document updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateDocumentResponse'
        '404':
          description: Document not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/UpdateDocumentRequest\"\
        ,\n    \"$defs\": {\n        \"UpdateDocumentRequest\": {\n            \"description\": \"Request to update an existing
        document's fields\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n          \
        \  \"required\": [\n                \"namespace\",\n                \"documentId\"\n            ],\n            \"\
        properties\": {\n                \"namespace\": {\n                    \"type\": \"string\",\n                   \
        \ \"pattern\": \"^[a-z0-9-]+$\",\n                    \"maxLength\": 50,\n                    \"description\": \"\
        Documentation namespace containing the document\"\n                },\n                \"documentId\": {\n       \
        \             \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\"\
        : \"Unique identifier of the document to update\"\n                },\n                \"slug\": {\n             \
        \       \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"New
        URL-friendly slug for the document (null to keep unchanged)\"\n                },\n                \"title\": {\n\
        \                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"New display title for the document (null to keep unchanged)\"\n                },\n                \"category\"\
        : {\n                    \"$ref\": \"#/$defs/DocumentCategory\",\n                    \"nullable\": true,\n      \
        \              \"description\": \"New category for the document (null to keep unchanged)\"\n                },\n \
        \               \"content\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n\
        \                    \"description\": \"New markdown content for the document (null to keep unchanged)\"\n       \
        \         },\n                \"summary\": {\n                    \"type\": \"string\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"New text summary for the document (null to keep unchanged)\"\n   \
        \             },\n                \"voiceSummary\": {\n                    \"type\": \"string\",\n               \
        \     \"nullable\": true,\n                    \"description\": \"New voice-optimized summary for the document (null
        to keep unchanged)\"\n                },\n                \"tags\": {\n                    \"type\": \"array\",\n\
        \                    \"items\": {\n                        \"type\": \"string\"\n                    },\n        \
        \            \"nullable\": true,\n                    \"description\": \"New set of tags for the document (null to
        keep unchanged)\"\n                },\n                \"relatedDocuments\": {\n                    \"type\": \"array\"\
        ,\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"format\"\
        : \"uuid\"\n                    },\n                    \"nullable\": true,\n                    \"description\":
        \"New set of related document IDs (null to keep unchanged)\"\n                },\n                \"metadata\": {\n\
        \                    \"type\": \"object\",\n                    \"additionalProperties\": true,\n                \
        \    \"nullable\": true,\n                    \"description\": \"New custom metadata key-value pairs (null to keep
        unchanged)\"\n                }\n            }\n        },\n        \"DocumentCategory\": {\n            \"type\"\
        : \"string\",\n            \"enum\": [\n                \"getting-started\",\n                \"api-reference\",\n\
        \                \"architecture\",\n                \"deployment\",\n                \"troubleshooting\",\n      \
        \          \"tutorials\",\n                \"game-systems\",\n                \"world-lore\",\n                \"\
        npc-ai\",\n                \"other\"\n            ],\n            \"description\": \"Fixed categories for type-safe
        filtering\"\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/UpdateDocumentResponse\"\
        ,\n    \"$defs\": {\n        \"UpdateDocumentResponse\": {\n            \"description\": \"Response confirming document
        update with timestamp\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n      \
        \      \"required\": [\n                \"documentId\",\n                \"updatedAt\"\n            ],\n         \
        \   \"properties\": {\n                \"documentId\": {\n                    \"type\": \"string\",\n            \
        \        \"format\": \"uuid\",\n                    \"description\": \"Unique identifier of the updated document\"\
        \n                },\n                \"updatedAt\": {\n                    \"type\": \"string\",\n              \
        \      \"format\": \"date-time\",\n                    \"description\": \"Timestamp when the document was updated\"\
        \n                }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Update existing documentation entry\",\n    \"description\": \"\",\n  \
        \  \"tags\": [\n        \"Admin\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"updateDocument\"\n}"
  /documentation/delete:
    post:
      operationId: deleteDocument
      summary: Soft-delete documentation entry to trashcan
      description: |
        Moves document to trashcan for recovery within TTL period.
        Documents are automatically cleaned up after TrashcanTtlDays.
      tags:
      - Admin
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteDocumentRequest'
      responses:
        '200':
          description: Document moved to trashcan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteDocumentResponse'
        '404':
          description: Document not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/DeleteDocumentRequest\"\
        ,\n    \"$defs\": {\n        \"DeleteDocumentRequest\": {\n            \"description\": \"Request to soft-delete a
        document to the trashcan\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n   \
        \         \"required\": [\n                \"namespace\"\n            ],\n            \"properties\": {\n        \
        \        \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\"\
        ,\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace containing
        the document\"\n                },\n                \"documentId\": {\n                    \"type\": \"string\",\n\
        \                    \"format\": \"uuid\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Unique identifier of the document to delete (null if using slug)\"\n                },\n                \"slug\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"URL-friendly slug of the document to delete (null if using documentId)\"\n                }\n            }\n \
        \       }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/DeleteDocumentResponse\"\
        ,\n    \"$defs\": {\n        \"DeleteDocumentResponse\": {\n            \"description\": \"Response confirming document
        deletion with recovery deadline\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"documentId\",\n                \"deletedAt\",\n                \"\
        recoverableUntil\"\n            ],\n            \"properties\": {\n                \"documentId\": {\n           \
        \         \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"\
        Unique identifier of the deleted document\"\n                },\n                \"deletedAt\": {\n              \
        \      \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"description\"\
        : \"Timestamp when the document was deleted\"\n                },\n                \"recoverableUntil\": {\n     \
        \               \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"description\"\
        : \"Deadline for recovering the document from trashcan\"\n                }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Soft-delete documentation entry to trashcan\",\n    \"description\": \"\
        Moves document to trashcan for recovery within TTL period.\\nDocuments are automatically cleaned up after TrashcanTtlDays.\\\
        n\",\n    \"tags\": [\n        \"Admin\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"deleteDocument\"\
        \n}"
  /documentation/recover:
    post:
      operationId: recoverDocument
      summary: Recover document from trashcan
      description: |
        Restores a soft-deleted document from the trashcan.
        Must be called before the trashcan TTL expires.
      tags:
      - Admin
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RecoverDocumentRequest'
      responses:
        '200':
          description: Document recovered
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecoverDocumentResponse'
        '404':
          description: Trashcan entry not found or expired
        '409':
          description: Conflict with existing document
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/RecoverDocumentRequest\"\
        ,\n    \"$defs\": {\n        \"RecoverDocumentRequest\": {\n            \"description\": \"Request to recover a deleted
        document from the trashcan\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n \
        \           \"required\": [\n                \"namespace\",\n                \"documentId\"\n            ],\n    \
        \        \"properties\": {\n                \"namespace\": {\n                    \"type\": \"string\",\n        \
        \            \"pattern\": \"^[a-z0-9-]+$\",\n                    \"maxLength\": 50,\n                    \"description\"\
        : \"Documentation namespace containing the trashcan\"\n                },\n                \"documentId\": {\n   \
        \                 \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\"\
        : \"Unique identifier of the document to recover\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/RecoverDocumentResponse\"\
        ,\n    \"$defs\": {\n        \"RecoverDocumentResponse\": {\n            \"description\": \"Response confirming document
        recovery with timestamp\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n    \
        \        \"required\": [\n                \"documentId\",\n                \"recoveredAt\"\n            ],\n     \
        \       \"properties\": {\n                \"documentId\": {\n                    \"type\": \"string\",\n        \
        \            \"format\": \"uuid\",\n                    \"description\": \"Unique identifier of the recovered document\"\
        \n                },\n                \"recoveredAt\": {\n                    \"type\": \"string\",\n            \
        \        \"format\": \"date-time\",\n                    \"description\": \"Timestamp when the document was recovered\"\
        \n                }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Recover document from trashcan\",\n    \"description\": \"Restores a soft-deleted
        document from the trashcan.\\nMust be called before the trashcan TTL expires.\\n\",\n    \"tags\": [\n        \"Admin\"\
        \n    ],\n    \"deprecated\": false,\n    \"operationId\": \"recoverDocument\"\n}"
  /documentation/bulk-update:
    post:
      operationId: bulkUpdateDocuments
      summary: Bulk update document metadata
      description: |
        Apply category, tag, or metadata changes to multiple documents at once.
        Each document is processed independently - partial success is possible.
      tags:
      - Admin
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkUpdateRequest'
      responses:
        '200':
          description: Bulk update results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BulkUpdateResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/BulkUpdateRequest\"\
        ,\n    \"$defs\": {\n        \"BulkUpdateRequest\": {\n            \"description\": \"Request to update multiple documents
        at once\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\"\
        : [\n                \"namespace\",\n                \"documentIds\"\n            ],\n            \"properties\":
        {\n                \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"\
        ^[a-z0-9-]+$\",\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace
        containing the documents\"\n                },\n                \"documentIds\": {\n                    \"type\":
        \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n                    \
        \    \"format\": \"uuid\"\n                    },\n                    \"description\": \"List of document IDs to
        update\"\n                },\n                \"category\": {\n                    \"$ref\": \"#/$defs/DocumentCategory\"\
        ,\n                    \"description\": \"New category to apply to all documents\"\n                },\n         \
        \       \"addTags\": {\n                    \"type\": \"array\",\n                    \"items\": {\n             \
        \           \"type\": \"string\"\n                    },\n                    \"nullable\": true,\n              \
        \      \"description\": \"Tags to add to all documents (null to skip adding)\"\n                },\n             \
        \   \"removeTags\": {\n                    \"type\": \"array\",\n                    \"items\": {\n              \
        \          \"type\": \"string\"\n                    },\n                    \"nullable\": true,\n               \
        \     \"description\": \"Tags to remove from all documents (null to skip removing)\"\n                }\n        \
        \    }\n        },\n        \"DocumentCategory\": {\n            \"type\": \"string\",\n            \"enum\": [\n\
        \                \"getting-started\",\n                \"api-reference\",\n                \"architecture\",\n   \
        \             \"deployment\",\n                \"troubleshooting\",\n                \"tutorials\",\n            \
        \    \"game-systems\",\n                \"world-lore\",\n                \"npc-ai\",\n                \"other\"\n\
        \            ],\n            \"description\": \"Fixed categories for type-safe filtering\"\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/BulkUpdateResponse\"\
        ,\n    \"$defs\": {\n        \"BulkUpdateResponse\": {\n            \"description\": \"Response reporting bulk update
        results with success and failure details\",\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"succeeded\",\n                \"failed\"\n            ],\n\
        \            \"properties\": {\n                \"succeeded\": {\n                    \"type\": \"array\",\n     \
        \               \"items\": {\n                        \"type\": \"string\",\n                        \"format\": \"\
        uuid\"\n                    },\n                    \"description\": \"IDs of documents successfully updated\"\n \
        \               },\n                \"failed\": {\n                    \"type\": \"array\",\n                    \"\
        items\": {\n                        \"$ref\": \"#/$defs/BulkOperationFailure\"\n                    },\n         \
        \           \"description\": \"Details of documents that failed to update\"\n                }\n            }\n  \
        \      },\n        \"BulkOperationFailure\": {\n            \"description\": \"Details of a single document that failed
        in a bulk operation\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n        \
        \    \"required\": [\n                \"documentId\",\n                \"error\"\n            ],\n            \"properties\"\
        : {\n                \"documentId\": {\n                    \"type\": \"string\",\n                    \"format\"\
        : \"uuid\",\n                    \"description\": \"ID of the document that failed\"\n                },\n       \
        \         \"error\": {\n                    \"type\": \"string\",\n                    \"description\": \"Error message
        explaining the failure\"\n                }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Bulk update document metadata\",\n    \"description\": \"Apply category,
        tag, or metadata changes to multiple documents at once.\\nEach document is processed independently - partial success
        is possible.\\n\",\n    \"tags\": [\n        \"Admin\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"\
        bulkUpdateDocuments\"\n}"
  /documentation/bulk-delete:
    post:
      operationId: bulkDeleteDocuments
      summary: Bulk soft-delete documents to trashcan
      description: |
        Move multiple documents to trashcan at once.
        Each document is processed independently - partial success is possible.
      tags:
      - Admin
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteRequest'
      responses:
        '200':
          description: Bulk delete results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BulkDeleteResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/BulkDeleteRequest\"\
        ,\n    \"$defs\": {\n        \"BulkDeleteRequest\": {\n            \"description\": \"Request to delete multiple documents
        at once\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\"\
        : [\n                \"namespace\",\n                \"documentIds\"\n            ],\n            \"properties\":
        {\n                \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"\
        ^[a-z0-9-]+$\",\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace
        containing the documents\"\n                },\n                \"documentIds\": {\n                    \"type\":
        \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n                    \
        \    \"format\": \"uuid\"\n                    },\n                    \"description\": \"List of document IDs to
        delete\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/BulkDeleteResponse\"\
        ,\n    \"$defs\": {\n        \"BulkDeleteResponse\": {\n            \"description\": \"Response reporting bulk deletion
        results with success and failure details\",\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"succeeded\",\n                \"failed\"\n            ],\n\
        \            \"properties\": {\n                \"succeeded\": {\n                    \"type\": \"array\",\n     \
        \               \"items\": {\n                        \"type\": \"string\",\n                        \"format\": \"\
        uuid\"\n                    },\n                    \"description\": \"IDs of documents successfully deleted\"\n \
        \               },\n                \"failed\": {\n                    \"type\": \"array\",\n                    \"\
        items\": {\n                        \"$ref\": \"#/$defs/BulkOperationFailure\"\n                    },\n         \
        \           \"description\": \"Details of documents that failed to delete\"\n                }\n            }\n  \
        \      },\n        \"BulkOperationFailure\": {\n            \"description\": \"Details of a single document that failed
        in a bulk operation\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n        \
        \    \"required\": [\n                \"documentId\",\n                \"error\"\n            ],\n            \"properties\"\
        : {\n                \"documentId\": {\n                    \"type\": \"string\",\n                    \"format\"\
        : \"uuid\",\n                    \"description\": \"ID of the document that failed\"\n                },\n       \
        \         \"error\": {\n                    \"type\": \"string\",\n                    \"description\": \"Error message
        explaining the failure\"\n                }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Bulk soft-delete documents to trashcan\",\n    \"description\": \"Move
        multiple documents to trashcan at once.\\nEach document is processed independently - partial success is possible.\\\
        n\",\n    \"tags\": [\n        \"Admin\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"bulkDeleteDocuments\"\
        \n}"
  /documentation/import:
    post:
      operationId: importDocumentation
      summary: Bulk import documentation from structured source
      description: |
        Import multiple documents. Each document processed independently.
        Partial success is possible - failures reported per document.
      tags:
      - Admin
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ImportDocumentationRequest'
      responses:
        '200':
          description: Import results (may include partial failures)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ImportDocumentationResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ImportDocumentationRequest\"\
        ,\n    \"$defs\": {\n        \"ImportDocumentationRequest\": {\n            \"description\": \"Request to import multiple
        documents into a namespace\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n \
        \           \"required\": [\n                \"namespace\",\n                \"documents\"\n            ],\n     \
        \       \"properties\": {\n                \"namespace\": {\n                    \"type\": \"string\",\n         \
        \           \"pattern\": \"^[a-z0-9-]+$\",\n                    \"maxLength\": 50,\n                    \"description\"\
        : \"Documentation namespace to import into\"\n                },\n                \"documents\": {\n             \
        \       \"type\": \"array\",\n                    \"items\": {\n                        \"$ref\": \"#/$defs/ImportDocument\"\
        \n                    },\n                    \"description\": \"List of documents to import\"\n                },\n\
        \                \"onConflict\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n \
        \                       \"skip\",\n                        \"update\",\n                        \"fail\"\n       \
        \             ],\n                    \"default\": \"skip\",\n                    \"description\": \"How to handle
        documents with existing slugs\"\n                }\n            }\n        },\n        \"ImportDocument\": {\n   \
        \         \"description\": \"A single document to import with required fields\",\n            \"type\": \"object\"\
        ,\n            \"additionalProperties\": false,\n            \"required\": [\n                \"slug\",\n        \
        \        \"title\",\n                \"category\",\n                \"content\"\n            ],\n            \"properties\"\
        : {\n                \"slug\": {\n                    \"type\": \"string\",\n                    \"description\":
        \"URL-friendly unique identifier for the document\"\n                },\n                \"title\": {\n          \
        \          \"type\": \"string\",\n                    \"description\": \"Display title of the document\"\n       \
        \         },\n                \"category\": {\n                    \"$ref\": \"#/$defs/DocumentCategory\",\n     \
        \               \"description\": \"Category for organizing the document\"\n                },\n                \"\
        content\": {\n                    \"type\": \"string\",\n                    \"description\": \"Markdown content of
        the document\"\n                },\n                \"summary\": {\n                    \"type\": \"string\",\n  \
        \                  \"nullable\": true,\n                    \"description\": \"Brief text summary of the document
        (null if not provided)\"\n                },\n                \"voiceSummary\": {\n                    \"type\": \"\
        string\",\n                    \"nullable\": true,\n                    \"description\": \"Concise summary optimized
        for voice AI (null if not provided)\"\n                },\n                \"tags\": {\n                    \"type\"\
        : \"array\",\n                    \"items\": {\n                        \"type\": \"string\"\n                   \
        \ },\n                    \"nullable\": true,\n                    \"description\": \"Tags for filtering and search
        (null to skip tagging)\"\n                },\n                \"metadata\": {\n                    \"type\": \"object\"\
        ,\n                    \"additionalProperties\": true,\n                    \"nullable\": true,\n                \
        \    \"description\": \"Custom metadata key-value pairs (null if not needed)\"\n                }\n            }\n\
        \        },\n        \"DocumentCategory\": {\n            \"type\": \"string\",\n            \"enum\": [\n       \
        \         \"getting-started\",\n                \"api-reference\",\n                \"architecture\",\n          \
        \      \"deployment\",\n                \"troubleshooting\",\n                \"tutorials\",\n                \"game-systems\"\
        ,\n                \"world-lore\",\n                \"npc-ai\",\n                \"other\"\n            ],\n     \
        \       \"description\": \"Fixed categories for type-safe filtering\"\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ImportDocumentationResponse\"\
        ,\n    \"$defs\": {\n        \"ImportDocumentationResponse\": {\n            \"description\": \"Response reporting
        import results with counts and failure details\",\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"namespace\",\n                \"created\",\n            \
        \    \"updated\",\n                \"skipped\",\n                \"failed\"\n            ],\n            \"properties\"\
        : {\n                \"namespace\": {\n                    \"type\": \"string\",\n                    \"description\"\
        : \"The namespace documents were imported into\"\n                },\n                \"created\": {\n           \
        \         \"type\": \"integer\",\n                    \"description\": \"Number of new documents created\"\n     \
        \           },\n                \"updated\": {\n                    \"type\": \"integer\",\n                    \"\
        description\": \"Number of existing documents updated\"\n                },\n                \"skipped\": {\n    \
        \                \"type\": \"integer\",\n                    \"description\": \"Number of documents skipped due to
        conflicts\"\n                },\n                \"failed\": {\n                    \"type\": \"array\",\n       \
        \             \"items\": {\n                        \"$ref\": \"#/$defs/ImportFailure\"\n                    },\n\
        \                    \"description\": \"Details of documents that failed to import\"\n                }\n        \
        \    }\n        },\n        \"ImportFailure\": {\n            \"description\": \"Details of a document that failed
        to import\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\"\
        : [\n                \"slug\",\n                \"error\"\n            ],\n            \"properties\": {\n       \
        \         \"slug\": {\n                    \"type\": \"string\",\n                    \"description\": \"Slug of the
        document that failed to import\"\n                },\n                \"error\": {\n                    \"type\":
        \"string\",\n                    \"description\": \"Error message explaining the failure\"\n                }\n  \
        \          }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Bulk import documentation from structured source\",\n    \"description\"\
        : \"Import multiple documents. Each document processed independently.\\nPartial success is possible - failures reported
        per document.\\n\",\n    \"tags\": [\n        \"Admin\"\n    ],\n    \"deprecated\": false,\n    \"operationId\":
        \"importDocumentation\"\n}"
  /documentation/trashcan:
    post:
      operationId: listTrashcan
      summary: List documents in the trashcan
      description: |
        List all soft-deleted documents within the namespace's trashcan.
        Documents remain recoverable until TTL expires or purge is called.
      tags:
      - Admin
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ListTrashcanRequest'
      responses:
        '200':
          description: Trashcan contents
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListTrashcanResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListTrashcanRequest\"\
        ,\n    \"$defs\": {\n        \"ListTrashcanRequest\": {\n            \"description\": \"Request to list deleted documents
        in the trashcan\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"\
        required\": [\n                \"namespace\"\n            ],\n            \"properties\": {\n                \"namespace\"\
        : {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\",\n             \
        \       \"maxLength\": 50,\n                    \"description\": \"Documentation namespace to list trashcan from\"\
        \n                },\n                \"page\": {\n                    \"type\": \"integer\",\n                  \
        \  \"default\": 1,\n                    \"description\": \"Page number for pagination\"\n                },\n    \
        \            \"pageSize\": {\n                    \"type\": \"integer\",\n                    \"default\": 20,\n \
        \                   \"description\": \"Number of items per page\"\n                }\n            }\n        }\n \
        \   }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListTrashcanResponse\"\
        ,\n    \"$defs\": {\n        \"ListTrashcanResponse\": {\n            \"description\": \"Response containing deleted
        documents awaiting permanent deletion\",\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"namespace\",\n                \"items\"\n            ],\n\
        \            \"properties\": {\n                \"namespace\": {\n                    \"type\": \"string\",\n    \
        \                \"description\": \"The namespace the trashcan belongs to\"\n                },\n                \"\
        items\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"\
        $ref\": \"#/$defs/TrashcanItem\"\n                    },\n                    \"description\": \"List of deleted documents
        in trashcan\"\n                },\n                \"totalCount\": {\n                    \"type\": \"integer\",\n\
        \                    \"description\": \"Total number of items in trashcan\"\n                }\n            }\n  \
        \      },\n        \"TrashcanItem\": {\n            \"description\": \"A deleted document in the trashcan with expiration
        information\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\"\
        : [\n                \"documentId\",\n                \"title\",\n                \"deletedAt\",\n               \
        \ \"expiresAt\"\n            ],\n            \"properties\": {\n                \"documentId\": {\n              \
        \      \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"Unique
        identifier of the deleted document\"\n                },\n                \"slug\": {\n                    \"type\"\
        : \"string\",\n                    \"description\": \"URL-friendly slug of the deleted document\"\n              \
        \  },\n                \"title\": {\n                    \"type\": \"string\",\n                    \"description\"\
        : \"Title of the deleted document\"\n                },\n                \"category\": {\n                    \"$ref\"\
        : \"#/$defs/DocumentCategory\",\n                    \"description\": \"Category of the deleted document\"\n     \
        \           },\n                \"deletedAt\": {\n                    \"type\": \"string\",\n                    \"\
        format\": \"date-time\",\n                    \"description\": \"Timestamp when the document was deleted\"\n     \
        \           },\n                \"expiresAt\": {\n                    \"type\": \"string\",\n                    \"\
        format\": \"date-time\",\n                    \"description\": \"Timestamp when the document will be permanently deleted\"\
        \n                }\n            }\n        },\n        \"DocumentCategory\": {\n            \"type\": \"string\"\
        ,\n            \"enum\": [\n                \"getting-started\",\n                \"api-reference\",\n           \
        \     \"architecture\",\n                \"deployment\",\n                \"troubleshooting\",\n                \"\
        tutorials\",\n                \"game-systems\",\n                \"world-lore\",\n                \"npc-ai\",\n  \
        \              \"other\"\n            ],\n            \"description\": \"Fixed categories for type-safe filtering\"\
        \n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"List documents in the trashcan\",\n    \"description\": \"List all soft-deleted
        documents within the namespace's trashcan.\\nDocuments remain recoverable until TTL expires or purge is called.\\\
        n\",\n    \"tags\": [\n        \"Admin\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"listTrashcan\"\
        \n}"
  /documentation/purge:
    post:
      operationId: purgeTrashcan
      summary: Permanently delete trashcan items
      description: |
        Permanently delete specified documents from trashcan, or purge all.
        This operation is irreversible - documents cannot be recovered after purge.
      tags:
      - Admin
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PurgeTrashcanRequest'
      responses:
        '200':
          description: Purge results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurgeTrashcanResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/PurgeTrashcanRequest\"\
        ,\n    \"$defs\": {\n        \"PurgeTrashcanRequest\": {\n            \"description\": \"Request to permanently delete
        documents from the trashcan\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"namespace\"\n            ],\n            \"properties\": {\n     \
        \           \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\"\
        ,\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace to purge
        trashcan from\"\n                },\n                \"documentIds\": {\n                    \"type\": \"array\",\n\
        \                    \"items\": {\n                        \"type\": \"string\",\n                        \"format\"\
        : \"uuid\"\n                    },\n                    \"description\": \"If empty, purges all trashcan items\"\n\
        \                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/PurgeTrashcanResponse\"\
        ,\n    \"$defs\": {\n        \"PurgeTrashcanResponse\": {\n            \"description\": \"Response confirming permanent
        deletion of trashcan items\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n \
        \           \"required\": [\n                \"purgedCount\"\n            ],\n            \"properties\": {\n    \
        \            \"purgedCount\": {\n                    \"type\": \"integer\",\n                    \"description\":
        \"Number of documents permanently deleted\"\n                }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Permanently delete trashcan items\",\n    \"description\": \"Permanently
        delete specified documents from trashcan, or purge all.\\nThis operation is irreversible - documents cannot be recovered
        after purge.\\n\",\n    \"tags\": [\n        \"Admin\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"\
        purgeTrashcan\"\n}"
  /documentation/stats:
    post:
      operationId: getNamespaceStats
      summary: Get namespace documentation statistics
      description: |
        Retrieve usage statistics and metadata for a documentation namespace.
        Useful for monitoring, capacity planning, and administrative dashboards.
      tags:
      - Admin
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetNamespaceStatsRequest'
      responses:
        '200':
          description: Namespace statistics
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NamespaceStatsResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/GetNamespaceStatsRequest\"\
        ,\n    \"$defs\": {\n        \"GetNamespaceStatsRequest\": {\n            \"description\": \"Request to get statistics
        for a documentation namespace\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"namespace\"\n            ],\n            \"properties\": {\n     \
        \           \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\"\
        ,\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace to get statistics
        for\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/NamespaceStatsResponse\"\
        ,\n    \"$defs\": {\n        \"NamespaceStatsResponse\": {\n            \"description\": \"Response containing namespace
        statistics and document counts\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"namespace\",\n                \"documentCount\"\n            ],\n\
        \            \"properties\": {\n                \"namespace\": {\n                    \"type\": \"string\",\n    \
        \                \"description\": \"The namespace statistics are for\"\n                },\n                \"documentCount\"\
        : {\n                    \"type\": \"integer\",\n                    \"description\": \"Total number of documents
        in the namespace\"\n                },\n                \"categoryCounts\": {\n                    \"type\": \"object\"\
        ,\n                    \"additionalProperties\": {\n                        \"type\": \"integer\"\n              \
        \      },\n                    \"description\": \"Document count per category\"\n                },\n            \
        \    \"trashcanCount\": {\n                    \"type\": \"integer\",\n                    \"description\": \"Number
        of documents in the trashcan\"\n                },\n                \"totalContentSizeBytes\": {\n               \
        \     \"type\": \"integer\",\n                    \"description\": \"Total size of all document content in bytes\"\
        \n                },\n                \"lastUpdated\": {\n                    \"type\": \"string\",\n            \
        \        \"format\": \"date-time\",\n                    \"description\": \"Timestamp of most recent document update\"\
        \n                }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Get namespace documentation statistics\",\n    \"description\": \"Retrieve
        usage statistics and metadata for a documentation namespace.\\nUseful for monitoring, capacity planning, and administrative
        dashboards.\\n\",\n    \"tags\": [\n        \"Admin\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"\
        getNamespaceStats\"\n}"
  /documentation/repo/bind:
    post:
      operationId: bindRepository
      summary: Bind a git repository to a documentation namespace
      description: |
        Bind a git repository URL to a documentation namespace.
        The namespace will be exclusively managed by the repository - manual edits will be blocked.
        Triggers initial sync after binding.
      tags:
      - Repository
      x-permissions:
      - role: developer
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BindRepositoryRequest'
      responses:
        '200':
          description: Repository binding created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BindRepositoryResponse'
        '400':
          description: Invalid request (malformed URL, invalid branch)
        '409':
          description: Namespace already bound to a repository
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/BindRepositoryRequest\"\
        ,\n    \"$defs\": {\n        \"BindRepositoryRequest\": {\n            \"description\": \"Request to bind a Git repository
        for automatic documentation sync\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"namespace\",\n                \"repositoryUrl\",\n               \
        \ \"owner\"\n            ],\n            \"properties\": {\n                \"owner\": {\n                    \"type\"\
        : \"string\",\n                    \"description\": \"Owner of this binding. NOT a session ID.\\nFor user-initiated
        bindings: the accountId (UUID format).\\nFor service-initiated bindings: the service name (e.g., \\\"orchestrator\\\
        \").\\n\"\n                },\n                \"namespace\": {\n                    \"type\": \"string\",\n     \
        \               \"pattern\": \"^[a-z0-9-]+$\",\n                    \"maxLength\": 50,\n                    \"description\"\
        : \"Documentation namespace to bind\"\n                },\n                \"repositoryUrl\": {\n                \
        \    \"type\": \"string\",\n                    \"description\": \"Git clone URL (HTTPS for public repos)\"\n    \
        \            },\n                \"branch\": {\n                    \"type\": \"string\",\n                    \"\
        default\": \"main\",\n                    \"description\": \"Branch to sync from\"\n                },\n         \
        \       \"syncIntervalMinutes\": {\n                    \"type\": \"integer\",\n                    \"default\": 60,\n\
        \                    \"minimum\": 5,\n                    \"maximum\": 1440,\n                    \"description\"\
        : \"How often to sync (5 min to 24 hours)\"\n                },\n                \"filePatterns\": {\n           \
        \         \"type\": \"array\",\n                    \"nullable\": true,\n                    \"items\": {\n      \
        \                  \"type\": \"string\"\n                    },\n                    \"default\": [\n            \
        \            \"**/*.md\"\n                    ],\n                    \"description\": \"Glob patterns for files to
        include (defaults to all markdown files if not provided)\"\n                },\n                \"excludePatterns\"\
        : {\n                    \"type\": \"array\",\n                    \"nullable\": true,\n                    \"items\"\
        : {\n                        \"type\": \"string\"\n                    },\n                    \"default\": [\n  \
        \                      \".git/**\",\n                        \".obsidian/**\",\n                        \"node_modules/**\"\
        \n                    ],\n                    \"description\": \"Glob patterns for files to exclude (defaults to common
        non-content directories if not provided)\"\n                },\n                \"categoryMapping\": {\n         \
        \           \"type\": \"object\",\n                    \"nullable\": true,\n                    \"additionalProperties\"\
        : {\n                        \"type\": \"string\"\n                    },\n                    \"description\": \"\
        Map directory prefixes to categories (empty mapping if not provided)\"\n                },\n                \"defaultCategory\"\
        : {\n                    \"$ref\": \"#/$defs/DocumentCategory\",\n                    \"description\": \"Default category
        for documents without mapping\"\n                },\n                \"archiveEnabled\": {\n                    \"\
        type\": \"boolean\",\n                    \"default\": false,\n                    \"description\": \"Enable archive
        functionality\"\n                },\n                \"archiveOnSync\": {\n                    \"type\": \"boolean\"\
        ,\n                    \"default\": false,\n                    \"description\": \"Create archive after each sync\"\
        \n                }\n            }\n        },\n        \"DocumentCategory\": {\n            \"type\": \"string\"\
        ,\n            \"enum\": [\n                \"getting-started\",\n                \"api-reference\",\n           \
        \     \"architecture\",\n                \"deployment\",\n                \"troubleshooting\",\n                \"\
        tutorials\",\n                \"game-systems\",\n                \"world-lore\",\n                \"npc-ai\",\n  \
        \              \"other\"\n            ],\n            \"description\": \"Fixed categories for type-safe filtering\"\
        \n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/BindRepositoryResponse\"\
        ,\n    \"$defs\": {\n        \"BindRepositoryResponse\": {\n            \"description\": \"Response confirming repository
        binding creation\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n           \
        \ \"required\": [\n                \"bindingId\",\n                \"namespace\",\n                \"status\"\n  \
        \          ],\n            \"properties\": {\n                \"bindingId\": {\n                    \"type\": \"string\"\
        ,\n                    \"format\": \"uuid\",\n                    \"description\": \"Unique identifier of the repository
        binding\"\n                },\n                \"namespace\": {\n                    \"type\": \"string\",\n     \
        \               \"description\": \"Namespace the repository is bound to\"\n                },\n                \"\
        repositoryUrl\": {\n                    \"type\": \"string\",\n                    \"description\": \"URL of the bound
        repository\"\n                },\n                \"branch\": {\n                    \"type\": \"string\",\n     \
        \               \"description\": \"Branch being synced\"\n                },\n                \"status\": {\n    \
        \                \"$ref\": \"#/$defs/BindingStatus\",\n                    \"description\": \"Current status of the
        binding\"\n                },\n                \"createdAt\": {\n                    \"type\": \"string\",\n     \
        \               \"format\": \"date-time\",\n                    \"description\": \"Timestamp when the binding was
        created\"\n                }\n            }\n        },\n        \"BindingStatus\": {\n            \"type\": \"string\"\
        ,\n            \"enum\": [\n                \"pending\",\n                \"syncing\",\n                \"synced\"\
        ,\n                \"error\",\n                \"disabled\"\n            ],\n            \"description\": \"Status
        of a repository binding\"\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Bind a git repository to a documentation namespace\",\n    \"description\"\
        : \"Bind a git repository URL to a documentation namespace.\\nThe namespace will be exclusively managed by the repository
        - manual edits will be blocked.\\nTriggers initial sync after binding.\\n\",\n    \"tags\": [\n        \"Repository\"\
        \n    ],\n    \"deprecated\": false,\n    \"operationId\": \"bindRepository\"\n}"
  /documentation/repo/unbind:
    post:
      operationId: unbindRepository
      summary: Remove repository binding from namespace
      description: |
        Remove repository binding from a namespace, making it manually editable again.
        Optionally delete all documents imported from the repository.
      tags:
      - Repository
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UnbindRepositoryRequest'
      responses:
        '200':
          description: Repository binding removed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnbindRepositoryResponse'
        '404':
          description: No binding found for namespace
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/UnbindRepositoryRequest\"\
        ,\n    \"$defs\": {\n        \"UnbindRepositoryRequest\": {\n            \"description\": \"Request to remove a repository
        binding from a namespace\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n   \
        \         \"required\": [\n                \"namespace\"\n            ],\n            \"properties\": {\n        \
        \        \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\"\
        ,\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace to unbind\"\
        \n                },\n                \"deleteDocuments\": {\n                    \"type\": \"boolean\",\n       \
        \             \"default\": false,\n                    \"description\": \"Also delete all documents from the namespace\"\
        \n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/UnbindRepositoryResponse\"\
        ,\n    \"$defs\": {\n        \"UnbindRepositoryResponse\": {\n            \"description\": \"Response confirming repository
        unbinding with cleanup details\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"namespace\",\n                \"documentsDeleted\"\n            ],\n\
        \            \"properties\": {\n                \"namespace\": {\n                    \"type\": \"string\",\n    \
        \                \"description\": \"Namespace that was unbound\"\n                },\n                \"documentsDeleted\"\
        : {\n                    \"type\": \"integer\",\n                    \"description\": \"Number of documents deleted
        (0 if deleteDocuments was false)\"\n                }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Remove repository binding from namespace\",\n    \"description\": \"Remove
        repository binding from a namespace, making it manually editable again.\\nOptionally delete all documents imported
        from the repository.\\n\",\n    \"tags\": [\n        \"Repository\"\n    ],\n    \"deprecated\": false,\n    \"operationId\"\
        : \"unbindRepository\"\n}"
  /documentation/repo/sync:
    post:
      operationId: syncRepository
      summary: Manually trigger repository sync
      description: |
        Manually trigger synchronization of a bound repository.
        If force=true, performs full re-sync regardless of commit hash.
      tags:
      - Repository
      x-permissions:
      - role: developer
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SyncRepositoryRequest'
      responses:
        '200':
          description: Sync completed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SyncRepositoryResponse'
        '404':
          description: No binding found for namespace
        '409':
          description: Sync already in progress
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/SyncRepositoryRequest\"\
        ,\n    \"$defs\": {\n        \"SyncRepositoryRequest\": {\n            \"description\": \"Request to trigger a manual
        repository sync\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"\
        required\": [\n                \"namespace\"\n            ],\n            \"properties\": {\n                \"namespace\"\
        : {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\",\n             \
        \       \"maxLength\": 50,\n                    \"description\": \"Documentation namespace to sync\"\n           \
        \     },\n                \"force\": {\n                    \"type\": \"boolean\",\n                    \"default\"\
        : false,\n                    \"description\": \"Force full re-sync even if commit hash unchanged\"\n            \
        \    }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/SyncRepositoryResponse\"\
        ,\n    \"$defs\": {\n        \"SyncRepositoryResponse\": {\n            \"description\": \"Response containing sync
        operation results and statistics\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"syncId\",\n                \"status\"\n            ],\n          \
        \  \"properties\": {\n                \"syncId\": {\n                    \"type\": \"string\",\n                 \
        \   \"format\": \"uuid\",\n                    \"description\": \"Unique identifier of this sync operation\"\n   \
        \             },\n                \"status\": {\n                    \"$ref\": \"#/$defs/SyncStatus\",\n         \
        \           \"description\": \"Result status of the sync\"\n                },\n                \"commitHash\": {\n\
        \                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Git commit hash that was synced (null if sync failed or repo is empty)\"\n                },\n               \
        \ \"documentsCreated\": {\n                    \"type\": \"integer\",\n                    \"description\": \"Number
        of new documents created\"\n                },\n                \"documentsUpdated\": {\n                    \"type\"\
        : \"integer\",\n                    \"description\": \"Number of existing documents updated\"\n                },\n\
        \                \"documentsDeleted\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Number of documents deleted\"\n                },\n                \"documentsFailed\": {\n                  \
        \  \"type\": \"integer\",\n                    \"description\": \"Number of documents that failed to process\"\n \
        \               },\n                \"durationMs\": {\n                    \"type\": \"integer\",\n              \
        \      \"description\": \"Time taken for sync in milliseconds\"\n                },\n                \"errorMessage\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Error message if sync failed\"\n                }\n            }\n        },\n        \"SyncStatus\": {\n    \
        \        \"type\": \"string\",\n            \"enum\": [\n                \"success\",\n                \"partial\"\
        ,\n                \"failed\"\n            ],\n            \"description\": \"Result status of a sync operation\"\n\
        \        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Manually trigger repository sync\",\n    \"description\": \"Manually trigger
        synchronization of a bound repository.\\nIf force=true, performs full re-sync regardless of commit hash.\\n\",\n \
        \   \"tags\": [\n        \"Repository\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"syncRepository\"\
        \n}"
  /documentation/repo/status:
    post:
      operationId: getRepositoryStatus
      summary: Get repository binding status
      description: |
        Get current status of a repository binding including sync state and statistics.
      tags:
      - Repository
      x-permissions:
      - role: developer
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RepositoryStatusRequest'
      responses:
        '200':
          description: Repository binding status
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RepositoryStatusResponse'
        '404':
          description: No binding found for namespace
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/RepositoryStatusRequest\"\
        ,\n    \"$defs\": {\n        \"RepositoryStatusRequest\": {\n            \"description\": \"Request to get current
        repository binding and sync status\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"namespace\"\n            ],\n            \"properties\": {\n     \
        \           \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\"\
        ,\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace to get status
        for\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/RepositoryStatusResponse\"\
        ,\n    \"$defs\": {\n        \"RepositoryStatusResponse\": {\n            \"description\": \"Response containing binding
        configuration and recent sync information\",\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"properties\": {\n                \"binding\": {\n                    \"$ref\": \"#/$defs/RepositoryBindingInfo\"\
        ,\n                    \"description\": \"Current binding configuration and status\"\n                },\n       \
        \         \"lastSync\": {\n                    \"$ref\": \"#/$defs/SyncInfo\",\n                    \"description\"\
        : \"Information about the most recent sync\"\n                }\n            }\n        },\n        \"RepositoryBindingInfo\"\
        : {\n            \"description\": \"Detailed repository binding configuration and status\",\n            \"type\"\
        : \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n                \"bindingId\"\
        ,\n                \"namespace\",\n                \"repositoryUrl\",\n                \"status\"\n            ],\n\
        \            \"properties\": {\n                \"bindingId\": {\n                    \"type\": \"string\",\n    \
        \                \"format\": \"uuid\",\n                    \"description\": \"Unique identifier of the repository
        binding\"\n                },\n                \"namespace\": {\n                    \"type\": \"string\",\n     \
        \               \"description\": \"Namespace the repository is bound to\"\n                },\n                \"\
        repositoryUrl\": {\n                    \"type\": \"string\",\n                    \"description\": \"URL of the bound
        repository\"\n                },\n                \"branch\": {\n                    \"type\": \"string\",\n     \
        \               \"description\": \"Branch being synced\"\n                },\n                \"status\": {\n    \
        \                \"$ref\": \"#/$defs/BindingStatus\",\n                    \"description\": \"Current status of the
        binding\"\n                },\n                \"syncEnabled\": {\n                    \"type\": \"boolean\",\n  \
        \                  \"description\": \"Whether automatic sync is enabled\"\n                },\n                \"\
        syncIntervalMinutes\": {\n                    \"type\": \"integer\",\n                    \"description\": \"Sync
        interval in minutes\"\n                },\n                \"documentCount\": {\n                    \"type\": \"\
        integer\",\n                    \"description\": \"Number of documents from this repository\"\n                },\n\
        \                \"createdAt\": {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\"\
        ,\n                    \"description\": \"Timestamp when the binding was created\"\n                },\n         \
        \       \"owner\": {\n                    \"type\": \"string\",\n                    \"description\": \"Owner of this
        binding. NOT a session ID.\\nContains either an accountId (UUID format) for user-initiated bindings\\nor a service
        name for service-initiated bindings.\\n\"\n                }\n            }\n        },\n        \"BindingStatus\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"pending\",\n                \"\
        syncing\",\n                \"synced\",\n                \"error\",\n                \"disabled\"\n            ],\n\
        \            \"description\": \"Status of a repository binding\"\n        },\n        \"SyncInfo\": {\n          \
        \  \"description\": \"Information about a repository sync operation\",\n            \"type\": \"object\",\n      \
        \      \"additionalProperties\": false,\n            \"properties\": {\n                \"syncId\": {\n          \
        \          \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\":
        \"Unique identifier of the sync operation\"\n                },\n                \"status\": {\n                 \
        \   \"$ref\": \"#/$defs/SyncStatus\",\n                    \"description\": \"Result status of the sync\"\n      \
        \          },\n                \"triggeredBy\": {\n                    \"$ref\": \"#/$defs/SyncTrigger\",\n      \
        \              \"description\": \"What triggered the sync\"\n                },\n                \"startedAt\": {\n\
        \                    \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"\
        description\": \"Timestamp when sync started\"\n                },\n                \"completedAt\": {\n         \
        \           \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"description\"\
        : \"Timestamp when sync completed\"\n                },\n                \"commitHash\": {\n                    \"\
        type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Git commit hash
        that was synced (null if sync failed or repo is empty)\"\n                },\n                \"documentsProcessed\"\
        : {\n                    \"type\": \"integer\",\n                    \"description\": \"Total documents processed
        in sync\"\n                }\n            }\n        },\n        \"SyncStatus\": {\n            \"type\": \"string\"\
        ,\n            \"enum\": [\n                \"success\",\n                \"partial\",\n                \"failed\"\
        \n            ],\n            \"description\": \"Result status of a sync operation\"\n        },\n        \"SyncTrigger\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"manual\",\n                \"scheduled\"\
        \n            ],\n            \"description\": \"What triggered the sync operation\"\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Get repository binding status\",\n    \"description\": \"Get current status
        of a repository binding including sync state and statistics.\\n\",\n    \"tags\": [\n        \"Repository\"\n    ],\n\
        \    \"deprecated\": false,\n    \"operationId\": \"getRepositoryStatus\"\n}"
  /documentation/repo/list:
    post:
      operationId: listRepositoryBindings
      summary: List all repository bindings
      description: |
        List all repository bindings with optional filtering by status.
      tags:
      - Repository
      x-permissions:
      - role: developer
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ListRepositoryBindingsRequest'
      responses:
        '200':
          description: List of repository bindings
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListRepositoryBindingsResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListRepositoryBindingsRequest\"\
        ,\n    \"$defs\": {\n        \"ListRepositoryBindingsRequest\": {\n            \"description\": \"Request to list
        all repository bindings with optional filtering\",\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"properties\": {\n                \"status\": {\n                    \"$ref\": \"#/$defs/BindingStatus\"\
        ,\n                    \"description\": \"Filter by binding status\"\n                },\n                \"limit\"\
        : {\n                    \"type\": \"integer\",\n                    \"default\": 50,\n                    \"minimum\"\
        : 1,\n                    \"maximum\": 100,\n                    \"description\": \"Maximum number of bindings to
        return\"\n                },\n                \"offset\": {\n                    \"type\": \"integer\",\n        \
        \            \"default\": 0,\n                    \"minimum\": 0,\n                    \"description\": \"Number of
        bindings to skip\"\n                }\n            }\n        },\n        \"BindingStatus\": {\n            \"type\"\
        : \"string\",\n            \"enum\": [\n                \"pending\",\n                \"syncing\",\n             \
        \   \"synced\",\n                \"error\",\n                \"disabled\"\n            ],\n            \"description\"\
        : \"Status of a repository binding\"\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListRepositoryBindingsResponse\"\
        ,\n    \"$defs\": {\n        \"ListRepositoryBindingsResponse\": {\n            \"description\": \"Response containing
        a list of repository bindings\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"bindings\",\n                \"total\"\n            ],\n         \
        \   \"properties\": {\n                \"bindings\": {\n                    \"type\": \"array\",\n               \
        \     \"items\": {\n                        \"$ref\": \"#/$defs/RepositoryBindingInfo\"\n                    },\n\
        \                    \"description\": \"List of repository bindings\"\n                },\n                \"total\"\
        : {\n                    \"type\": \"integer\",\n                    \"description\": \"Total number of bindings matching
        filter\"\n                }\n            }\n        },\n        \"RepositoryBindingInfo\": {\n            \"description\"\
        : \"Detailed repository binding configuration and status\",\n            \"type\": \"object\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"bindingId\",\n                \"namespace\",\n          \
        \      \"repositoryUrl\",\n                \"status\"\n            ],\n            \"properties\": {\n           \
        \     \"bindingId\": {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n   \
        \                 \"description\": \"Unique identifier of the repository binding\"\n                },\n         \
        \       \"namespace\": {\n                    \"type\": \"string\",\n                    \"description\": \"Namespace
        the repository is bound to\"\n                },\n                \"repositoryUrl\": {\n                    \"type\"\
        : \"string\",\n                    \"description\": \"URL of the bound repository\"\n                },\n        \
        \        \"branch\": {\n                    \"type\": \"string\",\n                    \"description\": \"Branch being
        synced\"\n                },\n                \"status\": {\n                    \"$ref\": \"#/$defs/BindingStatus\"\
        ,\n                    \"description\": \"Current status of the binding\"\n                },\n                \"\
        syncEnabled\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether automatic
        sync is enabled\"\n                },\n                \"syncIntervalMinutes\": {\n                    \"type\": \"\
        integer\",\n                    \"description\": \"Sync interval in minutes\"\n                },\n              \
        \  \"documentCount\": {\n                    \"type\": \"integer\",\n                    \"description\": \"Number
        of documents from this repository\"\n                },\n                \"createdAt\": {\n                    \"\
        type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"description\": \"Timestamp
        when the binding was created\"\n                },\n                \"owner\": {\n                    \"type\": \"\
        string\",\n                    \"description\": \"Owner of this binding. NOT a session ID.\\nContains either an accountId
        (UUID format) for user-initiated bindings\\nor a service name for service-initiated bindings.\\n\"\n             \
        \   }\n            }\n        },\n        \"BindingStatus\": {\n            \"type\": \"string\",\n            \"\
        enum\": [\n                \"pending\",\n                \"syncing\",\n                \"synced\",\n             \
        \   \"error\",\n                \"disabled\"\n            ],\n            \"description\": \"Status of a repository
        binding\"\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"List all repository bindings\",\n    \"description\": \"List all repository
        bindings with optional filtering by status.\\n\",\n    \"tags\": [\n        \"Repository\"\n    ],\n    \"deprecated\"\
        : false,\n    \"operationId\": \"listRepositoryBindings\"\n}"
  /documentation/repo/update:
    post:
      operationId: updateRepositoryBinding
      summary: Update repository binding configuration
      description: |
        Update sync settings, file patterns, category mappings, or archive configuration.
      tags:
      - Repository
      x-permissions:
      - role: developer
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateRepositoryBindingRequest'
      responses:
        '200':
          description: Repository binding updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateRepositoryBindingResponse'
        '404':
          description: No binding found for namespace
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/UpdateRepositoryBindingRequest\"\
        ,\n    \"$defs\": {\n        \"UpdateRepositoryBindingRequest\": {\n            \"description\": \"Request to update
        repository binding configuration\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"namespace\"\n            ],\n            \"properties\": {\n     \
        \           \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\"\
        ,\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace of the binding
        to update\"\n                },\n                \"syncEnabled\": {\n                    \"type\": \"boolean\",\n\
        \                    \"description\": \"Enable or disable automatic syncing\"\n                },\n              \
        \  \"syncIntervalMinutes\": {\n                    \"type\": \"integer\",\n                    \"minimum\": 5,\n \
        \                   \"maximum\": 1440,\n                    \"description\": \"New sync interval in minutes\"\n  \
        \              },\n                \"filePatterns\": {\n                    \"type\": \"array\",\n               \
        \     \"items\": {\n                        \"type\": \"string\"\n                    },\n                    \"nullable\"\
        : true,\n                    \"description\": \"New glob patterns for files to include (null to keep unchanged)\"\n\
        \                },\n                \"excludePatterns\": {\n                    \"type\": \"array\",\n          \
        \          \"items\": {\n                        \"type\": \"string\"\n                    },\n                  \
        \  \"nullable\": true,\n                    \"description\": \"New glob patterns for files to exclude (null to keep
        unchanged)\"\n                },\n                \"categoryMapping\": {\n                    \"type\": \"object\"\
        ,\n                    \"additionalProperties\": {\n                        \"type\": \"string\"\n               \
        \     },\n                    \"nullable\": true,\n                    \"description\": \"New directory-to-category
        mapping (null to keep unchanged)\"\n                },\n                \"defaultCategory\": {\n                 \
        \   \"$ref\": \"#/$defs/DocumentCategory\",\n                    \"description\": \"New default category for unmapped
        documents\"\n                },\n                \"archiveEnabled\": {\n                    \"type\": \"boolean\"\
        ,\n                    \"description\": \"Enable or disable archive functionality\"\n                },\n        \
        \        \"archiveOnSync\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"\
        Enable or disable archiving after each sync\"\n                }\n            }\n        },\n        \"DocumentCategory\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"getting-started\",\n          \
        \      \"api-reference\",\n                \"architecture\",\n                \"deployment\",\n                \"\
        troubleshooting\",\n                \"tutorials\",\n                \"game-systems\",\n                \"world-lore\"\
        ,\n                \"npc-ai\",\n                \"other\"\n            ],\n            \"description\": \"Fixed categories
        for type-safe filtering\"\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/UpdateRepositoryBindingResponse\"\
        ,\n    \"$defs\": {\n        \"UpdateRepositoryBindingResponse\": {\n            \"description\": \"Response containing
        the updated binding configuration\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"binding\"\n            ],\n            \"properties\": {\n       \
        \         \"binding\": {\n                    \"$ref\": \"#/$defs/RepositoryBindingInfo\",\n                    \"\
        description\": \"Updated binding configuration\"\n                }\n            }\n        },\n        \"RepositoryBindingInfo\"\
        : {\n            \"description\": \"Detailed repository binding configuration and status\",\n            \"type\"\
        : \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n                \"bindingId\"\
        ,\n                \"namespace\",\n                \"repositoryUrl\",\n                \"status\"\n            ],\n\
        \            \"properties\": {\n                \"bindingId\": {\n                    \"type\": \"string\",\n    \
        \                \"format\": \"uuid\",\n                    \"description\": \"Unique identifier of the repository
        binding\"\n                },\n                \"namespace\": {\n                    \"type\": \"string\",\n     \
        \               \"description\": \"Namespace the repository is bound to\"\n                },\n                \"\
        repositoryUrl\": {\n                    \"type\": \"string\",\n                    \"description\": \"URL of the bound
        repository\"\n                },\n                \"branch\": {\n                    \"type\": \"string\",\n     \
        \               \"description\": \"Branch being synced\"\n                },\n                \"status\": {\n    \
        \                \"$ref\": \"#/$defs/BindingStatus\",\n                    \"description\": \"Current status of the
        binding\"\n                },\n                \"syncEnabled\": {\n                    \"type\": \"boolean\",\n  \
        \                  \"description\": \"Whether automatic sync is enabled\"\n                },\n                \"\
        syncIntervalMinutes\": {\n                    \"type\": \"integer\",\n                    \"description\": \"Sync
        interval in minutes\"\n                },\n                \"documentCount\": {\n                    \"type\": \"\
        integer\",\n                    \"description\": \"Number of documents from this repository\"\n                },\n\
        \                \"createdAt\": {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\"\
        ,\n                    \"description\": \"Timestamp when the binding was created\"\n                },\n         \
        \       \"owner\": {\n                    \"type\": \"string\",\n                    \"description\": \"Owner of this
        binding. NOT a session ID.\\nContains either an accountId (UUID format) for user-initiated bindings\\nor a service
        name for service-initiated bindings.\\n\"\n                }\n            }\n        },\n        \"BindingStatus\"\
        : {\n            \"type\": \"string\",\n            \"enum\": [\n                \"pending\",\n                \"\
        syncing\",\n                \"synced\",\n                \"error\",\n                \"disabled\"\n            ],\n\
        \            \"description\": \"Status of a repository binding\"\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Update repository binding configuration\",\n    \"description\": \"Update
        sync settings, file patterns, category mappings, or archive configuration.\\n\",\n    \"tags\": [\n        \"Repository\"\
        \n    ],\n    \"deprecated\": false,\n    \"operationId\": \"updateRepositoryBinding\"\n}"
  /documentation/repo/archive/create:
    post:
      operationId: createDocumentationArchive
      summary: Create documentation archive
      description: |
        Create a .bannou bundle archive of all documents in a namespace.
        Archives are stored via Asset Service.
      tags:
      - Archive
      x-permissions:
      - role: developer
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateArchiveRequest'
      responses:
        '200':
          description: Archive created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateArchiveResponse'
        '404':
          description: Namespace not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/CreateArchiveRequest\"\
        ,\n    \"$defs\": {\n        \"CreateArchiveRequest\": {\n            \"description\": \"Request to create a point-in-time
        snapshot of namespace documentation\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"namespace\",\n                \"owner\"\n            ],\n        \
        \    \"properties\": {\n                \"owner\": {\n                    \"type\": \"string\",\n                \
        \    \"description\": \"Owner of this archive. NOT a session ID.\\nFor user-initiated archives: the accountId (UUID
        format).\\nFor service-initiated archives: the service name (e.g., \\\"orchestrator\\\").\\n\"\n                },\n\
        \                \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"\
        ^[a-z0-9-]+$\",\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace
        to archive\"\n                },\n                \"description\": {\n                    \"type\": \"string\",\n\
        \                    \"maxLength\": 500,\n                    \"description\": \"Optional description for the archive\"\
        \n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/CreateArchiveResponse\"\
        ,\n    \"$defs\": {\n        \"CreateArchiveResponse\": {\n            \"description\": \"Response containing the
        created archive details\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n    \
        \        \"required\": [\n                \"archiveId\",\n                \"namespace\"\n            ],\n        \
        \    \"properties\": {\n                \"archiveId\": {\n                    \"type\": \"string\",\n            \
        \        \"format\": \"uuid\",\n                    \"description\": \"Unique identifier of the created archive\"\n\
        \                },\n                \"namespace\": {\n                    \"type\": \"string\",\n               \
        \     \"description\": \"Namespace that was archived\"\n                },\n                \"bundleAssetId\": {\n\
        \                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\"\
        : \"Asset ID in Asset Service\"\n                },\n                \"documentCount\": {\n                    \"\
        type\": \"integer\",\n                    \"description\": \"Number of documents in the archive\"\n              \
        \  },\n                \"sizeBytes\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Total size of the archive in bytes\"\n                },\n                \"createdAt\": {\n                 \
        \   \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"description\": \"\
        Timestamp when the archive was created\"\n                },\n                \"commitHash\": {\n                \
        \    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Git commit
        hash if namespace is bound\"\n                }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Create documentation archive\",\n    \"description\": \"Create a .bannou
        bundle archive of all documents in a namespace.\\nArchives are stored via Asset Service.\\n\",\n    \"tags\": [\n\
        \        \"Archive\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"createDocumentationArchive\"\n}"
  /documentation/repo/archive/list:
    post:
      operationId: listDocumentationArchives
      summary: List documentation archives
      description: |
        List all archives for a namespace.
      tags:
      - Archive
      x-permissions:
      - role: developer
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ListArchivesRequest'
      responses:
        '200':
          description: List of archives
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListArchivesResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListArchivesRequest\"\
        ,\n    \"$defs\": {\n        \"ListArchivesRequest\": {\n            \"description\": \"Request to list available
        archives for a namespace\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n   \
        \         \"required\": [\n                \"namespace\"\n            ],\n            \"properties\": {\n        \
        \        \"namespace\": {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\"\
        ,\n                    \"maxLength\": 50,\n                    \"description\": \"Documentation namespace to list
        archives for\"\n                },\n                \"limit\": {\n                    \"type\": \"integer\",\n   \
        \                 \"default\": 20,\n                    \"minimum\": 1,\n                    \"maximum\": 100,\n \
        \                   \"description\": \"Maximum number of archives to return\"\n                },\n              \
        \  \"offset\": {\n                    \"type\": \"integer\",\n                    \"default\": 0,\n              \
        \      \"minimum\": 0,\n                    \"description\": \"Number of archives to skip\"\n                }\n \
        \           }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListArchivesResponse\"\
        ,\n    \"$defs\": {\n        \"ListArchivesResponse\": {\n            \"description\": \"Response containing a paginated
        list of archives\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n           \
        \ \"required\": [\n                \"archives\",\n                \"total\"\n            ],\n            \"properties\"\
        : {\n                \"archives\": {\n                    \"type\": \"array\",\n                    \"items\": {\n\
        \                        \"$ref\": \"#/$defs/ArchiveInfo\"\n                    },\n                    \"description\"\
        : \"List of archives for the namespace\"\n                },\n                \"total\": {\n                    \"\
        type\": \"integer\",\n                    \"description\": \"Total number of archives\"\n                }\n     \
        \       }\n        },\n        \"ArchiveInfo\": {\n            \"description\": \"Archive metadata including size
        and document count\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n         \
        \   \"required\": [\n                \"archiveId\",\n                \"namespace\",\n                \"createdAt\"\
        \n            ],\n            \"properties\": {\n                \"archiveId\": {\n                    \"type\": \"\
        string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"Unique identifier of
        the archive\"\n                },\n                \"namespace\": {\n                    \"type\": \"string\",\n \
        \                   \"description\": \"Namespace the archive belongs to\"\n                },\n                \"\
        bundleAssetId\": {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n       \
        \             \"description\": \"Asset ID in Asset Service\"\n                },\n                \"description\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Description of the archive\"\n                },\n                \"documentCount\": {\n                    \"\
        type\": \"integer\",\n                    \"description\": \"Number of documents in the archive\"\n              \
        \  },\n                \"sizeBytes\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Total size of the archive in bytes\"\n                },\n                \"commitHash\": {\n                \
        \    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Git commit
        hash if namespace was bound at archive time\"\n                },\n                \"createdAt\": {\n            \
        \        \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"description\"\
        : \"Timestamp when the archive was created\"\n                },\n                \"owner\": {\n                 \
        \   \"type\": \"string\",\n                    \"description\": \"Owner of this archive. NOT a session ID.\\nContains
        either an accountId (UUID format) for user-initiated archives\\nor a service name for service-initiated archives.\\\
        n\"\n                }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"List documentation archives\",\n    \"description\": \"List all archives
        for a namespace.\\n\",\n    \"tags\": [\n        \"Archive\"\n    ],\n    \"deprecated\": false,\n    \"operationId\"\
        : \"listDocumentationArchives\"\n}"
  /documentation/repo/archive/restore:
    post:
      operationId: restoreDocumentationArchive
      summary: Restore documentation from archive
      description: |
        Restore documents from a .bannou bundle archive.
        Replaces all documents in the namespace with archived content.
      tags:
      - Archive
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RestoreArchiveRequest'
      responses:
        '200':
          description: Archive restored
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestoreArchiveResponse'
        '404':
          description: Archive not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/RestoreArchiveRequest\"\
        ,\n    \"$defs\": {\n        \"RestoreArchiveRequest\": {\n            \"description\": \"Request to restore documents
        from an archive\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"\
        required\": [\n                \"archiveId\"\n            ],\n            \"properties\": {\n                \"archiveId\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"\
        description\": \"Unique identifier of the archive to restore\"\n                },\n                \"targetNamespace\"\
        : {\n                    \"type\": \"string\",\n                    \"pattern\": \"^[a-z0-9-]+$\",\n             \
        \       \"maxLength\": 50,\n                    \"description\": \"If not provided, restores to original namespace\"\
        \n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/RestoreArchiveResponse\"\
        ,\n    \"$defs\": {\n        \"RestoreArchiveResponse\": {\n            \"description\": \"Response containing restore
        operation results\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n          \
        \  \"required\": [\n                \"namespace\",\n                \"documentsRestored\"\n            ],\n      \
        \      \"properties\": {\n                \"namespace\": {\n                    \"type\": \"string\",\n          \
        \          \"description\": \"Namespace documents were restored to\"\n                },\n                \"documentsRestored\"\
        : {\n                    \"type\": \"integer\",\n                    \"description\": \"Number of documents restored
        from archive\"\n                },\n                \"previousDocumentsDeleted\": {\n                    \"type\"\
        : \"integer\",\n                    \"description\": \"Number of existing documents deleted before restore\"\n   \
        \             }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Restore documentation from archive\",\n    \"description\": \"Restore documents
        from a .bannou bundle archive.\\nReplaces all documents in the namespace with archived content.\\n\",\n    \"tags\"\
        : [\n        \"Archive\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"restoreDocumentationArchive\"\
        \n}"
  /documentation/repo/archive/delete:
    post:
      operationId: deleteDocumentationArchive
      summary: Delete documentation archive
      description: |
        Delete an archive from Asset Service storage.
      tags:
      - Archive
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteArchiveRequest'
      responses:
        '200':
          description: Archive deleted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteArchiveResponse'
        '404':
          description: Archive not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/DeleteArchiveRequest\"\
        ,\n    \"$defs\": {\n        \"DeleteArchiveRequest\": {\n            \"description\": \"Request to permanently delete
        an archive\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\"\
        : [\n                \"archiveId\"\n            ],\n            \"properties\": {\n                \"archiveId\":
        {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\"\
        : \"Unique identifier of the archive to delete\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/DeleteArchiveResponse\"\
        ,\n    \"$defs\": {\n        \"DeleteArchiveResponse\": {\n            \"description\": \"Response confirming archive
        deletion\",\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\"\
        : [\n                \"deleted\"\n            ],\n            \"properties\": {\n                \"deleted\": {\n\
        \                    \"type\": \"boolean\",\n                    \"description\": \"Whether the archive was successfully
        deleted\"\n                }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Delete documentation archive\",\n    \"description\": \"Delete an archive
        from Asset Service storage.\\n\",\n    \"tags\": [\n        \"Archive\"\n    ],\n    \"deprecated\": false,\n    \"\
        operationId\": \"deleteDocumentationArchive\"\n}"
components:
  schemas:
    DocumentCategory:
      type: string
      enum:
      - getting-started
      - api-reference
      - architecture
      - deployment
      - troubleshooting
      - tutorials
      - game-systems
      - world-lore
      - npc-ai
      - other
      description: Fixed categories for type-safe filtering
    RelatedDepth:
      type: string
      enum:
      - none
      - direct
      - extended
      default: direct
      description: |
        How deep to traverse related document links:
        - none: No related documents included
        - direct: Only directly linked documents (depth 1)
        - extended: Related documents + their related documents (depth 2)
    SearchField:
      type: string
      enum:
      - title
      - content
      - tags
      - summary
      description: Fields that can be searched within documents
    ListSortField:
      type: string
      enum:
      - created_at
      - updated_at
      - title
      default: updated_at
      description: Fields available for sorting document lists
    SuggestionSource:
      type: string
      enum:
      - document_id
      - slug
      - topic
      - category
      description: Source type for generating related topic suggestions
    QueryDocumentationRequest:
      description: Request to search documentation using natural language queries
      type: object
      additionalProperties: false
      required:
      - namespace
      - query
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to search within
        query:
          type: string
          minLength: 3
          maxLength: 500
          description: Natural language query to search for
        sessionId:
          type: string
          format: uuid
          description: Optional session ID for conversational context
        category:
          $ref: '#/components/schemas/DocumentCategory'
          description: Filter results to a specific category
        maxResults:
          type: integer
          default: 5
          minimum: 1
          maximum: 20
          description: Maximum number of results to return
        includeContent:
          type: boolean
          default: false
          description: Whether to include full document content in results
        maxSummaryLength:
          type: integer
          default: 300
          minimum: 50
          maximum: 500
          description: Maximum length of summaries in characters
        minRelevanceScore:
          type: number
          format: float
          default: 0.3
          minimum: 0.0
          maximum: 1.0
          description: Minimum relevance score threshold for results
    QueryDocumentationResponse:
      description: Response containing search results and voice-friendly summaries
      type: object
      additionalProperties: false
      required:
      - namespace
      - query
      - results
      properties:
        namespace:
          type: string
          description: The namespace that was searched
        query:
          type: string
          description: The original query string
        results:
          type: array
          items:
            $ref: '#/components/schemas/DocumentResult'
          description: List of matching documents
        totalResults:
          type: integer
          description: Total number of matching documents
        voiceSummary:
          type: string
          description: Concise spoken summary for voice AI
        suggestedFollowups:
          type: array
          items:
            type: string
          description: Suggested follow-up queries
        noResultsMessage:
          type: string
          description: User-friendly message when no results found
    GetDocumentRequest:
      description: Request to retrieve a specific document by ID or slug
      type: object
      additionalProperties: false
      required:
      - namespace
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace containing the document
        documentId:
          type: string
          format: uuid
          nullable: true
          description: Unique identifier of the document to retrieve (null if using slug)
        slug:
          type: string
          pattern: '^[a-z0-9-]+$'
          nullable: true
          description: URL-friendly slug of the document to retrieve (null if using documentId)
        sessionId:
          type: string
          format: uuid
          nullable: true
          description: Optional session ID for tracking document views (null if not tracking)
        includeRelated:
          $ref: '#/components/schemas/RelatedDepth'
          nullable: true
          description: How deep to fetch related documents (null for no related documents)
        includeContent:
          type: boolean
          default: false
          description: Whether to include full document content
        renderHtml:
          type: boolean
          default: false
          description: Whether to render markdown content as HTML
    GetDocumentResponse:
      description: Response containing the requested document and optional related documents
      type: object
      additionalProperties: false
      required:
      - document
      properties:
        document:
          $ref: '#/components/schemas/Document'
          description: The requested document
        relatedDocuments:
          type: array
          items:
            $ref: '#/components/schemas/DocumentSummary'
          description: List of related documents based on includeRelated depth
        contentFormat:
          type: string
          enum:
          - markdown
          - html
          - none
          description: Format of the content field in the response
    SearchDocumentationRequest:
      description: Request to search documentation using keyword matching
      type: object
      additionalProperties: false
      required:
      - namespace
      - searchTerm
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to search within
        searchTerm:
          type: string
          minLength: 2
          maxLength: 200
          description: Keyword or phrase to search for
        sessionId:
          type: string
          format: uuid
          nullable: true
          description: Optional session ID for tracking searches (null if not tracking)
        category:
          $ref: '#/components/schemas/DocumentCategory'
          nullable: true
          description: Filter results to a specific category (null for all categories)
        maxResults:
          type: integer
          default: 10
          minimum: 1
          maximum: 50
          description: Maximum number of results to return
        searchIn:
          type: array
          items:
            $ref: '#/components/schemas/SearchField'
          nullable: true
          description: Fields to search within (null for default fields)
        sortBy:
          type: string
          enum:
          - relevance
          - recency
          - alphabetical
          default: relevance
          description: How to sort the search results
        includeContent:
          type: boolean
          default: false
          description: Whether to include full document content in results
    SearchDocumentationResponse:
      description: Response containing keyword search results
      type: object
      additionalProperties: false
      required:
      - namespace
      - results
      properties:
        namespace:
          type: string
          description: The namespace that was searched
        results:
          type: array
          items:
            $ref: '#/components/schemas/DocumentResult'
          description: List of matching documents
        totalResults:
          type: integer
          description: Total number of matching documents
        searchTerm:
          type: string
          description: The original search term
    ListDocumentsRequest:
      description: Request to list documents with optional filtering and pagination
      type: object
      additionalProperties: false
      required:
      - namespace
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to list documents from
        category:
          $ref: '#/components/schemas/DocumentCategory'
          description: Filter to a specific category
        tags:
          type: array
          items:
            type: string
          nullable: true
          description: Filter by tags (null to skip tag filtering)
        tagsMatch:
          type: string
          enum:
          - all
          - any
          default: all
          description: Whether documents must match all tags or any tag
        createdAfter:
          type: string
          format: date-time
          description: Filter to documents created after this timestamp
        createdBefore:
          type: string
          format: date-time
          description: Filter to documents created before this timestamp
        updatedAfter:
          type: string
          format: date-time
          description: Filter to documents updated after this timestamp
        updatedBefore:
          type: string
          format: date-time
          description: Filter to documents updated before this timestamp
        titlesOnly:
          type: boolean
          default: false
          description: Return only document titles without summaries
        page:
          type: integer
          default: 1
          minimum: 1
          description: Page number for pagination
        pageSize:
          type: integer
          default: 20
          minimum: 1
          maximum: 100
          description: Number of documents per page
        sortBy:
          $ref: '#/components/schemas/ListSortField'
          description: Field to sort results by
        sortOrder:
          type: string
          enum:
          - asc
          - desc
          default: desc
          description: Sort order direction
    ListDocumentsResponse:
      description: Response containing a paginated list of documents
      type: object
      additionalProperties: false
      required:
      - namespace
      - documents
      properties:
        namespace:
          type: string
          description: The namespace that was listed
        documents:
          type: array
          items:
            $ref: '#/components/schemas/DocumentSummary'
          description: List of documents in the namespace
        totalCount:
          type: integer
          description: Total number of documents matching filters
        page:
          type: integer
          description: Current page number
        pageSize:
          type: integer
          description: Number of documents per page
        totalPages:
          type: integer
          description: Total number of pages available
    SuggestRelatedRequest:
      description: Request to get related topic suggestions based on a source
      type: object
      additionalProperties: false
      required:
      - namespace
      - suggestionSource
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace for suggestions
        suggestionSource:
          $ref: '#/components/schemas/SuggestionSource'
          description: Type of source to base suggestions on
        sourceValue:
          type: string
          description: The value for the suggestion source (document ID, slug, topic, or category)
        sessionId:
          type: string
          format: uuid
          description: Optional session ID for personalized suggestions
        maxSuggestions:
          type: integer
          default: 5
          minimum: 1
          maximum: 10
          description: Maximum number of suggestions to return
        excludeRecentlyViewed:
          type: boolean
          default: true
          description: Exclude documents viewed in current session
    SuggestRelatedResponse:
      description: Response containing suggested related topics for conversational flow
      type: object
      additionalProperties: false
      required:
      - namespace
      - suggestions
      properties:
        namespace:
          type: string
          description: The namespace suggestions are from
        suggestions:
          type: array
          items:
            $ref: '#/components/schemas/TopicSuggestion'
          description: List of suggested related topics
        voicePrompt:
          type: string
          description: Voice-friendly prompt for presenting suggestions
        sessionInfluenced:
          type: boolean
          description: Whether suggestions were influenced by session history
    TopicSuggestion:
      description: A suggested related topic with relevance context
      type: object
      additionalProperties: false
      required:
      - documentId
      - title
      properties:
        documentId:
          type: string
          format: uuid
          description: Unique identifier of the suggested document
        slug:
          type: string
          description: URL-friendly slug of the suggested document
        title:
          type: string
          description: Title of the suggested document
        category:
          $ref: '#/components/schemas/DocumentCategory'
          description: Category of the suggested document
        relevanceReason:
          type: string
          description: Explanation of why this document is relevant
    CreateDocumentRequest:
      description: Request to create a new documentation entry
      type: object
      additionalProperties: false
      required:
      - namespace
      - slug
      - title
      - category
      - content
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to create document in
        slug:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 100
          description: URL-friendly unique identifier for the document
        title:
          type: string
          maxLength: 200
          description: Display title of the document
        category:
          $ref: '#/components/schemas/DocumentCategory'
          description: Category for organizing the document
        content:
          type: string
          description: Markdown content (max 500KB)
        summary:
          type: string
          maxLength: 500
          nullable: true
          description: Brief text summary of the document (null if not provided)
        voiceSummary:
          type: string
          maxLength: 200
          nullable: true
          description: Concise summary optimized for voice AI (null if not provided)
        tags:
          type: array
          items:
            type: string
          nullable: true
          description: Tags for filtering and search (null to skip tagging)
        relatedDocuments:
          type: array
          items:
            type: string
            format: uuid
          nullable: true
          description: IDs of related documents to link (null to skip linking)
        metadata:
          type: object
          additionalProperties: true
          nullable: true
          description: Custom metadata key-value pairs (null if not needed)
    CreateDocumentResponse:
      description: Response confirming document creation with assigned identifiers
      type: object
      additionalProperties: false
      required:
      - documentId
      - slug
      properties:
        documentId:
          type: string
          format: uuid
          description: Unique identifier of the created document
        slug:
          type: string
          description: URL-friendly slug of the created document
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the document was created
    UpdateDocumentRequest:
      description: Request to update an existing document's fields
      type: object
      additionalProperties: false
      required:
      - namespace
      - documentId
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace containing the document
        documentId:
          type: string
          format: uuid
          description: Unique identifier of the document to update
        slug:
          type: string
          nullable: true
          description: New URL-friendly slug for the document (null to keep unchanged)
        title:
          type: string
          nullable: true
          description: New display title for the document (null to keep unchanged)
        category:
          $ref: '#/components/schemas/DocumentCategory'
          nullable: true
          description: New category for the document (null to keep unchanged)
        content:
          type: string
          nullable: true
          description: New markdown content for the document (null to keep unchanged)
        summary:
          type: string
          nullable: true
          description: New text summary for the document (null to keep unchanged)
        voiceSummary:
          type: string
          nullable: true
          description: New voice-optimized summary for the document (null to keep unchanged)
        tags:
          type: array
          items:
            type: string
          nullable: true
          description: New set of tags for the document (null to keep unchanged)
        relatedDocuments:
          type: array
          items:
            type: string
            format: uuid
          nullable: true
          description: New set of related document IDs (null to keep unchanged)
        metadata:
          type: object
          additionalProperties: true
          nullable: true
          description: New custom metadata key-value pairs (null to keep unchanged)
    UpdateDocumentResponse:
      description: Response confirming document update with timestamp
      type: object
      additionalProperties: false
      required:
      - documentId
      - updatedAt
      properties:
        documentId:
          type: string
          format: uuid
          description: Unique identifier of the updated document
        updatedAt:
          type: string
          format: date-time
          description: Timestamp when the document was updated
    DeleteDocumentRequest:
      description: Request to soft-delete a document to the trashcan
      type: object
      additionalProperties: false
      required:
      - namespace
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace containing the document
        documentId:
          type: string
          format: uuid
          nullable: true
          description: Unique identifier of the document to delete (null if using slug)
        slug:
          type: string
          nullable: true
          description: URL-friendly slug of the document to delete (null if using documentId)
    DeleteDocumentResponse:
      description: Response confirming document deletion with recovery deadline
      type: object
      additionalProperties: false
      required:
      - documentId
      - deletedAt
      - recoverableUntil
      properties:
        documentId:
          type: string
          format: uuid
          description: Unique identifier of the deleted document
        deletedAt:
          type: string
          format: date-time
          description: Timestamp when the document was deleted
        recoverableUntil:
          type: string
          format: date-time
          description: Deadline for recovering the document from trashcan
    RecoverDocumentRequest:
      description: Request to recover a deleted document from the trashcan
      type: object
      additionalProperties: false
      required:
      - namespace
      - documentId
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace containing the trashcan
        documentId:
          type: string
          format: uuid
          description: Unique identifier of the document to recover
    RecoverDocumentResponse:
      description: Response confirming document recovery with timestamp
      type: object
      additionalProperties: false
      required:
      - documentId
      - recoveredAt
      properties:
        documentId:
          type: string
          format: uuid
          description: Unique identifier of the recovered document
        recoveredAt:
          type: string
          format: date-time
          description: Timestamp when the document was recovered
    BulkUpdateRequest:
      description: Request to update multiple documents at once
      type: object
      additionalProperties: false
      required:
      - namespace
      - documentIds
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace containing the documents
        documentIds:
          type: array
          items:
            type: string
            format: uuid
          description: List of document IDs to update
        category:
          $ref: '#/components/schemas/DocumentCategory'
          description: New category to apply to all documents
        addTags:
          type: array
          items:
            type: string
          nullable: true
          description: Tags to add to all documents (null to skip adding)
        removeTags:
          type: array
          items:
            type: string
          nullable: true
          description: Tags to remove from all documents (null to skip removing)
    BulkUpdateResponse:
      description: Response reporting bulk update results with success and failure details
      type: object
      additionalProperties: false
      required:
      - succeeded
      - failed
      properties:
        succeeded:
          type: array
          items:
            type: string
            format: uuid
          description: IDs of documents successfully updated
        failed:
          type: array
          items:
            $ref: '#/components/schemas/BulkOperationFailure'
          description: Details of documents that failed to update
    BulkDeleteRequest:
      description: Request to delete multiple documents at once
      type: object
      additionalProperties: false
      required:
      - namespace
      - documentIds
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace containing the documents
        documentIds:
          type: array
          items:
            type: string
            format: uuid
          description: List of document IDs to delete
    BulkDeleteResponse:
      description: Response reporting bulk deletion results with success and failure details
      type: object
      additionalProperties: false
      required:
      - succeeded
      - failed
      properties:
        succeeded:
          type: array
          items:
            type: string
            format: uuid
          description: IDs of documents successfully deleted
        failed:
          type: array
          items:
            $ref: '#/components/schemas/BulkOperationFailure'
          description: Details of documents that failed to delete
    BulkOperationFailure:
      description: Details of a single document that failed in a bulk operation
      type: object
      additionalProperties: false
      required:
      - documentId
      - error
      properties:
        documentId:
          type: string
          format: uuid
          description: ID of the document that failed
        error:
          type: string
          description: Error message explaining the failure
    ImportDocumentationRequest:
      description: Request to import multiple documents into a namespace
      type: object
      additionalProperties: false
      required:
      - namespace
      - documents
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to import into
        documents:
          type: array
          items:
            $ref: '#/components/schemas/ImportDocument'
          description: List of documents to import
        onConflict:
          type: string
          enum:
          - skip
          - update
          - fail
          default: skip
          description: How to handle documents with existing slugs
    ImportDocument:
      description: A single document to import with required fields
      type: object
      additionalProperties: false
      required:
      - slug
      - title
      - category
      - content
      properties:
        slug:
          type: string
          description: URL-friendly unique identifier for the document
        title:
          type: string
          description: Display title of the document
        category:
          $ref: '#/components/schemas/DocumentCategory'
          description: Category for organizing the document
        content:
          type: string
          description: Markdown content of the document
        summary:
          type: string
          nullable: true
          description: Brief text summary of the document (null if not provided)
        voiceSummary:
          type: string
          nullable: true
          description: Concise summary optimized for voice AI (null if not provided)
        tags:
          type: array
          items:
            type: string
          nullable: true
          description: Tags for filtering and search (null to skip tagging)
        metadata:
          type: object
          additionalProperties: true
          nullable: true
          description: Custom metadata key-value pairs (null if not needed)
    ImportDocumentationResponse:
      description: Response reporting import results with counts and failure details
      type: object
      additionalProperties: false
      required:
      - namespace
      - created
      - updated
      - skipped
      - failed
      properties:
        namespace:
          type: string
          description: The namespace documents were imported into
        created:
          type: integer
          description: Number of new documents created
        updated:
          type: integer
          description: Number of existing documents updated
        skipped:
          type: integer
          description: Number of documents skipped due to conflicts
        failed:
          type: array
          items:
            $ref: '#/components/schemas/ImportFailure'
          description: Details of documents that failed to import
    ImportFailure:
      description: Details of a document that failed to import
      type: object
      additionalProperties: false
      required:
      - slug
      - error
      properties:
        slug:
          type: string
          description: Slug of the document that failed to import
        error:
          type: string
          description: Error message explaining the failure
    ListTrashcanRequest:
      description: Request to list deleted documents in the trashcan
      type: object
      additionalProperties: false
      required:
      - namespace
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to list trashcan from
        page:
          type: integer
          default: 1
          description: Page number for pagination
        pageSize:
          type: integer
          default: 20
          description: Number of items per page
    ListTrashcanResponse:
      description: Response containing deleted documents awaiting permanent deletion
      type: object
      additionalProperties: false
      required:
      - namespace
      - items
      properties:
        namespace:
          type: string
          description: The namespace the trashcan belongs to
        items:
          type: array
          items:
            $ref: '#/components/schemas/TrashcanItem'
          description: List of deleted documents in trashcan
        totalCount:
          type: integer
          description: Total number of items in trashcan
    TrashcanItem:
      description: A deleted document in the trashcan with expiration information
      type: object
      additionalProperties: false
      required:
      - documentId
      - title
      - deletedAt
      - expiresAt
      properties:
        documentId:
          type: string
          format: uuid
          description: Unique identifier of the deleted document
        slug:
          type: string
          description: URL-friendly slug of the deleted document
        title:
          type: string
          description: Title of the deleted document
        category:
          $ref: '#/components/schemas/DocumentCategory'
          description: Category of the deleted document
        deletedAt:
          type: string
          format: date-time
          description: Timestamp when the document was deleted
        expiresAt:
          type: string
          format: date-time
          description: Timestamp when the document will be permanently deleted
    PurgeTrashcanRequest:
      description: Request to permanently delete documents from the trashcan
      type: object
      additionalProperties: false
      required:
      - namespace
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to purge trashcan from
        documentIds:
          type: array
          items:
            type: string
            format: uuid
          description: If empty, purges all trashcan items
    PurgeTrashcanResponse:
      description: Response confirming permanent deletion of trashcan items
      type: object
      additionalProperties: false
      required:
      - purgedCount
      properties:
        purgedCount:
          type: integer
          description: Number of documents permanently deleted
    GetNamespaceStatsRequest:
      description: Request to get statistics for a documentation namespace
      type: object
      additionalProperties: false
      required:
      - namespace
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to get statistics for
    NamespaceStatsResponse:
      description: Response containing namespace statistics and document counts
      type: object
      additionalProperties: false
      required:
      - namespace
      - documentCount
      properties:
        namespace:
          type: string
          description: The namespace statistics are for
        documentCount:
          type: integer
          description: Total number of documents in the namespace
        categoryCounts:
          type: object
          additionalProperties:
            type: integer
          description: Document count per category
        trashcanCount:
          type: integer
          description: Number of documents in the trashcan
        totalContentSizeBytes:
          type: integer
          description: Total size of all document content in bytes
        lastUpdated:
          type: string
          format: date-time
          description: Timestamp of most recent document update
    Document:
      description: Complete document with all metadata and content
      type: object
      additionalProperties: false
      required:
      - documentId
      - namespace
      - slug
      - title
      - category
      - createdAt
      - updatedAt
      properties:
        documentId:
          type: string
          format: uuid
          description: Unique identifier of the document
        namespace:
          type: string
          description: Namespace the document belongs to
        slug:
          type: string
          description: URL-friendly unique identifier
        title:
          type: string
          description: Display title of the document
        category:
          $ref: '#/components/schemas/DocumentCategory'
          description: Category for organizing the document
        content:
          type: string
          description: Full markdown content of the document
        summary:
          type: string
          nullable: true
          description: Brief text summary of the document
        voiceSummary:
          type: string
          nullable: true
          description: Concise summary optimized for voice AI
        tags:
          type: array
          items:
            type: string
          description: Tags for filtering and search
        relatedDocuments:
          type: array
          items:
            type: string
            format: uuid
          description: IDs of related documents
        metadata:
          type: object
          additionalProperties: true
          description: Custom metadata key-value pairs
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the document was created
        updatedAt:
          type: string
          format: date-time
          description: Timestamp when the document was last updated
    DocumentSummary:
      description: Lightweight document representation for listings and references
      type: object
      additionalProperties: false
      required:
      - documentId
      - slug
      - title
      - category
      properties:
        documentId:
          type: string
          format: uuid
          description: Unique identifier of the document
        slug:
          type: string
          description: URL-friendly unique identifier
        title:
          type: string
          description: Display title of the document
        category:
          $ref: '#/components/schemas/DocumentCategory'
          description: Category of the document
        summary:
          type: string
          nullable: true
          description: Brief text summary of the document
        voiceSummary:
          type: string
          nullable: true
          description: Concise summary optimized for voice AI
        tags:
          type: array
          items:
            type: string
          description: Tags associated with the document
    DocumentResult:
      description: Search result with relevance scoring and match highlights
      type: object
      additionalProperties: false
      required:
      - documentId
      - slug
      - title
      - relevanceScore
      properties:
        documentId:
          type: string
          format: uuid
          description: Unique identifier of the document
        slug:
          type: string
          description: URL-friendly unique identifier
        title:
          type: string
          description: Display title of the document
        category:
          $ref: '#/components/schemas/DocumentCategory'
          description: Category of the document
        summary:
          type: string
          nullable: true
          description: Brief text summary of the document
        voiceSummary:
          type: string
          nullable: true
          description: Concise summary optimized for voice AI
        content:
          type: string
          nullable: true
          description: Full document content if requested
        relevanceScore:
          type: number
          format: float
          description: Relevance score from 0.0 to 1.0
        matchHighlights:
          type: array
          items:
            type: string
          description: Text snippets showing where matches occurred
    BindingStatus:
      type: string
      enum:
      - pending
      - syncing
      - synced
      - error
      - disabled
      description: Status of a repository binding
    SyncStatus:
      type: string
      enum:
      - success
      - partial
      - failed
      description: Result status of a sync operation
    SyncTrigger:
      type: string
      enum:
      - manual
      - scheduled
      description: What triggered the sync operation
    BindRepositoryRequest:
      description: Request to bind a Git repository for automatic documentation sync
      type: object
      additionalProperties: false
      required:
      - namespace
      - repositoryUrl
      - owner
      properties:
        owner:
          type: string
          description: |
            Owner of this binding. NOT a session ID.
            For user-initiated bindings: the accountId (UUID format).
            For service-initiated bindings: the service name (e.g., "orchestrator").
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to bind
        repositoryUrl:
          type: string
          description: Git clone URL (HTTPS for public repos)
        branch:
          type: string
          default: main
          description: Branch to sync from
        syncIntervalMinutes:
          type: integer
          default: 60
          minimum: 5
          maximum: 1440
          description: How often to sync (5 min to 24 hours)
        filePatterns:
          type: array
          nullable: true
          items:
            type: string
          default:
          - "**/*.md"
          description: Glob patterns for files to include (defaults to all markdown files if not provided)
        excludePatterns:
          type: array
          nullable: true
          items:
            type: string
          default:
          - ".git/**"
          - ".obsidian/**"
          - "node_modules/**"
          description: Glob patterns for files to exclude (defaults to common non-content directories if not provided)
        categoryMapping:
          type: object
          nullable: true
          additionalProperties:
            type: string
          description: Map directory prefixes to categories (empty mapping if not provided)
        defaultCategory:
          $ref: '#/components/schemas/DocumentCategory'
          description: Default category for documents without mapping
        archiveEnabled:
          type: boolean
          default: false
          description: Enable archive functionality
        archiveOnSync:
          type: boolean
          default: false
          description: Create archive after each sync
    BindRepositoryResponse:
      description: Response confirming repository binding creation
      type: object
      additionalProperties: false
      required:
      - bindingId
      - namespace
      - status
      properties:
        bindingId:
          type: string
          format: uuid
          description: Unique identifier of the repository binding
        namespace:
          type: string
          description: Namespace the repository is bound to
        repositoryUrl:
          type: string
          description: URL of the bound repository
        branch:
          type: string
          description: Branch being synced
        status:
          $ref: '#/components/schemas/BindingStatus'
          description: Current status of the binding
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the binding was created
    UnbindRepositoryRequest:
      description: Request to remove a repository binding from a namespace
      type: object
      additionalProperties: false
      required:
      - namespace
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to unbind
        deleteDocuments:
          type: boolean
          default: false
          description: Also delete all documents from the namespace
    UnbindRepositoryResponse:
      description: Response confirming repository unbinding with cleanup details
      type: object
      additionalProperties: false
      required:
      - namespace
      - documentsDeleted
      properties:
        namespace:
          type: string
          description: Namespace that was unbound
        documentsDeleted:
          type: integer
          description: Number of documents deleted (0 if deleteDocuments was false)
    SyncRepositoryRequest:
      description: Request to trigger a manual repository sync
      type: object
      additionalProperties: false
      required:
      - namespace
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to sync
        force:
          type: boolean
          default: false
          description: Force full re-sync even if commit hash unchanged
    SyncRepositoryResponse:
      description: Response containing sync operation results and statistics
      type: object
      additionalProperties: false
      required:
      - syncId
      - status
      properties:
        syncId:
          type: string
          format: uuid
          description: Unique identifier of this sync operation
        status:
          $ref: '#/components/schemas/SyncStatus'
          description: Result status of the sync
        commitHash:
          type: string
          nullable: true
          description: Git commit hash that was synced (null if sync failed or repo is empty)
        documentsCreated:
          type: integer
          description: Number of new documents created
        documentsUpdated:
          type: integer
          description: Number of existing documents updated
        documentsDeleted:
          type: integer
          description: Number of documents deleted
        documentsFailed:
          type: integer
          description: Number of documents that failed to process
        durationMs:
          type: integer
          description: Time taken for sync in milliseconds
        errorMessage:
          type: string
          nullable: true
          description: Error message if sync failed
    RepositoryStatusRequest:
      description: Request to get current repository binding and sync status
      type: object
      additionalProperties: false
      required:
      - namespace
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to get status for
    RepositoryStatusResponse:
      description: Response containing binding configuration and recent sync information
      type: object
      additionalProperties: false
      properties:
        binding:
          $ref: '#/components/schemas/RepositoryBindingInfo'
          description: Current binding configuration and status
        lastSync:
          $ref: '#/components/schemas/SyncInfo'
          description: Information about the most recent sync
    RepositoryBindingInfo:
      description: Detailed repository binding configuration and status
      type: object
      additionalProperties: false
      required:
      - bindingId
      - namespace
      - repositoryUrl
      - status
      properties:
        bindingId:
          type: string
          format: uuid
          description: Unique identifier of the repository binding
        namespace:
          type: string
          description: Namespace the repository is bound to
        repositoryUrl:
          type: string
          description: URL of the bound repository
        branch:
          type: string
          description: Branch being synced
        status:
          $ref: '#/components/schemas/BindingStatus'
          description: Current status of the binding
        syncEnabled:
          type: boolean
          description: Whether automatic sync is enabled
        syncIntervalMinutes:
          type: integer
          description: Sync interval in minutes
        documentCount:
          type: integer
          description: Number of documents from this repository
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the binding was created
        owner:
          type: string
          description: |
            Owner of this binding. NOT a session ID.
            Contains either an accountId (UUID format) for user-initiated bindings
            or a service name for service-initiated bindings.
    SyncInfo:
      description: Information about a repository sync operation
      type: object
      additionalProperties: false
      properties:
        syncId:
          type: string
          format: uuid
          description: Unique identifier of the sync operation
        status:
          $ref: '#/components/schemas/SyncStatus'
          description: Result status of the sync
        triggeredBy:
          $ref: '#/components/schemas/SyncTrigger'
          description: What triggered the sync
        startedAt:
          type: string
          format: date-time
          description: Timestamp when sync started
        completedAt:
          type: string
          format: date-time
          description: Timestamp when sync completed
        commitHash:
          type: string
          nullable: true
          description: Git commit hash that was synced (null if sync failed or repo is empty)
        documentsProcessed:
          type: integer
          description: Total documents processed in sync
    ListRepositoryBindingsRequest:
      description: Request to list all repository bindings with optional filtering
      type: object
      additionalProperties: false
      properties:
        status:
          $ref: '#/components/schemas/BindingStatus'
          description: Filter by binding status
        limit:
          type: integer
          default: 50
          minimum: 1
          maximum: 100
          description: Maximum number of bindings to return
        offset:
          type: integer
          default: 0
          minimum: 0
          description: Number of bindings to skip
    ListRepositoryBindingsResponse:
      description: Response containing a list of repository bindings
      type: object
      additionalProperties: false
      required:
      - bindings
      - total
      properties:
        bindings:
          type: array
          items:
            $ref: '#/components/schemas/RepositoryBindingInfo'
          description: List of repository bindings
        total:
          type: integer
          description: Total number of bindings matching filter
    UpdateRepositoryBindingRequest:
      description: Request to update repository binding configuration
      type: object
      additionalProperties: false
      required:
      - namespace
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace of the binding to update
        syncEnabled:
          type: boolean
          description: Enable or disable automatic syncing
        syncIntervalMinutes:
          type: integer
          minimum: 5
          maximum: 1440
          description: New sync interval in minutes
        filePatterns:
          type: array
          items:
            type: string
          nullable: true
          description: New glob patterns for files to include (null to keep unchanged)
        excludePatterns:
          type: array
          items:
            type: string
          nullable: true
          description: New glob patterns for files to exclude (null to keep unchanged)
        categoryMapping:
          type: object
          additionalProperties:
            type: string
          nullable: true
          description: New directory-to-category mapping (null to keep unchanged)
        defaultCategory:
          $ref: '#/components/schemas/DocumentCategory'
          description: New default category for unmapped documents
        archiveEnabled:
          type: boolean
          description: Enable or disable archive functionality
        archiveOnSync:
          type: boolean
          description: Enable or disable archiving after each sync
    UpdateRepositoryBindingResponse:
      description: Response containing the updated binding configuration
      type: object
      additionalProperties: false
      required:
      - binding
      properties:
        binding:
          $ref: '#/components/schemas/RepositoryBindingInfo'
          description: Updated binding configuration
    CreateArchiveRequest:
      description: Request to create a point-in-time snapshot of namespace documentation
      type: object
      additionalProperties: false
      required:
      - namespace
      - owner
      properties:
        owner:
          type: string
          description: |
            Owner of this archive. NOT a session ID.
            For user-initiated archives: the accountId (UUID format).
            For service-initiated archives: the service name (e.g., "orchestrator").
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to archive
        description:
          type: string
          maxLength: 500
          description: Optional description for the archive
    CreateArchiveResponse:
      description: Response containing the created archive details
      type: object
      additionalProperties: false
      required:
      - archiveId
      - namespace
      properties:
        archiveId:
          type: string
          format: uuid
          description: Unique identifier of the created archive
        namespace:
          type: string
          description: Namespace that was archived
        bundleAssetId:
          type: string
          format: uuid
          description: Asset ID in Asset Service
        documentCount:
          type: integer
          description: Number of documents in the archive
        sizeBytes:
          type: integer
          description: Total size of the archive in bytes
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the archive was created
        commitHash:
          type: string
          nullable: true
          description: Git commit hash if namespace is bound
    ListArchivesRequest:
      description: Request to list available archives for a namespace
      type: object
      additionalProperties: false
      required:
      - namespace
      properties:
        namespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: Documentation namespace to list archives for
        limit:
          type: integer
          default: 20
          minimum: 1
          maximum: 100
          description: Maximum number of archives to return
        offset:
          type: integer
          default: 0
          minimum: 0
          description: Number of archives to skip
    ListArchivesResponse:
      description: Response containing a paginated list of archives
      type: object
      additionalProperties: false
      required:
      - archives
      - total
      properties:
        archives:
          type: array
          items:
            $ref: '#/components/schemas/ArchiveInfo'
          description: List of archives for the namespace
        total:
          type: integer
          description: Total number of archives
    ArchiveInfo:
      description: Archive metadata including size and document count
      type: object
      additionalProperties: false
      required:
      - archiveId
      - namespace
      - createdAt
      properties:
        archiveId:
          type: string
          format: uuid
          description: Unique identifier of the archive
        namespace:
          type: string
          description: Namespace the archive belongs to
        bundleAssetId:
          type: string
          format: uuid
          description: Asset ID in Asset Service
        description:
          type: string
          nullable: true
          description: Description of the archive
        documentCount:
          type: integer
          description: Number of documents in the archive
        sizeBytes:
          type: integer
          description: Total size of the archive in bytes
        commitHash:
          type: string
          nullable: true
          description: Git commit hash if namespace was bound at archive time
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the archive was created
        owner:
          type: string
          description: |
            Owner of this archive. NOT a session ID.
            Contains either an accountId (UUID format) for user-initiated archives
            or a service name for service-initiated archives.
    RestoreArchiveRequest:
      description: Request to restore documents from an archive
      type: object
      additionalProperties: false
      required:
      - archiveId
      properties:
        archiveId:
          type: string
          format: uuid
          description: Unique identifier of the archive to restore
        targetNamespace:
          type: string
          pattern: '^[a-z0-9-]+$'
          maxLength: 50
          description: If not provided, restores to original namespace
    RestoreArchiveResponse:
      description: Response containing restore operation results
      type: object
      additionalProperties: false
      required:
      - namespace
      - documentsRestored
      properties:
        namespace:
          type: string
          description: Namespace documents were restored to
        documentsRestored:
          type: integer
          description: Number of documents restored from archive
        previousDocumentsDeleted:
          type: integer
          description: Number of existing documents deleted before restore
    DeleteArchiveRequest:
      description: Request to permanently delete an archive
      type: object
      additionalProperties: false
      required:
      - archiveId
      properties:
        archiveId:
          type: string
          format: uuid
          description: Unique identifier of the archive to delete
    DeleteArchiveResponse:
      description: Response confirming archive deletion
      type: object
      additionalProperties: false
      required:
      - deleted
      properties:
        deleted:
          type: boolean
          description: Whether the archive was successfully deleted
