openapi: 3.0.0
info:
  title: Bannou Achievement Service API
  description: |
    Achievement and trophy system with progress tracking and platform synchronization.

    **POST-Only API Pattern**: This API uses POST for all operations to support zero-copy
    WebSocket routing. Path parameters are passed in request bodies instead of URLs.
    See docs/BANNOU_DESIGN.md for architectural rationale.

    **Polymorphic Entity Model**: Achievements can be earned by accounts, characters,
    guilds, or actors using `entityId + entityType`.

    **Platform Sync**: Supports synchronization with Steam, Xbox, and PlayStation
    achievement systems. Platform-specific achievement IDs are mapped via association tables.

    **SCHEMA MODIFICATION GATE**: STOP. Before modifying this schema, you MUST:
    1. Read docs/reference/SCHEMA-RULES.md
    2. State which section applies to your change
    3. Only then proceed with edits
    Edits without stating the applicable rule are FORBIDDEN.
  version: 1.0.0
servers:
- url: http://localhost:5012
  description: Bannou service endpoint (internal only)
paths:
  /achievement/definition/create:
    post:
      summary: Create a new achievement definition
      description: |
        Create a new achievement with specified criteria and platform mappings.
        Developer-only endpoint.
      operationId: createAchievementDefinition
      tags:
      - Definitions
      x-permissions:
      - role: developer
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAchievementDefinitionRequest'
      responses:
        '200':
          description: Achievement created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AchievementDefinitionResponse'
        '409':
          description: Achievement with this ID already exists
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/CreateAchievementDefinitionRequest\"\
        ,\n    \"$defs\": {\n        \"CreateAchievementDefinitionRequest\": {\n            \"type\": \"object\",\n      \
        \      \"description\": \"Request to create a new achievement\",\n            \"additionalProperties\": false,\n \
        \           \"required\": [\n                \"gameServiceId\",\n                \"achievementId\",\n            \
        \    \"displayName\",\n                \"description\"\n            ],\n            \"properties\": {\n          \
        \      \"gameServiceId\": {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n\
        \                    \"description\": \"ID of the game service owning this achievement\"\n                },\n   \
        \             \"achievementId\": {\n                    \"type\": \"string\",\n                    \"maxLength\":
        64,\n                    \"pattern\": \"^[a-z0-9_-]+$\",\n                    \"description\": \"Unique identifier
        for this achievement (lowercase, no spaces)\"\n                },\n                \"displayName\": {\n          \
        \          \"type\": \"string\",\n                    \"maxLength\": 100,\n                    \"description\": \"\
        Human-readable name\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\
        ,\n                    \"maxLength\": 500,\n                    \"description\": \"Description of how to earn this
        achievement\"\n                },\n                \"hiddenDescription\": {\n                    \"type\": \"string\"\
        ,\n                    \"maxLength\": 500,\n                    \"nullable\": true,\n                    \"description\"\
        : \"Description shown before achievement is earned (for hidden types)\"\n                },\n                \"achievementType\"\
        : {\n                    \"$ref\": \"#/$defs/AchievementType\",\n                    \"default\": \"standard\",\n\
        \                    \"description\": \"Classification of the achievement (affects visibility and progress behavior)\"\
        \n                },\n                \"entityTypes\": {\n                    \"type\": \"array\",\n             \
        \       \"items\": {\n                        \"type\": \"object\"\n                    },\n                    \"\
        description\": \"Which entity types can earn this achievement\"\n                },\n                \"progressTarget\"\
        : {\n                    \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Target value for progressive achievements\"\n                },\n                \"points\": {\n             \
        \       \"type\": \"integer\",\n                    \"default\": 10,\n                    \"description\": \"Point
        value of this achievement\"\n                },\n                \"iconUrl\": {\n                    \"type\": \"\
        string\",\n                    \"nullable\": true,\n                    \"description\": \"URL to achievement icon\"\
        \n                },\n                \"platforms\": {\n                    \"type\": \"array\",\n               \
        \     \"items\": {\n                        \"$ref\": \"#/$defs/Platform\"\n                    },\n             \
        \       \"description\": \"Platforms where this achievement exists\"\n                },\n                \"platformIds\"\
        : {\n                    \"type\": \"object\",\n                    \"additionalProperties\": {\n                \
        \        \"type\": \"string\"\n                    },\n                    \"nullable\": true,\n                 \
        \   \"description\": \"Platform-specific achievement IDs (e.g., {\\\"steam\\\": \\\"ACH_001\\\"})\"\n            \
        \    },\n                \"prerequisites\": {\n                    \"type\": \"array\",\n                    \"items\"\
        : {\n                        \"type\": \"string\"\n                    },\n                    \"nullable\": true,\n\
        \                    \"description\": \"Achievement IDs that must be unlocked first\"\n                },\n      \
        \          \"isActive\": {\n                    \"type\": \"boolean\",\n                    \"default\": true,\n \
        \                   \"description\": \"Whether this achievement can be earned\"\n                },\n            \
        \    \"metadata\": {\n                    \"type\": \"object\",\n                    \"additionalProperties\": true,\n\
        \                    \"nullable\": true,\n                    \"description\": \"Additional achievement-specific metadata\"\
        \n                }\n            }\n        },\n        \"AchievementType\": {\n            \"type\": \"string\",\n\
        \            \"description\": \"Type of achievement\",\n            \"enum\": [\n                \"standard\",\n \
        \               \"progressive\",\n                \"hidden\",\n                \"secret\"\n            ]\n       \
        \ },\n        \"Platform\": {\n            \"type\": \"string\",\n            \"description\": \"External platform
        for achievement sync\",\n            \"enum\": [\n                \"steam\",\n                \"xbox\",\n        \
        \        \"playstation\",\n                \"internal\"\n            ]\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/AchievementDefinitionResponse\"\
        ,\n    \"$defs\": {\n        \"AchievementDefinitionResponse\": {\n            \"type\": \"object\",\n           \
        \ \"description\": \"Achievement definition details\",\n            \"additionalProperties\": false,\n           \
        \ \"required\": [\n                \"gameServiceId\",\n                \"achievementId\",\n                \"displayName\"\
        ,\n                \"description\",\n                \"achievementType\",\n                \"points\",\n         \
        \       \"isActive\",\n                \"createdAt\"\n            ],\n            \"properties\": {\n            \
        \    \"gameServiceId\": {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n\
        \                    \"description\": \"ID of the owning game service\"\n                },\n                \"achievementId\"\
        : {\n                    \"type\": \"string\",\n                    \"description\": \"Unique identifier\"\n     \
        \           },\n                \"displayName\": {\n                    \"type\": \"string\",\n                  \
        \  \"description\": \"Human-readable name\"\n                },\n                \"description\": {\n            \
        \        \"type\": \"string\",\n                    \"description\": \"How to earn this achievement\"\n          \
        \      },\n                \"hiddenDescription\": {\n                    \"type\": \"string\",\n                 \
        \   \"nullable\": true,\n                    \"description\": \"Description for hidden achievements\"\n          \
        \      },\n                \"achievementType\": {\n                    \"$ref\": \"#/$defs/AchievementType\",\n  \
        \                  \"description\": \"Classification of the achievement\"\n                },\n                \"\
        entityTypes\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                   \
        \     \"type\": \"object\"\n                    },\n                    \"description\": \"Allowed entity types\"\n\
        \                },\n                \"progressTarget\": {\n                    \"type\": \"integer\",\n         \
        \           \"nullable\": true,\n                    \"description\": \"Target for progressive achievements\"\n  \
        \              },\n                \"points\": {\n                    \"type\": \"integer\",\n                   \
        \ \"description\": \"Point value\"\n                },\n                \"iconUrl\": {\n                    \"type\"\
        : \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Achievement icon URL\"\
        \n                },\n                \"platforms\": {\n                    \"type\": \"array\",\n               \
        \     \"items\": {\n                        \"$ref\": \"#/$defs/Platform\"\n                    },\n             \
        \       \"description\": \"Available platforms\"\n                },\n                \"platformIds\": {\n       \
        \             \"type\": \"object\",\n                    \"additionalProperties\": {\n                        \"type\"\
        : \"string\"\n                    },\n                    \"nullable\": true,\n                    \"description\"\
        : \"Platform-specific IDs\"\n                },\n                \"prerequisites\": {\n                    \"type\"\
        : \"array\",\n                    \"items\": {\n                        \"type\": \"string\"\n                   \
        \ },\n                    \"nullable\": true,\n                    \"description\": \"Required achievements\"\n  \
        \              },\n                \"isActive\": {\n                    \"type\": \"boolean\",\n                 \
        \   \"description\": \"Whether achievement is earnable\"\n                },\n                \"earnedCount\": {\n\
        \                    \"type\": \"integer\",\n                    \"format\": \"int64\",\n                    \"description\"\
        : \"How many entities have earned this\"\n                },\n                \"createdAt\": {\n                 \
        \   \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"description\": \"\
        When the achievement was created\"\n                },\n                \"metadata\": {\n                    \"type\"\
        : \"object\",\n                    \"additionalProperties\": true,\n                    \"nullable\": true,\n    \
        \                \"description\": \"Additional metadata\"\n                }\n            }\n        },\n        \"\
        AchievementType\": {\n            \"type\": \"string\",\n            \"description\": \"Type of achievement\",\n \
        \           \"enum\": [\n                \"standard\",\n                \"progressive\",\n                \"hidden\"\
        ,\n                \"secret\"\n            ]\n        },\n        \"Platform\": {\n            \"type\": \"string\"\
        ,\n            \"description\": \"External platform for achievement sync\",\n            \"enum\": [\n           \
        \     \"steam\",\n                \"xbox\",\n                \"playstation\",\n                \"internal\"\n    \
        \        ]\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Create a new achievement definition\",\n    \"description\": \"Create a
        new achievement with specified criteria and platform mappings.\\nDeveloper-only endpoint.\\n\",\n    \"tags\": [\n\
        \        \"Definitions\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"createAchievementDefinition\"\
        \n}"
  /achievement/definition/get:
    post:
      summary: Get achievement definition
      description: Retrieve details about a specific achievement.
      operationId: getAchievementDefinition
      tags:
      - Definitions
      x-permissions: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetAchievementDefinitionRequest'
      responses:
        '200':
          description: Achievement definition retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AchievementDefinitionResponse'
        '404':
          description: Achievement not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/GetAchievementDefinitionRequest\"\
        ,\n    \"$defs\": {\n        \"GetAchievementDefinitionRequest\": {\n            \"type\": \"object\",\n         \
        \   \"description\": \"Request to get an achievement definition\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"gameServiceId\",\n                \"achievementId\"\n            ],\n\
        \            \"properties\": {\n                \"gameServiceId\": {\n                    \"type\": \"string\",\n\
        \                    \"format\": \"uuid\",\n                    \"description\": \"ID of the game service\"\n    \
        \            },\n                \"achievementId\": {\n                    \"type\": \"string\",\n               \
        \     \"description\": \"ID of the achievement\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/AchievementDefinitionResponse\"\
        ,\n    \"$defs\": {\n        \"AchievementDefinitionResponse\": {\n            \"type\": \"object\",\n           \
        \ \"description\": \"Achievement definition details\",\n            \"additionalProperties\": false,\n           \
        \ \"required\": [\n                \"gameServiceId\",\n                \"achievementId\",\n                \"displayName\"\
        ,\n                \"description\",\n                \"achievementType\",\n                \"points\",\n         \
        \       \"isActive\",\n                \"createdAt\"\n            ],\n            \"properties\": {\n            \
        \    \"gameServiceId\": {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n\
        \                    \"description\": \"ID of the owning game service\"\n                },\n                \"achievementId\"\
        : {\n                    \"type\": \"string\",\n                    \"description\": \"Unique identifier\"\n     \
        \           },\n                \"displayName\": {\n                    \"type\": \"string\",\n                  \
        \  \"description\": \"Human-readable name\"\n                },\n                \"description\": {\n            \
        \        \"type\": \"string\",\n                    \"description\": \"How to earn this achievement\"\n          \
        \      },\n                \"hiddenDescription\": {\n                    \"type\": \"string\",\n                 \
        \   \"nullable\": true,\n                    \"description\": \"Description for hidden achievements\"\n          \
        \      },\n                \"achievementType\": {\n                    \"$ref\": \"#/$defs/AchievementType\",\n  \
        \                  \"description\": \"Classification of the achievement\"\n                },\n                \"\
        entityTypes\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                   \
        \     \"type\": \"object\"\n                    },\n                    \"description\": \"Allowed entity types\"\n\
        \                },\n                \"progressTarget\": {\n                    \"type\": \"integer\",\n         \
        \           \"nullable\": true,\n                    \"description\": \"Target for progressive achievements\"\n  \
        \              },\n                \"points\": {\n                    \"type\": \"integer\",\n                   \
        \ \"description\": \"Point value\"\n                },\n                \"iconUrl\": {\n                    \"type\"\
        : \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Achievement icon URL\"\
        \n                },\n                \"platforms\": {\n                    \"type\": \"array\",\n               \
        \     \"items\": {\n                        \"$ref\": \"#/$defs/Platform\"\n                    },\n             \
        \       \"description\": \"Available platforms\"\n                },\n                \"platformIds\": {\n       \
        \             \"type\": \"object\",\n                    \"additionalProperties\": {\n                        \"type\"\
        : \"string\"\n                    },\n                    \"nullable\": true,\n                    \"description\"\
        : \"Platform-specific IDs\"\n                },\n                \"prerequisites\": {\n                    \"type\"\
        : \"array\",\n                    \"items\": {\n                        \"type\": \"string\"\n                   \
        \ },\n                    \"nullable\": true,\n                    \"description\": \"Required achievements\"\n  \
        \              },\n                \"isActive\": {\n                    \"type\": \"boolean\",\n                 \
        \   \"description\": \"Whether achievement is earnable\"\n                },\n                \"earnedCount\": {\n\
        \                    \"type\": \"integer\",\n                    \"format\": \"int64\",\n                    \"description\"\
        : \"How many entities have earned this\"\n                },\n                \"createdAt\": {\n                 \
        \   \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"description\": \"\
        When the achievement was created\"\n                },\n                \"metadata\": {\n                    \"type\"\
        : \"object\",\n                    \"additionalProperties\": true,\n                    \"nullable\": true,\n    \
        \                \"description\": \"Additional metadata\"\n                }\n            }\n        },\n        \"\
        AchievementType\": {\n            \"type\": \"string\",\n            \"description\": \"Type of achievement\",\n \
        \           \"enum\": [\n                \"standard\",\n                \"progressive\",\n                \"hidden\"\
        ,\n                \"secret\"\n            ]\n        },\n        \"Platform\": {\n            \"type\": \"string\"\
        ,\n            \"description\": \"External platform for achievement sync\",\n            \"enum\": [\n           \
        \     \"steam\",\n                \"xbox\",\n                \"playstation\",\n                \"internal\"\n    \
        \        ]\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Get achievement definition\",\n    \"description\": \"Retrieve details
        about a specific achievement.\",\n    \"tags\": [\n        \"Definitions\"\n    ],\n    \"deprecated\": false,\n \
        \   \"operationId\": \"getAchievementDefinition\"\n}"
  /achievement/definition/list:
    post:
      summary: List achievement definitions
      description: List achievements for a game service with optional platform filtering.
      operationId: listAchievementDefinitions
      tags:
      - Definitions
      x-permissions:
      - role: user
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ListAchievementDefinitionsRequest'
      responses:
        '200':
          description: Achievement definitions retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListAchievementDefinitionsResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListAchievementDefinitionsRequest\"\
        ,\n    \"$defs\": {\n        \"ListAchievementDefinitionsRequest\": {\n            \"type\": \"object\",\n       \
        \     \"description\": \"Request to list achievement definitions\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"gameServiceId\"\n            ],\n            \"properties\": {\n \
        \               \"gameServiceId\": {\n                    \"type\": \"string\",\n                    \"format\": \"\
        uuid\",\n                    \"description\": \"ID of the game service\"\n                },\n                \"platform\"\
        : {\n                    \"$ref\": \"#/$defs/Platform\",\n                    \"nullable\": true,\n              \
        \      \"description\": \"Filter by platform\"\n                },\n                \"achievementType\": {\n     \
        \               \"$ref\": \"#/$defs/AchievementType\",\n                    \"nullable\": true,\n                \
        \    \"description\": \"Filter by achievement classification\"\n                },\n                \"isActive\":
        {\n                    \"type\": \"boolean\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Filter by active status\"\n                },\n                \"includeHidden\": {\n                    \"type\"\
        : \"boolean\",\n                    \"default\": false,\n                    \"description\": \"Include hidden achievements
        in response\"\n                }\n            }\n        },\n        \"Platform\": {\n            \"type\": \"string\"\
        ,\n            \"description\": \"External platform for achievement sync\",\n            \"enum\": [\n           \
        \     \"steam\",\n                \"xbox\",\n                \"playstation\",\n                \"internal\"\n    \
        \        ]\n        },\n        \"AchievementType\": {\n            \"type\": \"string\",\n            \"description\"\
        : \"Type of achievement\",\n            \"enum\": [\n                \"standard\",\n                \"progressive\"\
        ,\n                \"hidden\",\n                \"secret\"\n            ]\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListAchievementDefinitionsResponse\"\
        ,\n    \"$defs\": {\n        \"ListAchievementDefinitionsResponse\": {\n            \"type\": \"object\",\n      \
        \      \"description\": \"Response containing achievement definitions\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"achievements\"\n            ],\n            \"properties\": {\n  \
        \              \"achievements\": {\n                    \"type\": \"array\",\n                    \"items\": {\n \
        \                       \"$ref\": \"#/$defs/AchievementDefinitionResponse\"\n                    },\n            \
        \        \"description\": \"List of achievement definitions\"\n                }\n            }\n        },\n    \
        \    \"AchievementDefinitionResponse\": {\n            \"type\": \"object\",\n            \"description\": \"Achievement
        definition details\",\n            \"additionalProperties\": false,\n            \"required\": [\n               \
        \ \"gameServiceId\",\n                \"achievementId\",\n                \"displayName\",\n                \"description\"\
        ,\n                \"achievementType\",\n                \"points\",\n                \"isActive\",\n            \
        \    \"createdAt\"\n            ],\n            \"properties\": {\n                \"gameServiceId\": {\n        \
        \            \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\"\
        : \"ID of the owning game service\"\n                },\n                \"achievementId\": {\n                  \
        \  \"type\": \"string\",\n                    \"description\": \"Unique identifier\"\n                },\n       \
        \         \"displayName\": {\n                    \"type\": \"string\",\n                    \"description\": \"Human-readable
        name\"\n                },\n                \"description\": {\n                    \"type\": \"string\",\n      \
        \              \"description\": \"How to earn this achievement\"\n                },\n                \"hiddenDescription\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Description for hidden achievements\"\n                },\n                \"achievementType\": {\n          \
        \          \"$ref\": \"#/$defs/AchievementType\",\n                    \"description\": \"Classification of the achievement\"\
        \n                },\n                \"entityTypes\": {\n                    \"type\": \"array\",\n             \
        \       \"items\": {\n                        \"type\": \"object\"\n                    },\n                    \"\
        description\": \"Allowed entity types\"\n                },\n                \"progressTarget\": {\n             \
        \       \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"Target
        for progressive achievements\"\n                },\n                \"points\": {\n                    \"type\": \"\
        integer\",\n                    \"description\": \"Point value\"\n                },\n                \"iconUrl\"\
        : {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Achievement icon URL\"\n                },\n                \"platforms\": {\n                    \"type\": \"\
        array\",\n                    \"items\": {\n                        \"$ref\": \"#/$defs/Platform\"\n             \
        \       },\n                    \"description\": \"Available platforms\"\n                },\n                \"platformIds\"\
        : {\n                    \"type\": \"object\",\n                    \"additionalProperties\": {\n                \
        \        \"type\": \"string\"\n                    },\n                    \"nullable\": true,\n                 \
        \   \"description\": \"Platform-specific IDs\"\n                },\n                \"prerequisites\": {\n       \
        \             \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\"\
        \n                    },\n                    \"nullable\": true,\n                    \"description\": \"Required
        achievements\"\n                },\n                \"isActive\": {\n                    \"type\": \"boolean\",\n\
        \                    \"description\": \"Whether achievement is earnable\"\n                },\n                \"\
        earnedCount\": {\n                    \"type\": \"integer\",\n                    \"format\": \"int64\",\n       \
        \             \"description\": \"How many entities have earned this\"\n                },\n                \"createdAt\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\",\n                 \
        \   \"description\": \"When the achievement was created\"\n                },\n                \"metadata\": {\n \
        \                   \"type\": \"object\",\n                    \"additionalProperties\": true,\n                 \
        \   \"nullable\": true,\n                    \"description\": \"Additional metadata\"\n                }\n       \
        \     }\n        },\n        \"AchievementType\": {\n            \"type\": \"string\",\n            \"description\"\
        : \"Type of achievement\",\n            \"enum\": [\n                \"standard\",\n                \"progressive\"\
        ,\n                \"hidden\",\n                \"secret\"\n            ]\n        },\n        \"Platform\": {\n \
        \           \"type\": \"string\",\n            \"description\": \"External platform for achievement sync\",\n    \
        \        \"enum\": [\n                \"steam\",\n                \"xbox\",\n                \"playstation\",\n  \
        \              \"internal\"\n            ]\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"List achievement definitions\",\n    \"description\": \"List achievements
        for a game service with optional platform filtering.\",\n    \"tags\": [\n        \"Definitions\"\n    ],\n    \"\
        deprecated\": false,\n    \"operationId\": \"listAchievementDefinitions\"\n}"
  /achievement/definition/update:
    post:
      summary: Update achievement definition
      description: |
        Update properties of an existing achievement.
        Developer-only endpoint.
      operationId: updateAchievementDefinition
      tags:
      - Definitions
      x-permissions:
      - role: developer
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAchievementDefinitionRequest'
      responses:
        '200':
          description: Achievement updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AchievementDefinitionResponse'
        '404':
          description: Achievement not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/UpdateAchievementDefinitionRequest\"\
        ,\n    \"$defs\": {\n        \"UpdateAchievementDefinitionRequest\": {\n            \"type\": \"object\",\n      \
        \      \"description\": \"Request to update an achievement definition\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"gameServiceId\",\n                \"achievementId\"\n            ],\n\
        \            \"properties\": {\n                \"gameServiceId\": {\n                    \"type\": \"string\",\n\
        \                    \"format\": \"uuid\",\n                    \"description\": \"ID of the game service\"\n    \
        \            },\n                \"achievementId\": {\n                    \"type\": \"string\",\n               \
        \     \"description\": \"ID of the achievement to update\"\n                },\n                \"displayName\": {\n\
        \                    \"type\": \"string\",\n                    \"maxLength\": 100,\n                    \"nullable\"\
        : true,\n                    \"description\": \"New display name\"\n                },\n                \"description\"\
        : {\n                    \"type\": \"string\",\n                    \"maxLength\": 500,\n                    \"nullable\"\
        : true,\n                    \"description\": \"New description\"\n                },\n                \"isActive\"\
        : {\n                    \"type\": \"boolean\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"New active status\"\n                },\n                \"platformIds\": {\n                    \"type\": \"\
        object\",\n                    \"additionalProperties\": {\n                        \"type\": \"string\"\n       \
        \             },\n                    \"nullable\": true,\n                    \"description\": \"Updated platform
        ID mappings\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/AchievementDefinitionResponse\"\
        ,\n    \"$defs\": {\n        \"AchievementDefinitionResponse\": {\n            \"type\": \"object\",\n           \
        \ \"description\": \"Achievement definition details\",\n            \"additionalProperties\": false,\n           \
        \ \"required\": [\n                \"gameServiceId\",\n                \"achievementId\",\n                \"displayName\"\
        ,\n                \"description\",\n                \"achievementType\",\n                \"points\",\n         \
        \       \"isActive\",\n                \"createdAt\"\n            ],\n            \"properties\": {\n            \
        \    \"gameServiceId\": {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n\
        \                    \"description\": \"ID of the owning game service\"\n                },\n                \"achievementId\"\
        : {\n                    \"type\": \"string\",\n                    \"description\": \"Unique identifier\"\n     \
        \           },\n                \"displayName\": {\n                    \"type\": \"string\",\n                  \
        \  \"description\": \"Human-readable name\"\n                },\n                \"description\": {\n            \
        \        \"type\": \"string\",\n                    \"description\": \"How to earn this achievement\"\n          \
        \      },\n                \"hiddenDescription\": {\n                    \"type\": \"string\",\n                 \
        \   \"nullable\": true,\n                    \"description\": \"Description for hidden achievements\"\n          \
        \      },\n                \"achievementType\": {\n                    \"$ref\": \"#/$defs/AchievementType\",\n  \
        \                  \"description\": \"Classification of the achievement\"\n                },\n                \"\
        entityTypes\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                   \
        \     \"type\": \"object\"\n                    },\n                    \"description\": \"Allowed entity types\"\n\
        \                },\n                \"progressTarget\": {\n                    \"type\": \"integer\",\n         \
        \           \"nullable\": true,\n                    \"description\": \"Target for progressive achievements\"\n  \
        \              },\n                \"points\": {\n                    \"type\": \"integer\",\n                   \
        \ \"description\": \"Point value\"\n                },\n                \"iconUrl\": {\n                    \"type\"\
        : \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Achievement icon URL\"\
        \n                },\n                \"platforms\": {\n                    \"type\": \"array\",\n               \
        \     \"items\": {\n                        \"$ref\": \"#/$defs/Platform\"\n                    },\n             \
        \       \"description\": \"Available platforms\"\n                },\n                \"platformIds\": {\n       \
        \             \"type\": \"object\",\n                    \"additionalProperties\": {\n                        \"type\"\
        : \"string\"\n                    },\n                    \"nullable\": true,\n                    \"description\"\
        : \"Platform-specific IDs\"\n                },\n                \"prerequisites\": {\n                    \"type\"\
        : \"array\",\n                    \"items\": {\n                        \"type\": \"string\"\n                   \
        \ },\n                    \"nullable\": true,\n                    \"description\": \"Required achievements\"\n  \
        \              },\n                \"isActive\": {\n                    \"type\": \"boolean\",\n                 \
        \   \"description\": \"Whether achievement is earnable\"\n                },\n                \"earnedCount\": {\n\
        \                    \"type\": \"integer\",\n                    \"format\": \"int64\",\n                    \"description\"\
        : \"How many entities have earned this\"\n                },\n                \"createdAt\": {\n                 \
        \   \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"description\": \"\
        When the achievement was created\"\n                },\n                \"metadata\": {\n                    \"type\"\
        : \"object\",\n                    \"additionalProperties\": true,\n                    \"nullable\": true,\n    \
        \                \"description\": \"Additional metadata\"\n                }\n            }\n        },\n        \"\
        AchievementType\": {\n            \"type\": \"string\",\n            \"description\": \"Type of achievement\",\n \
        \           \"enum\": [\n                \"standard\",\n                \"progressive\",\n                \"hidden\"\
        ,\n                \"secret\"\n            ]\n        },\n        \"Platform\": {\n            \"type\": \"string\"\
        ,\n            \"description\": \"External platform for achievement sync\",\n            \"enum\": [\n           \
        \     \"steam\",\n                \"xbox\",\n                \"playstation\",\n                \"internal\"\n    \
        \        ]\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Update achievement definition\",\n    \"description\": \"Update properties
        of an existing achievement.\\nDeveloper-only endpoint.\\n\",\n    \"tags\": [\n        \"Definitions\"\n    ],\n \
        \   \"deprecated\": false,\n    \"operationId\": \"updateAchievementDefinition\"\n}"
  /achievement/definition/delete:
    post:
      summary: Delete achievement definition
      description: |
        Delete an achievement. Earned instances are preserved in history.
        Developer-only endpoint.
      operationId: deleteAchievementDefinition
      tags:
      - Definitions
      x-permissions:
      - role: developer
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteAchievementDefinitionRequest'
      responses:
        '200':
          description: Achievement deleted successfully
        '404':
          description: Achievement not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/DeleteAchievementDefinitionRequest\"\
        ,\n    \"$defs\": {\n        \"DeleteAchievementDefinitionRequest\": {\n            \"type\": \"object\",\n      \
        \      \"description\": \"Request to delete an achievement\",\n            \"additionalProperties\": false,\n    \
        \        \"required\": [\n                \"gameServiceId\",\n                \"achievementId\"\n            ],\n\
        \            \"properties\": {\n                \"gameServiceId\": {\n                    \"type\": \"string\",\n\
        \                    \"format\": \"uuid\",\n                    \"description\": \"ID of the game service\"\n    \
        \            },\n                \"achievementId\": {\n                    \"type\": \"string\",\n               \
        \     \"description\": \"ID of the achievement to delete\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: '{}'
      x-endpoint-info-json: "{\n    \"summary\": \"Delete achievement definition\",\n    \"description\": \"Delete an achievement.
        Earned instances are preserved in history.\\nDeveloper-only endpoint.\\n\",\n    \"tags\": [\n        \"Definitions\"\
        \n    ],\n    \"deprecated\": false,\n    \"operationId\": \"deleteAchievementDefinition\"\n}"
  /achievement/progress/get:
    post:
      summary: Get entity's achievement progress
      description: Get progress for an entity across all achievements or a specific one.
      operationId: getAchievementProgress
      tags:
      - Progress
      x-permissions:
      - role: user
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetAchievementProgressRequest'
      responses:
        '200':
          description: Progress retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AchievementProgressResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/GetAchievementProgressRequest\"\
        ,\n    \"$defs\": {\n        \"GetAchievementProgressRequest\": {\n            \"type\": \"object\",\n           \
        \ \"description\": \"Request to get achievement progress\",\n            \"additionalProperties\": false,\n      \
        \      \"required\": [\n                \"gameServiceId\",\n                \"entityId\",\n                \"entityType\"\
        \n            ],\n            \"properties\": {\n                \"gameServiceId\": {\n                    \"type\"\
        : \"string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"ID of the game service\"\
        \n                },\n                \"entityId\": {\n                    \"type\": \"string\",\n               \
        \     \"format\": \"uuid\",\n                    \"description\": \"ID of the entity\"\n                },\n     \
        \           \"entityType\": {\n                    \"type\": \"object\",\n                    \"description\": \"\
        Entity type whose progress is requested\"\n                },\n                \"achievementId\": {\n            \
        \        \"type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Specific
        achievement ID (null for all)\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/AchievementProgressResponse\"\
        ,\n    \"$defs\": {\n        \"AchievementProgressResponse\": {\n            \"type\": \"object\",\n            \"\
        description\": \"Achievement progress for an entity\",\n            \"additionalProperties\": false,\n           \
        \ \"required\": [\n                \"entityId\",\n                \"entityType\",\n                \"progress\"\n\
        \            ],\n            \"properties\": {\n                \"entityId\": {\n                    \"type\": \"\
        string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"ID of the entity\"\n\
        \                },\n                \"entityType\": {\n                    \"type\": \"object\",\n              \
        \      \"description\": \"Entity type that owns this progress summary\"\n                },\n                \"progress\"\
        : {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"$ref\"\
        : \"#/$defs/AchievementProgress\"\n                    },\n                    \"description\": \"Progress for each
        achievement\"\n                },\n                \"totalPoints\": {\n                    \"type\": \"integer\",\n\
        \                    \"description\": \"Total points from unlocked achievements\"\n                },\n          \
        \      \"unlockedCount\": {\n                    \"type\": \"integer\",\n                    \"description\": \"Number
        of unlocked achievements\"\n                }\n            }\n        },\n        \"AchievementProgress\": {\n   \
        \         \"type\": \"object\",\n            \"description\": \"Progress toward a single achievement\",\n        \
        \    \"additionalProperties\": false,\n            \"required\": [\n                \"achievementId\",\n         \
        \       \"isUnlocked\"\n            ],\n            \"properties\": {\n                \"achievementId\": {\n    \
        \                \"type\": \"string\",\n                    \"description\": \"Achievement identifier\"\n        \
        \        },\n                \"displayName\": {\n                    \"type\": \"string\",\n                    \"\
        description\": \"Achievement display name\"\n                },\n                \"currentProgress\": {\n        \
        \            \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Current progress (for progressive)\"\n                },\n                \"targetProgress\": {\n            \
        \        \"type\": \"integer\",\n                    \"nullable\": true,\n                    \"description\": \"\
        Target progress (for progressive)\"\n                },\n                \"percentComplete\": {\n                \
        \    \"type\": \"number\",\n                    \"format\": \"double\",\n                    \"nullable\": true,\n\
        \                    \"description\": \"Completion percentage (0-100)\"\n                },\n                \"isUnlocked\"\
        : {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether achievement is unlocked\"\
        \n                },\n                \"unlockedAt\": {\n                    \"type\": \"string\",\n             \
        \       \"format\": \"date-time\",\n                    \"nullable\": true,\n                    \"description\":
        \"When achievement was unlocked\"\n                }\n            }\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Get entity's achievement progress\",\n    \"description\": \"Get progress
        for an entity across all achievements or a specific one.\",\n    \"tags\": [\n        \"Progress\"\n    ],\n    \"\
        deprecated\": false,\n    \"operationId\": \"getAchievementProgress\"\n}"
  /achievement/progress/update:
    post:
      summary: Update achievement progress
      description: |
        Increment progress toward an achievement. If target is reached, auto-unlocks.
        Service-only endpoint - called by game logic.
      operationId: updateAchievementProgress
      tags:
      - Progress
      x-permissions: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAchievementProgressRequest'
      responses:
        '200':
          description: Progress updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateAchievementProgressResponse'
        '404':
          description: Achievement not found
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/UpdateAchievementProgressRequest\"\
        ,\n    \"$defs\": {\n        \"UpdateAchievementProgressRequest\": {\n            \"type\": \"object\",\n        \
        \    \"description\": \"Request to update achievement progress\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"gameServiceId\",\n                \"achievementId\",\n           \
        \     \"entityId\",\n                \"entityType\",\n                \"increment\"\n            ],\n            \"\
        properties\": {\n                \"gameServiceId\": {\n                    \"type\": \"string\",\n               \
        \     \"format\": \"uuid\",\n                    \"description\": \"ID of the game service\"\n                },\n\
        \                \"achievementId\": {\n                    \"type\": \"string\",\n                    \"description\"\
        : \"ID of the achievement\"\n                },\n                \"entityId\": {\n                    \"type\": \"\
        string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"ID of the entity\"\n\
        \                },\n                \"entityType\": {\n                    \"type\": \"object\",\n              \
        \      \"description\": \"Entity type receiving the progress increment\"\n                },\n                \"increment\"\
        : {\n                    \"type\": \"integer\",\n                    \"minimum\": 1,\n                    \"description\"\
        : \"Amount to increment progress\"\n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/UpdateAchievementProgressResponse\"\
        ,\n    \"$defs\": {\n        \"UpdateAchievementProgressResponse\": {\n            \"type\": \"object\",\n       \
        \     \"description\": \"Response after updating progress\",\n            \"additionalProperties\": false,\n     \
        \       \"required\": [\n                \"achievementId\",\n                \"previousProgress\",\n             \
        \   \"newProgress\",\n                \"targetProgress\",\n                \"unlocked\"\n            ],\n        \
        \    \"properties\": {\n                \"achievementId\": {\n                    \"type\": \"string\",\n        \
        \            \"description\": \"Achievement identifier\"\n                },\n                \"previousProgress\"\
        : {\n                    \"type\": \"integer\",\n                    \"description\": \"Progress before update\"\n\
        \                },\n                \"newProgress\": {\n                    \"type\": \"integer\",\n            \
        \        \"description\": \"Progress after update\"\n                },\n                \"targetProgress\": {\n \
        \                   \"type\": \"integer\",\n                    \"description\": \"Target to unlock\"\n          \
        \      },\n                \"unlocked\": {\n                    \"type\": \"boolean\",\n                    \"description\"\
        : \"Whether this update unlocked the achievement\"\n                },\n                \"unlockedAt\": {\n      \
        \              \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"nullable\"\
        : true,\n                    \"description\": \"Unlock timestamp (if unlocked)\"\n                }\n            }\n\
        \        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Update achievement progress\",\n    \"description\": \"Increment progress
        toward an achievement. If target is reached, auto-unlocks.\\nService-only endpoint - called by game logic.\\n\",\n\
        \    \"tags\": [\n        \"Progress\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"updateAchievementProgress\"\
        \n}"
  /achievement/unlock:
    post:
      summary: Directly unlock an achievement
      description: |
        Immediately unlock an achievement without progress tracking.
        Service-only endpoint - used for non-progressive achievements.
      operationId: unlockAchievement
      tags:
      - Progress
      x-permissions: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UnlockAchievementRequest'
      responses:
        '200':
          description: Achievement unlocked successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnlockAchievementResponse'
        '404':
          description: Achievement not found
        '409':
          description: Achievement already unlocked
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/UnlockAchievementRequest\"\
        ,\n    \"$defs\": {\n        \"UnlockAchievementRequest\": {\n            \"type\": \"object\",\n            \"description\"\
        : \"Request to directly unlock an achievement\",\n            \"additionalProperties\": false,\n            \"required\"\
        : [\n                \"gameServiceId\",\n                \"achievementId\",\n                \"entityId\",\n     \
        \           \"entityType\"\n            ],\n            \"properties\": {\n                \"gameServiceId\": {\n\
        \                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\"\
        : \"ID of the game service\"\n                },\n                \"achievementId\": {\n                    \"type\"\
        : \"string\",\n                    \"description\": \"ID of the achievement to unlock\"\n                },\n    \
        \            \"entityId\": {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\"\
        ,\n                    \"description\": \"ID of the entity\"\n                },\n                \"entityType\":
        {\n                    \"type\": \"object\",\n                    \"description\": \"Entity type to unlock the achievement
        for\"\n                },\n                \"skipPlatformSync\": {\n                    \"type\": \"boolean\",\n \
        \                   \"default\": false,\n                    \"description\": \"Skip syncing to external platforms\"\
        \n                }\n            }\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/UnlockAchievementResponse\"\
        ,\n    \"$defs\": {\n        \"UnlockAchievementResponse\": {\n            \"type\": \"object\",\n            \"description\"\
        : \"Response after unlocking an achievement\",\n            \"additionalProperties\": false,\n            \"required\"\
        : [\n                \"achievementId\",\n                \"unlocked\",\n                \"unlockedAt\"\n         \
        \   ],\n            \"properties\": {\n                \"achievementId\": {\n                    \"type\": \"string\"\
        ,\n                    \"description\": \"Achievement identifier\"\n                },\n                \"unlocked\"\
        : {\n                    \"type\": \"boolean\",\n                    \"description\": \"Whether unlock was successful\"\
        \n                },\n                \"unlockedAt\": {\n                    \"type\": \"string\",\n             \
        \       \"format\": \"date-time\",\n                    \"description\": \"Unlock timestamp\"\n                },\n\
        \                \"platformSyncStatus\": {\n                    \"type\": \"object\",\n                    \"additionalProperties\"\
        : {\n                        \"$ref\": \"#/$defs/SyncStatus\"\n                    },\n                    \"nullable\"\
        : true,\n                    \"description\": \"Sync status by platform\"\n                }\n            }\n    \
        \    },\n        \"SyncStatus\": {\n            \"type\": \"string\",\n            \"description\": \"Status of platform
        synchronization\",\n            \"enum\": [\n                \"pending\",\n                \"synced\",\n         \
        \       \"failed\",\n                \"not_linked\"\n            ]\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Directly unlock an achievement\",\n    \"description\": \"Immediately unlock
        an achievement without progress tracking.\\nService-only endpoint - used for non-progressive achievements.\\n\",\n\
        \    \"tags\": [\n        \"Progress\"\n    ],\n    \"deprecated\": false,\n    \"operationId\": \"unlockAchievement\"\
        \n}"
  /achievement/list-unlocked:
    post:
      summary: List unlocked achievements
      description: Get all achievements unlocked by an entity.
      operationId: listUnlockedAchievements
      tags:
      - Progress
      x-permissions:
      - role: user
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ListUnlockedAchievementsRequest'
      responses:
        '200':
          description: Unlocked achievements retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListUnlockedAchievementsResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListUnlockedAchievementsRequest\"\
        ,\n    \"$defs\": {\n        \"ListUnlockedAchievementsRequest\": {\n            \"type\": \"object\",\n         \
        \   \"description\": \"Request to list unlocked achievements\",\n            \"additionalProperties\": false,\n  \
        \          \"required\": [\n                \"gameServiceId\",\n                \"entityId\",\n                \"\
        entityType\"\n            ],\n            \"properties\": {\n                \"gameServiceId\": {\n              \
        \      \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"ID
        of the game service\"\n                },\n                \"entityId\": {\n                    \"type\": \"string\"\
        ,\n                    \"format\": \"uuid\",\n                    \"description\": \"ID of the entity\"\n        \
        \        },\n                \"entityType\": {\n                    \"type\": \"object\",\n                    \"\
        description\": \"Entity type whose unlocked achievements are listed\"\n                },\n                \"platform\"\
        : {\n                    \"$ref\": \"#/$defs/Platform\",\n                    \"nullable\": true,\n              \
        \      \"description\": \"Filter by platform\"\n                }\n            }\n        },\n        \"Platform\"\
        : {\n            \"type\": \"string\",\n            \"description\": \"External platform for achievement sync\",\n\
        \            \"enum\": [\n                \"steam\",\n                \"xbox\",\n                \"playstation\",\n\
        \                \"internal\"\n            ]\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/ListUnlockedAchievementsResponse\"\
        ,\n    \"$defs\": {\n        \"ListUnlockedAchievementsResponse\": {\n            \"type\": \"object\",\n        \
        \    \"description\": \"Response containing unlocked achievements\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"entityId\",\n                \"entityType\",\n                \"achievements\"\
        ,\n                \"totalPoints\"\n            ],\n            \"properties\": {\n                \"entityId\": {\n\
        \                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"description\"\
        : \"ID of the entity\"\n                },\n                \"entityType\": {\n                    \"type\": \"object\"\
        ,\n                    \"description\": \"Entity type for the returned unlocked achievements\"\n                },\n\
        \                \"achievements\": {\n                    \"type\": \"array\",\n                    \"items\": {\n\
        \                        \"$ref\": \"#/$defs/UnlockedAchievement\"\n                    },\n                    \"\
        description\": \"List of unlocked achievements\"\n                },\n                \"totalPoints\": {\n       \
        \             \"type\": \"integer\",\n                    \"description\": \"Total points earned\"\n             \
        \   }\n            }\n        },\n        \"UnlockedAchievement\": {\n            \"type\": \"object\",\n        \
        \    \"description\": \"An unlocked achievement instance\",\n            \"additionalProperties\": false,\n      \
        \      \"required\": [\n                \"achievementId\",\n                \"displayName\",\n                \"points\"\
        ,\n                \"unlockedAt\"\n            ],\n            \"properties\": {\n                \"achievementId\"\
        : {\n                    \"type\": \"string\",\n                    \"description\": \"Achievement identifier\"\n\
        \                },\n                \"displayName\": {\n                    \"type\": \"string\",\n             \
        \       \"description\": \"Achievement name\"\n                },\n                \"description\": {\n          \
        \          \"type\": \"string\",\n                    \"description\": \"Achievement description\"\n             \
        \   },\n                \"points\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Point value\"\n                },\n                \"iconUrl\": {\n                    \"type\": \"string\",\n\
        \                    \"nullable\": true,\n                    \"description\": \"Achievement icon\"\n            \
        \    },\n                \"unlockedAt\": {\n                    \"type\": \"string\",\n                    \"format\"\
        : \"date-time\",\n                    \"description\": \"When it was unlocked\"\n                }\n            }\n\
        \        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"List unlocked achievements\",\n    \"description\": \"Get all achievements
        unlocked by an entity.\",\n    \"tags\": [\n        \"Progress\"\n    ],\n    \"deprecated\": false,\n    \"operationId\"\
        : \"listUnlockedAchievements\"\n}"
  /achievement/platform/sync:
    post:
      summary: Manually trigger platform sync
      description: |
        Force synchronization of achievements with external platforms.
        Admin-only endpoint.
      operationId: syncPlatformAchievements
      tags:
      - Platform Sync
      x-permissions:
      - role: admin
        states: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SyncPlatformAchievementsRequest'
      responses:
        '200':
          description: Sync completed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SyncPlatformAchievementsResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/SyncPlatformAchievementsRequest\"\
        ,\n    \"$defs\": {\n        \"SyncPlatformAchievementsRequest\": {\n            \"type\": \"object\",\n         \
        \   \"description\": \"Request to sync achievements with external platform\",\n            \"additionalProperties\"\
        : false,\n            \"required\": [\n                \"gameServiceId\",\n                \"entityId\",\n       \
        \         \"entityType\",\n                \"platform\"\n            ],\n            \"properties\": {\n         \
        \       \"gameServiceId\": {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\"\
        ,\n                    \"description\": \"ID of the game service\"\n                },\n                \"entityId\"\
        : {\n                    \"type\": \"string\",\n                    \"format\": \"uuid\",\n                    \"\
        description\": \"ID of the entity (must be account for platform sync)\"\n                },\n                \"entityType\"\
        : {\n                    \"type\": \"object\",\n                    \"description\": \"Entity type to sync (must be
        account for platform links)\"\n                },\n                \"platform\": {\n                    \"$ref\":
        \"#/$defs/Platform\",\n                    \"description\": \"External platform to sync achievements to\"\n      \
        \          },\n                \"forceResync\": {\n                    \"type\": \"boolean\",\n                  \
        \  \"default\": false,\n                    \"description\": \"Force resync even if already synced\"\n           \
        \     }\n            }\n        },\n        \"Platform\": {\n            \"type\": \"string\",\n            \"description\"\
        : \"External platform for achievement sync\",\n            \"enum\": [\n                \"steam\",\n             \
        \   \"xbox\",\n                \"playstation\",\n                \"internal\"\n            ]\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/SyncPlatformAchievementsResponse\"\
        ,\n    \"$defs\": {\n        \"SyncPlatformAchievementsResponse\": {\n            \"type\": \"object\",\n        \
        \    \"description\": \"Response after platform sync attempt\",\n            \"additionalProperties\": false,\n  \
        \          \"required\": [\n                \"platform\",\n                \"synced\",\n                \"failed\"\
        \n            ],\n            \"properties\": {\n                \"platform\": {\n                    \"$ref\": \"\
        #/$defs/Platform\",\n                    \"description\": \"Platform targeted by the sync attempt\"\n            \
        \    },\n                \"synced\": {\n                    \"type\": \"integer\",\n                    \"description\"\
        : \"Number of achievements successfully synced\"\n                },\n                \"failed\": {\n            \
        \        \"type\": \"integer\",\n                    \"description\": \"Number of sync failures\"\n              \
        \  },\n                \"notLinked\": {\n                    \"type\": \"boolean\",\n                    \"description\"\
        : \"Whether account is not linked to platform\"\n                },\n                \"errors\": {\n             \
        \       \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\"\n   \
        \                 },\n                    \"nullable\": true,\n                    \"description\": \"Error messages
        for failed syncs\"\n                }\n            }\n        },\n        \"Platform\": {\n            \"type\": \"\
        string\",\n            \"description\": \"External platform for achievement sync\",\n            \"enum\": [\n   \
        \             \"steam\",\n                \"xbox\",\n                \"playstation\",\n                \"internal\"\
        \n            ]\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Manually trigger platform sync\",\n    \"description\": \"Force synchronization
        of achievements with external platforms.\\nAdmin-only endpoint.\\n\",\n    \"tags\": [\n        \"Platform Sync\"\n\
        \    ],\n    \"deprecated\": false,\n    \"operationId\": \"syncPlatformAchievements\"\n}"
  /achievement/platform/status:
    post:
      summary: Get platform sync status
      description: Get the sync status for an entity on a specific platform.
      operationId: getPlatformSyncStatus
      tags:
      - Platform Sync
      x-permissions: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetPlatformSyncStatusRequest'
      responses:
        '200':
          description: Sync status retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlatformSyncStatusResponse'
      x-request-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/GetPlatformSyncStatusRequest\"\
        ,\n    \"$defs\": {\n        \"GetPlatformSyncStatusRequest\": {\n            \"type\": \"object\",\n            \"\
        description\": \"Request to get platform sync status\",\n            \"additionalProperties\": false,\n          \
        \  \"required\": [\n                \"gameServiceId\",\n                \"entityId\",\n                \"entityType\"\
        \n            ],\n            \"properties\": {\n                \"gameServiceId\": {\n                    \"type\"\
        : \"string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"ID of the game service\"\
        \n                },\n                \"entityId\": {\n                    \"type\": \"string\",\n               \
        \     \"format\": \"uuid\",\n                    \"description\": \"ID of the entity\"\n                },\n     \
        \           \"entityType\": {\n                    \"type\": \"object\",\n                    \"description\": \"\
        Entity type whose platform sync status is requested\"\n                },\n                \"platform\": {\n     \
        \               \"$ref\": \"#/$defs/Platform\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Specific platform (null for all)\"\n                }\n            }\n        },\n        \"Platform\": {\n  \
        \          \"type\": \"string\",\n            \"description\": \"External platform for achievement sync\",\n     \
        \       \"enum\": [\n                \"steam\",\n                \"xbox\",\n                \"playstation\",\n   \
        \             \"internal\"\n            ]\n        }\n    }\n}"
      x-response-schema-json: "{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$ref\": \"#/$defs/PlatformSyncStatusResponse\"\
        ,\n    \"$defs\": {\n        \"PlatformSyncStatusResponse\": {\n            \"type\": \"object\",\n            \"\
        description\": \"Platform sync status for an entity\",\n            \"additionalProperties\": false,\n           \
        \ \"required\": [\n                \"entityId\",\n                \"entityType\",\n                \"platforms\"\n\
        \            ],\n            \"properties\": {\n                \"entityId\": {\n                    \"type\": \"\
        string\",\n                    \"format\": \"uuid\",\n                    \"description\": \"ID of the entity\"\n\
        \                },\n                \"entityType\": {\n                    \"type\": \"object\",\n              \
        \      \"description\": \"Entity type for the reported platform status\"\n                },\n                \"platforms\"\
        : {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"$ref\"\
        : \"#/$defs/PlatformStatus\"\n                    },\n                    \"description\": \"Sync status per platform\"\
        \n                }\n            }\n        },\n        \"PlatformStatus\": {\n            \"type\": \"object\",\n\
        \            \"description\": \"Sync status for a single platform\",\n            \"additionalProperties\": false,\n\
        \            \"required\": [\n                \"platform\",\n                \"isLinked\",\n                \"syncedCount\"\
        ,\n                \"pendingCount\"\n            ],\n            \"properties\": {\n                \"platform\":
        {\n                    \"$ref\": \"#/$defs/Platform\",\n                    \"description\": \"Platform this status
        entry describes\"\n                },\n                \"isLinked\": {\n                    \"type\": \"boolean\"\
        ,\n                    \"description\": \"Whether entity is linked to this platform\"\n                },\n      \
        \          \"externalId\": {\n                    \"type\": \"string\",\n                    \"nullable\": true,\n\
        \                    \"description\": \"External platform user ID\"\n                },\n                \"syncedCount\"\
        : {\n                    \"type\": \"integer\",\n                    \"description\": \"Achievements successfully
        synced\"\n                },\n                \"pendingCount\": {\n                    \"type\": \"integer\",\n  \
        \                  \"description\": \"Achievements pending sync\"\n                },\n                \"failedCount\"\
        : {\n                    \"type\": \"integer\",\n                    \"description\": \"Achievements that failed to
        sync\"\n                },\n                \"lastSyncAt\": {\n                    \"type\": \"string\",\n       \
        \             \"format\": \"date-time\",\n                    \"nullable\": true,\n                    \"description\"\
        : \"Last successful sync timestamp\"\n                },\n                \"lastError\": {\n                    \"\
        type\": \"string\",\n                    \"nullable\": true,\n                    \"description\": \"Most recent sync
        error\"\n                }\n            }\n        },\n        \"Platform\": {\n            \"type\": \"string\",\n\
        \            \"description\": \"External platform for achievement sync\",\n            \"enum\": [\n             \
        \   \"steam\",\n                \"xbox\",\n                \"playstation\",\n                \"internal\"\n      \
        \      ]\n        }\n    }\n}"
      x-endpoint-info-json: "{\n    \"summary\": \"Get platform sync status\",\n    \"description\": \"Get the sync status
        for an entity on a specific platform.\",\n    \"tags\": [\n        \"Platform Sync\"\n    ],\n    \"deprecated\":
        false,\n    \"operationId\": \"getPlatformSyncStatus\"\n}"
components:
  schemas:
    AchievementType:
      type: string
      description: Type of achievement
      enum:
      - standard
      - progressive
      - hidden
      - secret
    Platform:
      type: string
      description: External platform for achievement sync
      enum:
      - steam
      - xbox
      - playstation
      - internal
    SyncStatus:
      type: string
      description: Status of platform synchronization
      enum:
      - pending
      - synced
      - failed
      - not_linked
    CreateAchievementDefinitionRequest:
      type: object
      description: Request to create a new achievement
      additionalProperties: false
      required:
      - gameServiceId
      - achievementId
      - displayName
      - description
      properties:
        gameServiceId:
          type: string
          format: uuid
          description: ID of the game service owning this achievement
        achievementId:
          type: string
          maxLength: 64
          pattern: "^[a-z0-9_-]+$"
          description: Unique identifier for this achievement (lowercase, no spaces)
        displayName:
          type: string
          maxLength: 100
          description: Human-readable name
        description:
          type: string
          maxLength: 500
          description: Description of how to earn this achievement
        hiddenDescription:
          type: string
          maxLength: 500
          nullable: true
          description: Description shown before achievement is earned (for hidden types)
        achievementType:
          $ref: '#/components/schemas/AchievementType'
          default: standard
          description: Classification of the achievement (affects visibility and progress behavior)
        entityTypes:
          type: array
          items:
            $ref: 'common-api.yaml#/components/schemas/EntityType'
          description: Which entity types can earn this achievement
        progressTarget:
          type: integer
          nullable: true
          description: Target value for progressive achievements
        points:
          type: integer
          default: 10
          description: Point value of this achievement
        iconUrl:
          type: string
          nullable: true
          description: URL to achievement icon
        platforms:
          type: array
          items:
            $ref: '#/components/schemas/Platform'
          description: Platforms where this achievement exists
        platformIds:
          type: object
          additionalProperties:
            type: string
          nullable: true
          description: "Platform-specific achievement IDs (e.g., {\"steam\": \"ACH_001\"})"
        prerequisites:
          type: array
          items:
            type: string
          nullable: true
          description: Achievement IDs that must be unlocked first
        isActive:
          type: boolean
          default: true
          description: Whether this achievement can be earned
        metadata:
          type: object
          additionalProperties: true
          nullable: true
          description: Additional achievement-specific metadata
    GetAchievementDefinitionRequest:
      type: object
      description: Request to get an achievement definition
      additionalProperties: false
      required:
      - gameServiceId
      - achievementId
      properties:
        gameServiceId:
          type: string
          format: uuid
          description: ID of the game service
        achievementId:
          type: string
          description: ID of the achievement
    ListAchievementDefinitionsRequest:
      type: object
      description: Request to list achievement definitions
      additionalProperties: false
      required:
      - gameServiceId
      properties:
        gameServiceId:
          type: string
          format: uuid
          description: ID of the game service
        platform:
          $ref: '#/components/schemas/Platform'
          nullable: true
          description: Filter by platform
        achievementType:
          $ref: '#/components/schemas/AchievementType'
          nullable: true
          description: Filter by achievement classification
        isActive:
          type: boolean
          nullable: true
          description: Filter by active status
        includeHidden:
          type: boolean
          default: false
          description: Include hidden achievements in response
    ListAchievementDefinitionsResponse:
      type: object
      description: Response containing achievement definitions
      additionalProperties: false
      required:
      - achievements
      properties:
        achievements:
          type: array
          items:
            $ref: '#/components/schemas/AchievementDefinitionResponse'
          description: List of achievement definitions
    UpdateAchievementDefinitionRequest:
      type: object
      description: Request to update an achievement definition
      additionalProperties: false
      required:
      - gameServiceId
      - achievementId
      properties:
        gameServiceId:
          type: string
          format: uuid
          description: ID of the game service
        achievementId:
          type: string
          description: ID of the achievement to update
        displayName:
          type: string
          maxLength: 100
          nullable: true
          description: New display name
        description:
          type: string
          maxLength: 500
          nullable: true
          description: New description
        isActive:
          type: boolean
          nullable: true
          description: New active status
        platformIds:
          type: object
          additionalProperties:
            type: string
          nullable: true
          description: Updated platform ID mappings
    DeleteAchievementDefinitionRequest:
      type: object
      description: Request to delete an achievement
      additionalProperties: false
      required:
      - gameServiceId
      - achievementId
      properties:
        gameServiceId:
          type: string
          format: uuid
          description: ID of the game service
        achievementId:
          type: string
          description: ID of the achievement to delete
    AchievementDefinitionResponse:
      type: object
      description: Achievement definition details
      additionalProperties: false
      required:
      - gameServiceId
      - achievementId
      - displayName
      - description
      - achievementType
      - points
      - isActive
      - createdAt
      properties:
        gameServiceId:
          type: string
          format: uuid
          description: ID of the owning game service
        achievementId:
          type: string
          description: Unique identifier
        displayName:
          type: string
          description: Human-readable name
        description:
          type: string
          description: How to earn this achievement
        hiddenDescription:
          type: string
          nullable: true
          description: Description for hidden achievements
        achievementType:
          $ref: '#/components/schemas/AchievementType'
          description: Classification of the achievement
        entityTypes:
          type: array
          items:
            $ref: 'common-api.yaml#/components/schemas/EntityType'
          description: Allowed entity types
        progressTarget:
          type: integer
          nullable: true
          description: Target for progressive achievements
        points:
          type: integer
          description: Point value
        iconUrl:
          type: string
          nullable: true
          description: Achievement icon URL
        platforms:
          type: array
          items:
            $ref: '#/components/schemas/Platform'
          description: Available platforms
        platformIds:
          type: object
          additionalProperties:
            type: string
          nullable: true
          description: Platform-specific IDs
        prerequisites:
          type: array
          items:
            type: string
          nullable: true
          description: Required achievements
        isActive:
          type: boolean
          description: Whether achievement is earnable
        earnedCount:
          type: integer
          format: int64
          description: How many entities have earned this
        createdAt:
          type: string
          format: date-time
          description: When the achievement was created
        metadata:
          type: object
          additionalProperties: true
          nullable: true
          description: Additional metadata
    GetAchievementProgressRequest:
      type: object
      description: Request to get achievement progress
      additionalProperties: false
      required:
      - gameServiceId
      - entityId
      - entityType
      properties:
        gameServiceId:
          type: string
          format: uuid
          description: ID of the game service
        entityId:
          type: string
          format: uuid
          description: ID of the entity
        entityType:
          $ref: 'common-api.yaml#/components/schemas/EntityType'
          description: Entity type whose progress is requested
        achievementId:
          type: string
          nullable: true
          description: Specific achievement ID (null for all)
    AchievementProgressResponse:
      type: object
      description: Achievement progress for an entity
      additionalProperties: false
      required:
      - entityId
      - entityType
      - progress
      properties:
        entityId:
          type: string
          format: uuid
          description: ID of the entity
        entityType:
          $ref: 'common-api.yaml#/components/schemas/EntityType'
          description: Entity type that owns this progress summary
        progress:
          type: array
          items:
            $ref: '#/components/schemas/AchievementProgress'
          description: Progress for each achievement
        totalPoints:
          type: integer
          description: Total points from unlocked achievements
        unlockedCount:
          type: integer
          description: Number of unlocked achievements
    AchievementProgress:
      type: object
      description: Progress toward a single achievement
      additionalProperties: false
      required:
      - achievementId
      - isUnlocked
      properties:
        achievementId:
          type: string
          description: Achievement identifier
        displayName:
          type: string
          description: Achievement display name
        currentProgress:
          type: integer
          nullable: true
          description: Current progress (for progressive)
        targetProgress:
          type: integer
          nullable: true
          description: Target progress (for progressive)
        percentComplete:
          type: number
          format: double
          nullable: true
          description: Completion percentage (0-100)
        isUnlocked:
          type: boolean
          description: Whether achievement is unlocked
        unlockedAt:
          type: string
          format: date-time
          nullable: true
          description: When achievement was unlocked
    UpdateAchievementProgressRequest:
      type: object
      description: Request to update achievement progress
      additionalProperties: false
      required:
      - gameServiceId
      - achievementId
      - entityId
      - entityType
      - increment
      properties:
        gameServiceId:
          type: string
          format: uuid
          description: ID of the game service
        achievementId:
          type: string
          description: ID of the achievement
        entityId:
          type: string
          format: uuid
          description: ID of the entity
        entityType:
          $ref: 'common-api.yaml#/components/schemas/EntityType'
          description: Entity type receiving the progress increment
        increment:
          type: integer
          minimum: 1
          description: Amount to increment progress
    UpdateAchievementProgressResponse:
      type: object
      description: Response after updating progress
      additionalProperties: false
      required:
      - achievementId
      - previousProgress
      - newProgress
      - targetProgress
      - unlocked
      properties:
        achievementId:
          type: string
          description: Achievement identifier
        previousProgress:
          type: integer
          description: Progress before update
        newProgress:
          type: integer
          description: Progress after update
        targetProgress:
          type: integer
          description: Target to unlock
        unlocked:
          type: boolean
          description: Whether this update unlocked the achievement
        unlockedAt:
          type: string
          format: date-time
          nullable: true
          description: Unlock timestamp (if unlocked)
    UnlockAchievementRequest:
      type: object
      description: Request to directly unlock an achievement
      additionalProperties: false
      required:
      - gameServiceId
      - achievementId
      - entityId
      - entityType
      properties:
        gameServiceId:
          type: string
          format: uuid
          description: ID of the game service
        achievementId:
          type: string
          description: ID of the achievement to unlock
        entityId:
          type: string
          format: uuid
          description: ID of the entity
        entityType:
          $ref: 'common-api.yaml#/components/schemas/EntityType'
          description: Entity type to unlock the achievement for
        skipPlatformSync:
          type: boolean
          default: false
          description: Skip syncing to external platforms
    UnlockAchievementResponse:
      type: object
      description: Response after unlocking an achievement
      additionalProperties: false
      required:
      - achievementId
      - unlocked
      - unlockedAt
      properties:
        achievementId:
          type: string
          description: Achievement identifier
        unlocked:
          type: boolean
          description: Whether unlock was successful
        unlockedAt:
          type: string
          format: date-time
          description: Unlock timestamp
        platformSyncStatus:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/SyncStatus'
          nullable: true
          description: Sync status by platform
    ListUnlockedAchievementsRequest:
      type: object
      description: Request to list unlocked achievements
      additionalProperties: false
      required:
      - gameServiceId
      - entityId
      - entityType
      properties:
        gameServiceId:
          type: string
          format: uuid
          description: ID of the game service
        entityId:
          type: string
          format: uuid
          description: ID of the entity
        entityType:
          $ref: 'common-api.yaml#/components/schemas/EntityType'
          description: Entity type whose unlocked achievements are listed
        platform:
          $ref: '#/components/schemas/Platform'
          nullable: true
          description: Filter by platform
    ListUnlockedAchievementsResponse:
      type: object
      description: Response containing unlocked achievements
      additionalProperties: false
      required:
      - entityId
      - entityType
      - achievements
      - totalPoints
      properties:
        entityId:
          type: string
          format: uuid
          description: ID of the entity
        entityType:
          $ref: 'common-api.yaml#/components/schemas/EntityType'
          description: Entity type for the returned unlocked achievements
        achievements:
          type: array
          items:
            $ref: '#/components/schemas/UnlockedAchievement'
          description: List of unlocked achievements
        totalPoints:
          type: integer
          description: Total points earned
    UnlockedAchievement:
      type: object
      description: An unlocked achievement instance
      additionalProperties: false
      required:
      - achievementId
      - displayName
      - points
      - unlockedAt
      properties:
        achievementId:
          type: string
          description: Achievement identifier
        displayName:
          type: string
          description: Achievement name
        description:
          type: string
          description: Achievement description
        points:
          type: integer
          description: Point value
        iconUrl:
          type: string
          nullable: true
          description: Achievement icon
        unlockedAt:
          type: string
          format: date-time
          description: When it was unlocked
    SyncPlatformAchievementsRequest:
      type: object
      description: Request to sync achievements with external platform
      additionalProperties: false
      required:
      - gameServiceId
      - entityId
      - entityType
      - platform
      properties:
        gameServiceId:
          type: string
          format: uuid
          description: ID of the game service
        entityId:
          type: string
          format: uuid
          description: ID of the entity (must be account for platform sync)
        entityType:
          $ref: 'common-api.yaml#/components/schemas/EntityType'
          description: Entity type to sync (must be account for platform links)
        platform:
          $ref: '#/components/schemas/Platform'
          description: External platform to sync achievements to
        forceResync:
          type: boolean
          default: false
          description: Force resync even if already synced
    SyncPlatformAchievementsResponse:
      type: object
      description: Response after platform sync attempt
      additionalProperties: false
      required:
      - platform
      - synced
      - failed
      properties:
        platform:
          $ref: '#/components/schemas/Platform'
          description: Platform targeted by the sync attempt
        synced:
          type: integer
          description: Number of achievements successfully synced
        failed:
          type: integer
          description: Number of sync failures
        notLinked:
          type: boolean
          description: Whether account is not linked to platform
        errors:
          type: array
          items:
            type: string
          nullable: true
          description: Error messages for failed syncs
    GetPlatformSyncStatusRequest:
      type: object
      description: Request to get platform sync status
      additionalProperties: false
      required:
      - gameServiceId
      - entityId
      - entityType
      properties:
        gameServiceId:
          type: string
          format: uuid
          description: ID of the game service
        entityId:
          type: string
          format: uuid
          description: ID of the entity
        entityType:
          $ref: 'common-api.yaml#/components/schemas/EntityType'
          description: Entity type whose platform sync status is requested
        platform:
          $ref: '#/components/schemas/Platform'
          nullable: true
          description: Specific platform (null for all)
    PlatformSyncStatusResponse:
      type: object
      description: Platform sync status for an entity
      additionalProperties: false
      required:
      - entityId
      - entityType
      - platforms
      properties:
        entityId:
          type: string
          format: uuid
          description: ID of the entity
        entityType:
          $ref: 'common-api.yaml#/components/schemas/EntityType'
          description: Entity type for the reported platform status
        platforms:
          type: array
          items:
            $ref: '#/components/schemas/PlatformStatus'
          description: Sync status per platform
    PlatformStatus:
      type: object
      description: Sync status for a single platform
      additionalProperties: false
      required:
      - platform
      - isLinked
      - syncedCount
      - pendingCount
      properties:
        platform:
          $ref: '#/components/schemas/Platform'
          description: Platform this status entry describes
        isLinked:
          type: boolean
          description: Whether entity is linked to this platform
        externalId:
          type: string
          nullable: true
          description: External platform user ID
        syncedCount:
          type: integer
          description: Achievements successfully synced
        pendingCount:
          type: integer
          description: Achievements pending sync
        failedCount:
          type: integer
          description: Achievements that failed to sync
        lastSyncAt:
          type: string
          format: date-time
          nullable: true
          description: Last successful sync timestamp
        lastError:
          type: string
          nullable: true
          description: Most recent sync error
x-service-registration:
  serviceId: "achievement"
  serviceName: "Achievement Service"
  version: "1.0.0"
  categories:
  - gaming
  - progression
