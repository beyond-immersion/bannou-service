openapi: 3.0.3
info:
  title: Realm Service Events Lifecycle Events
  description: "Auto-generated lifecycle event schemas for realm service.\nDO NOT EDIT - This file is completely overwritten
    by generate-lifecycle-events.py.\nSource of truth: realm-events.yaml x-lifecycle section."
  version: 1.0.0
paths: {}
components:
  schemas:
    RealmCreatedEvent:
      allOf:
      - $ref: ../common-events.yaml#/components/schemas/BaseServiceEvent
      type: object
      additionalProperties: false
      description: Published to realm.created when a realm is created
      required:
      - eventName
      - eventId
      - timestamp
      - realmId
      - code
      - name
      - gameServiceId
      - isActive
      - isSystemType
      - isDeprecated
      - createdAt
      - updatedAt
      properties:
        eventName:
          type: string
          default: realm.created
          description: 'Event type identifier: realm.created'
        realmId: &id001
          type: string
          format: uuid
          description: "Unique identifier for the realm"
        code: &id002
          type: string
          description: "Short code identifier for the realm used in URLs and references"
        name: &id003
          type: string
          description: "Display name of the realm"
        gameServiceId: &id004
          type: string
          format: uuid
          description: "ID of the game service this realm belongs to"
        description: &id005
          type: string
          nullable: true
          description: "Detailed description of the realm and its purpose"
        category: &id006
          type: string
          nullable: true
          description: "Category classification for organizing realms"
        isActive: &id007
          type: boolean
          description: "Whether the realm is currently active and accessible"
        isSystemType: &id008
          type: boolean
          description: "Whether this realm is a system infrastructure realm (e.g., VOID)"
        isDeprecated: &id009
          type: boolean
          description: "Whether the realm has been marked as deprecated"
        deprecatedAt: &id010
          type: string
          format: date-time
          nullable: true
          description: "Timestamp when the realm was deprecated"
        deprecationReason: &id011
          type: string
          nullable: true
          description: "Explanation for why the realm was deprecated"
        metadata: &id012
          type: object
          additionalProperties: true
          nullable: true
          description: "Client-only metadata. No Bannou plugin reads specific keys from this field by convention."
        createdAt: &id013
          type: string
          format: date-time
          description: "Timestamp when the realm was created"
        updatedAt: &id014
          type: string
          format: date-time
          description: "Timestamp when the realm was last updated"
      x-resource-mapping:
        resource_type: realm
        resource_id_field: realmId
        source_type: realm
        is_deletion: false
    RealmUpdatedEvent:
      allOf:
      - $ref: ../common-events.yaml#/components/schemas/BaseServiceEvent
      type: object
      additionalProperties: false
      description: Published to realm.updated when a realm is updated
      required:
      - eventName
      - eventId
      - timestamp
      - realmId
      - code
      - name
      - gameServiceId
      - isActive
      - isSystemType
      - isDeprecated
      - createdAt
      - updatedAt
      - changedFields
      properties:
        eventName:
          type: string
          default: realm.updated
          description: 'Event type identifier: realm.updated'
        realmId: *id001
        code: *id002
        name: *id003
        gameServiceId: *id004
        description: *id005
        category: *id006
        isActive: *id007
        isSystemType: *id008
        isDeprecated: *id009
        deprecatedAt: *id010
        deprecationReason: *id011
        metadata: *id012
        createdAt: *id013
        updatedAt: *id014
        changedFields:
          type: array
          items:
            type: string
          description: List of field names that were modified
      x-resource-mapping:
        resource_type: realm
        resource_id_field: realmId
        source_type: realm
        is_deletion: false
    RealmDeletedEvent:
      allOf:
      - $ref: ../common-events.yaml#/components/schemas/BaseServiceEvent
      type: object
      additionalProperties: false
      description: Published to realm.deleted when a realm is deleted
      required:
      - eventName
      - eventId
      - timestamp
      - realmId
      - code
      - name
      - gameServiceId
      - isActive
      - isSystemType
      - isDeprecated
      - createdAt
      - updatedAt
      properties:
        eventName:
          type: string
          default: realm.deleted
          description: 'Event type identifier: realm.deleted'
        realmId: *id001
        code: *id002
        name: *id003
        gameServiceId: *id004
        description: *id005
        category: *id006
        isActive: *id007
        isSystemType: *id008
        isDeprecated: *id009
        deprecatedAt: *id010
        deprecationReason: *id011
        metadata: *id012
        createdAt: *id013
        updatedAt: *id014
        deletedReason:
          type: string
          nullable: true
          description: Optional reason for deletion (e.g., "Merged into {targetId}")
      x-resource-mapping:
        resource_type: realm
        resource_id_field: realmId
        source_type: realm
        is_deletion: true
