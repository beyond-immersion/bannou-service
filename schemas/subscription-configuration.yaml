openapi: 3.0.3
info:
  title: Subscription Service Configuration
  description: |
    Configuration schema for Subscription service.
    Properties are bound to environment variables with BANNOU_ prefix.

    **NRT Compliance**: AI agents MUST review docs/NRT-SCHEMA-RULES.md before
    modifying this schema. Optional reference types require `nullable: true`.
  version: 1.0.0
paths: {}
x-service-configuration:
  properties:
    # State Store Configuration
    StateStoreName:
      type: string
      description: State store name for subscription
      env: SUBSCRIPTION_STATE_STORE_NAME
      default: "subscription-statestore"
    AuthorizationSuffix:
      type: string
      description: Suffix for authorization keys in state store
      env: SUBSCRIPTION_AUTHORIZATION_SUFFIX
      default: "authorized"

    # Background Service Configuration
    ExpirationCheckIntervalMinutes:
      type: integer
      description: Interval in minutes between subscription expiration checks
      env: SUBSCRIPTION_EXPIRATION_CHECK_INTERVAL_MINUTES
      default: 5
    ExpirationGracePeriodSeconds:
      type: integer
      description: Grace period in seconds before expired subscriptions are marked inactive
      env: SUBSCRIPTION_EXPIRATION_GRACE_PERIOD_SECONDS
      default: 30
    StartupDelaySeconds:
      type: integer
      description: Delay in seconds before background service starts processing
      env: SUBSCRIPTION_STARTUP_DELAY_SECONDS
      default: 30
