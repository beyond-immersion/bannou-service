# Default Bannou Preset
# All services on a single "bannou" node - the standard deployment configuration.
# This is the default preset and matches Docker Compose single-container behavior.
#
# Topology:
# - bannou: all services (accounts, auth, behavior, connect, game-session, permissions, orchestrator, website, testing)
#
# All service routing goes to "bannou" - no multi-node distribution.

name: bannou
description: Default single-node deployment with all services - matches Docker Compose behavior
category: default

topology:
  nodes:
    - name: bannou
      services:
        - accounts
        - auth
        - behavior
        - connect
        - game-session
        - permissions
        - orchestrator
        - website
        - testing
      replicas: 1
      environment:
        ASPNETCORE_ENVIRONMENT: Development
        TESTING_SERVICE_ENABLED: "true"

  infrastructure:
    mysql:
      enabled: true
      version: "8.0"
    redis:
      enabled: true
      version: "7"
    rabbitmq:
      enabled: true
      version: "4.0-management"

environment:
  # Standard logging
  APP_LOGGING_LEVEL: Information
  WEB_HOST_LOGGING_LEVEL: Warning
  BANNOU_APP_LOGGING_LEVEL: Information
  BANNOU_WEB_HOST_LOGGING_LEVEL: Warning

requiredBackends:
  - docker-compose
