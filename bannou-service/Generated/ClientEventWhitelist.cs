//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by generate-client-event-whitelist.sh
//     DO NOT MODIFY - Changes will be overwritten during regeneration.
//
//     To add new client events:
//     1. Add the event to the appropriate *-client-events.yaml schema
//     2. Run: scripts/generate-client-event-whitelist.sh
// </auto-generated>
//------------------------------------------------------------------------------

#nullable enable

namespace BeyondImmersion.BannouService.ClientEvents;

/// <summary>
/// Generated whitelist of valid client event names.
/// Used by Connect service for O(1) validation before forwarding events to WebSocket clients.
/// </summary>
public static class ClientEventWhitelist
{
    /// <summary>
    /// HashSet of all valid client event names extracted from *-client-events.yaml schemas.
    /// </summary>
    private static readonly HashSet<string> ValidEventNames = new(StringComparer.OrdinalIgnoreCase)
    {
        "asset.bundle.creation.complete",
        "asset.bundle.validation.complete",
        "asset.bundle.validation.failed",
        "asset.metabundle.creation.complete",
        "asset.processing.complete",
        "asset.processing.failed",
        "asset.ready",
        "asset.upload.complete",
        "character.updated",
        "chat.message.deleted",
        "chat.message.pinned",
        "chat.message.received",
        "chat.participant.banned",
        "chat.participant.joined",
        "chat.participant.kicked",
        "chat.participant.left",
        "chat.participant.muted",
        "chat.participant.unbanned",
        "chat.participant.unmuted",
        "chat.room.deleted",
        "chat.room.locked",
        "chat.room.updated",
        "collection.discovery.advanced",
        "collection.entry.unlocked",
        "currency.balance.changed",
        "currency.wallet.frozen",
        "currency.wallet.unfrozen",
        "inventory.container.full",
        "inventory.item.changed",
        "inventory.item.transferred",
        "location.updated",
        "matchmaking.cancelled",
        "matchmaking.queue.joined",
        "system.error",
        "system.notification",
        "voice.peer.joined",
        "voice.peer.left",
        "voice.peer.updated",
        "voice.room.closed",
        "voice.room.state",
    };

    /// <summary>
    /// Check if an event name is in the whitelist.
    /// </summary>
    /// <param name="eventName">The event name to validate (e.g., "connect.capability_manifest")</param>
    /// <returns>True if the event name is valid, false otherwise</returns>
    public static bool IsValidEventName(string? eventName)
    {
        if (string.IsNullOrWhiteSpace(eventName))
            return false;

        return ValidEventNames.Contains(eventName);
    }

    /// <summary>
    /// Get all valid event names (for debugging/logging).
    /// </summary>
    public static IReadOnlySet<string> GetAllValidEventNames() => ValidEventNames;

    /// <summary>
    /// Get the count of registered client event types.
    /// </summary>
    public static int Count => ValidEventNames.Count;
}
