//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by generate-client-event-whitelist.sh
//     DO NOT MODIFY - Changes will be overwritten during regeneration.
//
//     To add new client events:
//     1. Add the event to the appropriate *-client-events.yaml schema
//     2. Run: scripts/generate-client-event-whitelist.sh
// </auto-generated>
//------------------------------------------------------------------------------

#nullable enable

namespace BeyondImmersion.BannouService.ClientEvents;

/// <summary>
/// Generated whitelist of valid client event names.
/// Used by Connect service for O(1) validation before forwarding events to WebSocket clients.
/// </summary>
public static class ClientEventWhitelist
{
    /// <summary>
    /// HashSet of all valid client event names extracted from *-client-events.yaml schemas.
    /// </summary>
    private static readonly HashSet<string> ValidEventNames = new(StringComparer.OrdinalIgnoreCase)
    {
        "asset.bundle.creation.complete",
        "asset.bundle.validation.complete",
        "asset.bundle.validation.failed",
        "asset.metabundle.creation.complete",
        "asset.processing.complete",
        "asset.processing.failed",
        "asset.ready",
        "asset.upload.complete",
        "connect.capability_manifest",
        "connect.disconnect_notification",
        "game_session.action_result",
        "game_session.chat_received",
        "game_session.player_joined",
        "game_session.player_kicked",
        "game_session.player_left",
        "game_session.state_changed",
        "game_session.state_updated",
        "matchmaking.cancelled",
        "matchmaking.match_confirmed",
        "matchmaking.match_declined",
        "matchmaking.match_found",
        "matchmaking.player_accepted",
        "matchmaking.queue_joined",
        "matchmaking.status_update",
        "permission.session_capabilities",
        "session.shortcut_published",
        "session.shortcut_revoked",
        "system.error",
        "system.notification",
        "voice.peer_joined",
        "voice.peer_left",
        "voice.peer_updated",
        "voice.room_closed",
        "voice.room_state",
        "voice.tier_upgrade",
    };

    /// <summary>
    /// Check if an event name is in the whitelist.
    /// </summary>
    /// <param name="eventName">The event name to validate (e.g., "connect.capability_manifest")</param>
    /// <returns>True if the event name is valid, false otherwise</returns>
    public static bool IsValidEventName(string? eventName)
    {
        if (string.IsNullOrWhiteSpace(eventName))
            return false;

        return ValidEventNames.Contains(eventName);
    }

    /// <summary>
    /// Get all valid event names (for debugging/logging).
    /// </summary>
    public static IReadOnlySet<string> GetAllValidEventNames() => ValidEventNames;

    /// <summary>
    /// Get the count of registered client event types.
    /// </summary>
    public static int Count => ValidEventNames.Count;
}
