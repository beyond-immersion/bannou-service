//----------------------
// <auto-generated>
//     Generated using the NSwag toolchain v14.5.0.0 (NJsonSchema v11.4.0.0 (Newtonsoft.Json v13.0.0.0)) (http://NSwag.org)
//
//     WARNING: DO NOT EDIT THIS FILE (TENETS T1/T2)
//     This file is auto-generated from OpenAPI schemas in /schemas/.
//     Any manual changes will be overwritten on next generation.
//
//     To modify behavior:
//     1. Edit the source schema (schemas/*-api.yaml or schemas/*-events.yaml)
//     2. Run: scripts/generate-all-services.sh
//     3. Implement business logic in the service class (e.g., *Service.cs)
//
//     See: docs/reference/tenets/FOUNDATION.md (T1: Schema-First, T2: Code Generation)
// </auto-generated>
//----------------------

#nullable enable


namespace BeyondImmersion.BannouService.Behavior;

using System = global::System;

[System.CodeDom.Compiler.GeneratedCode("NSwag", "14.5.0.0 (NJsonSchema v11.4.0.0 (Newtonsoft.Json v13.0.0.0))")]
public interface IBehaviorController : BeyondImmersion.BannouService.Controllers.IBannouController
{

    /// <summary>
    /// Compile ABML behavior definition
    /// </summary>

    /// <remarks>
    /// Compiles a YAML-based ABML behavior definition into executable behavior trees.
    /// <br/>Handles stackable behavior sets, cultural adaptations, and context variable resolution.
    /// </remarks>

    /// <returns>ABML behavior compiled successfully</returns>

    System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<CompileBehaviorResponse>> CompileAbmlBehaviorAsync(CompileBehaviorRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));

    /// <summary>
    /// Compile stackable behavior sets
    /// </summary>

    /// <remarks>
    /// Compiles multiple ABML behavior sets with priority-based merging.
    /// <br/>Handles cultural adaptations, profession specializations, and context resolution.
    /// </remarks>

    /// <returns>Behavior stack compiled successfully</returns>

    System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<CompileBehaviorResponse>> CompileBehaviorStackAsync(BehaviorStackRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));

    /// <summary>
    /// Validate ABML definition
    /// </summary>

    /// <remarks>
    /// Validates ABML YAML against schema and checks for semantic correctness.
    /// <br/>Includes context variable validation and service dependency checking.
    /// </remarks>

    /// <returns>Validation completed</returns>

    System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<ValidateAbmlResponse>> ValidateAbmlAsync(ValidateAbmlRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));

    /// <summary>
    /// Get cached compiled behavior
    /// </summary>

    /// <remarks>
    /// Retrieves a previously compiled behavior from the cache.
    /// <br/>Used for performance optimization in high-frequency behavior execution.
    /// </remarks>

    /// <returns>Cached behavior retrieved successfully</returns>

    System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<CachedBehaviorResponse>> GetCachedBehaviorAsync(GetCachedBehaviorRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));

    /// <summary>
    /// Invalidate cached behavior
    /// </summary>

    /// <remarks>
    /// Removes a behavior from the cache, forcing recompilation on next access.
    /// <br/>Used when behavior definitions are updated.
    /// </remarks>

    /// <returns>Cache invalidated successfully</returns>

    System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.IActionResult> InvalidateCachedBehaviorAsync(InvalidateCacheRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));

    /// <summary>
    /// Resolve context variables
    /// </summary>

    /// <remarks>
    /// Resolves context variables in ABML definitions against character and world state.
    /// <br/>Used for dynamic behavior adaptation based on current game state.
    /// </remarks>

    /// <returns>Context variables resolved successfully</returns>

    System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<ResolveContextResponse>> ResolveContextVariablesAsync(ResolveContextRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));

    /// <summary>
    /// Generate GOAP plan
    /// </summary>

    /// <remarks>
    /// Generates a GOAP plan to achieve a goal from the current world state.
    /// <br/>Uses A* search to find the optimal sequence of actions.
    /// </remarks>

    /// <returns>Plan generated successfully</returns>

    System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<GoapPlanResponse>> GenerateGoapPlanAsync(GoapPlanRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));

    /// <summary>
    /// Validate existing GOAP plan
    /// </summary>

    /// <remarks>
    /// Validates an existing GOAP plan against the current world state.
    /// <br/>Returns whether the plan is still valid or needs replanning.
    /// </remarks>

    /// <returns>Plan validation completed</returns>

    System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<ValidateGoapPlanResponse>> ValidateGoapPlanAsync(ValidateGoapPlanRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));

}

[System.CodeDom.Compiler.GeneratedCode("NSwag", "14.5.0.0 (NJsonSchema v11.4.0.0 (Newtonsoft.Json v13.0.0.0))")]

public partial class BehaviorController : Microsoft.AspNetCore.Mvc.ControllerBase
{
    private IBehaviorService _implementation;

    public BehaviorController(IBehaviorService implementation)
    {
        _implementation = implementation;
    }

    /// <summary>
    /// Converts service tuple response to ActionResult format
    /// </summary>
    private Microsoft.AspNetCore.Mvc.ActionResult<T> ConvertToActionResult<T>(BeyondImmersion.BannouService.StatusCodes statusCode, T? result)
    {
        return statusCode switch
        {
            BeyondImmersion.BannouService.StatusCodes.OK => Ok(result),
            BeyondImmersion.BannouService.StatusCodes.BadRequest => BadRequest(result),
            BeyondImmersion.BannouService.StatusCodes.Unauthorized => Unauthorized(result),
            BeyondImmersion.BannouService.StatusCodes.Forbidden => Forbid(),
            BeyondImmersion.BannouService.StatusCodes.NotFound => NotFound(result),
            BeyondImmersion.BannouService.StatusCodes.Conflict => Conflict(result),
            BeyondImmersion.BannouService.StatusCodes.InternalServerError => StatusCode(500, result),
            _ => StatusCode(500, result)
        };
    }

    /// <summary>
    /// Converts service tuple response to IActionResult format (for void-like responses)
    /// </summary>
    private Microsoft.AspNetCore.Mvc.IActionResult ConvertToActionResult(BeyondImmersion.BannouService.StatusCodes statusCode, object? result = null)
    {
        return statusCode switch
        {
            BeyondImmersion.BannouService.StatusCodes.OK => result != null ? Ok(result) : Ok(),
            BeyondImmersion.BannouService.StatusCodes.BadRequest => result != null ? BadRequest(result) : BadRequest(),
            BeyondImmersion.BannouService.StatusCodes.Unauthorized => result != null ? Unauthorized(result) : Unauthorized(),
            BeyondImmersion.BannouService.StatusCodes.Forbidden => Forbid(),
            BeyondImmersion.BannouService.StatusCodes.NotFound => result != null ? NotFound(result) : NotFound(),
            BeyondImmersion.BannouService.StatusCodes.Conflict => result != null ? Conflict(result) : Conflict(),
            BeyondImmersion.BannouService.StatusCodes.InternalServerError => StatusCode(500, result),
            _ => StatusCode(500, result)
        };
    }

    /// <summary>
    /// Compile ABML behavior definition
    /// </summary>
    /// <remarks>
    /// Compiles a YAML-based ABML behavior definition into executable behavior trees.
    /// <br/>Handles stackable behavior sets, cultural adaptations, and context variable resolution.
    /// </remarks>
    /// <returns>ABML behavior compiled successfully</returns>
    [Microsoft.AspNetCore.Mvc.HttpPost, Microsoft.AspNetCore.Mvc.Route("compile")]

    public async System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<CompileBehaviorResponse>> CompileAbmlBehavior([Microsoft.AspNetCore.Mvc.FromBody] [Microsoft.AspNetCore.Mvc.ModelBinding.BindRequired] CompileBehaviorRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
    {

        var (statusCode, result) = await _implementation.CompileAbmlBehaviorAsync(body, cancellationToken);
        return ConvertToActionResult(statusCode, result);
    }

    /// <summary>
    /// Compile stackable behavior sets
    /// </summary>
    /// <remarks>
    /// Compiles multiple ABML behavior sets with priority-based merging.
    /// <br/>Handles cultural adaptations, profession specializations, and context resolution.
    /// </remarks>
    /// <returns>Behavior stack compiled successfully</returns>
    [Microsoft.AspNetCore.Mvc.HttpPost, Microsoft.AspNetCore.Mvc.Route("stack/compile")]

    public async System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<CompileBehaviorResponse>> CompileBehaviorStack([Microsoft.AspNetCore.Mvc.FromBody] [Microsoft.AspNetCore.Mvc.ModelBinding.BindRequired] BehaviorStackRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
    {

        var (statusCode, result) = await _implementation.CompileBehaviorStackAsync(body, cancellationToken);
        return ConvertToActionResult(statusCode, result);
    }

    /// <summary>
    /// Validate ABML definition
    /// </summary>
    /// <remarks>
    /// Validates ABML YAML against schema and checks for semantic correctness.
    /// <br/>Includes context variable validation and service dependency checking.
    /// </remarks>
    /// <returns>Validation completed</returns>
    [Microsoft.AspNetCore.Mvc.HttpPost, Microsoft.AspNetCore.Mvc.Route("validate")]

    public async System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<ValidateAbmlResponse>> ValidateAbml([Microsoft.AspNetCore.Mvc.FromBody] [Microsoft.AspNetCore.Mvc.ModelBinding.BindRequired] ValidateAbmlRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
    {

        var (statusCode, result) = await _implementation.ValidateAbmlAsync(body, cancellationToken);
        return ConvertToActionResult(statusCode, result);
    }

    /// <summary>
    /// Get cached compiled behavior
    /// </summary>
    /// <remarks>
    /// Retrieves a previously compiled behavior from the cache.
    /// <br/>Used for performance optimization in high-frequency behavior execution.
    /// </remarks>
    /// <returns>Cached behavior retrieved successfully</returns>
    [Microsoft.AspNetCore.Mvc.HttpPost, Microsoft.AspNetCore.Mvc.Route("cache/get")]

    public async System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<CachedBehaviorResponse>> GetCachedBehavior([Microsoft.AspNetCore.Mvc.FromBody] [Microsoft.AspNetCore.Mvc.ModelBinding.BindRequired] GetCachedBehaviorRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
    {

        var (statusCode, result) = await _implementation.GetCachedBehaviorAsync(body, cancellationToken);
        return ConvertToActionResult(statusCode, result);
    }

    /// <summary>
    /// Invalidate cached behavior
    /// </summary>
    /// <remarks>
    /// Removes a behavior from the cache, forcing recompilation on next access.
    /// <br/>Used when behavior definitions are updated.
    /// </remarks>
    /// <returns>Cache invalidated successfully</returns>
    [Microsoft.AspNetCore.Mvc.HttpPost, Microsoft.AspNetCore.Mvc.Route("cache/invalidate")]

    public async System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.IActionResult> InvalidateCachedBehavior([Microsoft.AspNetCore.Mvc.FromBody] [Microsoft.AspNetCore.Mvc.ModelBinding.BindRequired] InvalidateCacheRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
    {

        var statusCode = await _implementation.InvalidateCachedBehaviorAsync(body, cancellationToken);
        return ConvertToActionResult(statusCode);
    }

    /// <summary>
    /// Resolve context variables
    /// </summary>
    /// <remarks>
    /// Resolves context variables in ABML definitions against character and world state.
    /// <br/>Used for dynamic behavior adaptation based on current game state.
    /// </remarks>
    /// <returns>Context variables resolved successfully</returns>
    [Microsoft.AspNetCore.Mvc.HttpPost, Microsoft.AspNetCore.Mvc.Route("context/resolve")]

    public async System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<ResolveContextResponse>> ResolveContextVariables([Microsoft.AspNetCore.Mvc.FromBody] [Microsoft.AspNetCore.Mvc.ModelBinding.BindRequired] ResolveContextRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
    {

        var (statusCode, result) = await _implementation.ResolveContextVariablesAsync(body, cancellationToken);
        return ConvertToActionResult(statusCode, result);
    }

    /// <summary>
    /// Generate GOAP plan
    /// </summary>
    /// <remarks>
    /// Generates a GOAP plan to achieve a goal from the current world state.
    /// <br/>Uses A* search to find the optimal sequence of actions.
    /// </remarks>
    /// <returns>Plan generated successfully</returns>
    [Microsoft.AspNetCore.Mvc.HttpPost, Microsoft.AspNetCore.Mvc.Route("goap/plan")]

    public async System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<GoapPlanResponse>> GenerateGoapPlan([Microsoft.AspNetCore.Mvc.FromBody] [Microsoft.AspNetCore.Mvc.ModelBinding.BindRequired] GoapPlanRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
    {

        var (statusCode, result) = await _implementation.GenerateGoapPlanAsync(body, cancellationToken);
        return ConvertToActionResult(statusCode, result);
    }

    /// <summary>
    /// Validate existing GOAP plan
    /// </summary>
    /// <remarks>
    /// Validates an existing GOAP plan against the current world state.
    /// <br/>Returns whether the plan is still valid or needs replanning.
    /// </remarks>
    /// <returns>Plan validation completed</returns>
    [Microsoft.AspNetCore.Mvc.HttpPost, Microsoft.AspNetCore.Mvc.Route("goap/validate-plan")]

    public async System.Threading.Tasks.Task<Microsoft.AspNetCore.Mvc.ActionResult<ValidateGoapPlanResponse>> ValidateGoapPlan([Microsoft.AspNetCore.Mvc.FromBody] [Microsoft.AspNetCore.Mvc.ModelBinding.BindRequired] ValidateGoapPlanRequest body, System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
    {

        var (statusCode, result) = await _implementation.ValidateGoapPlanAsync(body, cancellationToken);
        return ConvertToActionResult(statusCode, result);
    }



    #region Meta Endpoints for CompileAbmlBehavior

    private static readonly string _CompileAbmlBehavior_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/CompileBehaviorRequest",
    "$defs": {
        "CompileBehaviorRequest": {
            "description": "Request to compile an ABML behavior definition into executable behavior trees",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "abmlContent"
            ],
            "properties": {
                "abmlContent": {
                    "type": "string",
                    "description": "Raw ABML YAML content to compile",
                    "example": "version: \"1.0.0\"\nmetadata:\n  id: \"example_behavior\"\n  category: \"basic\"\nbehaviors:\n  example:\n    triggers:\n      - condition: \"true\"\n    actions:\n      - log:\n          message: \"Hello World\"\n"
                },
                "behaviorName": {
                    "type": "string",
                    "description": "Optional human-readable name for the behavior.\nIf not provided, extracted from ABML metadata.id or generated from content hash.\n",
                    "example": "blacksmith_daily_routine"
                },
                "behaviorCategory": {
                    "type": "string",
                    "description": "Category for organizing behaviors (e.g., profession, cultural, situational).\nUsed for filtering and grouping in bundles.\n",
                    "enum": [
                        "base",
                        "cultural",
                        "professional",
                        "personal",
                        "situational",
                        "ambient"
                    ],
                    "example": "professional"
                },
                "bundleId": {
                    "type": "string",
                    "description": "Optional bundle identifier for grouping related behaviors.\nWhen specified, the compiled behavior will be added to a bundle with this ID.\nClients can then download entire bundles for efficient bulk loading.\nIf the bundle doesn't exist, it will be created.\n",
                    "example": "blacksmith-behaviors-v1"
                },
                "characterContext": {
                    "$ref": "#/$defs/CharacterContext",
                    "description": "Character context for context variable resolution during compilation"
                },
                "compilationOptions": {
                    "$ref": "#/$defs/CompilationOptions",
                    "description": "Options controlling the compilation process"
                }
            }
        },
        "CharacterContext": {
            "type": "object",
            "additionalProperties": false,
            "description": "Context information about a character for behavior resolution",
            "properties": {
                "npcId": {
                    "type": "string",
                    "description": "Unique identifier for the NPC",
                    "example": "npc_12345"
                },
                "culture": {
                    "type": "string",
                    "description": "Cultural background identifier",
                    "example": "european_medieval"
                },
                "profession": {
                    "type": "string",
                    "description": "Character profession identifier",
                    "example": "blacksmith"
                },
                "stats": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number"
                    },
                    "description": "Character statistics and attributes",
                    "example": {
                        "energy": 0.8,
                        "health": 1.0,
                        "hunger": 0.3
                    }
                },
                "skills": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number"
                    },
                    "description": "Character skill levels",
                    "example": {
                        "blacksmithing": 85,
                        "trading": 42
                    }
                },
                "location": {
                    "$ref": "#/$defs/Location",
                    "description": "Current location information for the character"
                },
                "relationships": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number"
                    },
                    "description": "Relationship values with other characters"
                },
                "worldState": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Relevant world state information"
                }
            }
        },
        "Location": {
            "type": "object",
            "additionalProperties": false,
            "description": "Character location information including current position, region, and 3D coordinates",
            "properties": {
                "current": {
                    "type": "string",
                    "description": "Current location name or identifier"
                },
                "region": {
                    "type": "string",
                    "description": "Region or zone the character is in"
                },
                "coordinates": {
                    "$ref": "#/$defs/Coordinates",
                    "description": "3D spatial coordinates of the character's position in the game world"
                }
            }
        },
        "Coordinates": {
            "type": "object",
            "additionalProperties": false,
            "description": "3D spatial coordinates representing a position in the game world",
            "properties": {
                "x": {
                    "type": "number",
                    "description": "X coordinate position"
                },
                "y": {
                    "type": "number",
                    "description": "Y coordinate position"
                },
                "z": {
                    "type": "number",
                    "description": "Z coordinate position"
                }
            }
        },
        "CompilationOptions": {
            "description": "Options controlling the ABML compilation process including optimizations and caching",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "enableOptimizations": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable behavior tree optimizations"
                },
                "cacheCompiledResult": {
                    "type": "boolean",
                    "default": true,
                    "description": "Cache the compiled behavior for reuse"
                },
                "strictValidation": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable strict validation mode"
                },
                "culturalAdaptations": {
                    "type": "boolean",
                    "default": true,
                    "description": "Apply cultural adaptations during compilation"
                },
                "goapIntegration": {
                    "type": "boolean",
                    "default": true,
                    "description": "Generate GOAP goals from behaviors"
                }
            }
        }
    }
}
""";

    private static readonly string _CompileAbmlBehavior_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/CompileBehaviorResponse",
    "$defs": {
        "CompileBehaviorResponse": {
            "description": "Response containing the results of an ABML behavior compilation",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "success",
                "behaviorId"
            ],
            "properties": {
                "success": {
                    "type": "boolean",
                    "description": "Whether compilation was successful"
                },
                "behaviorId": {
                    "type": "string",
                    "description": "Unique identifier for the compiled behavior (content-addressable hash)",
                    "example": "behavior-a1b2c3d4e5f6g7h8"
                },
                "behaviorName": {
                    "type": "string",
                    "description": "Human-readable name of the behavior",
                    "example": "blacksmith_daily_routine"
                },
                "compiledBehavior": {
                    "$ref": "#/$defs/CompiledBehavior",
                    "description": "The compiled behavior data including behavior tree and metadata"
                },
                "compilationTimeMs": {
                    "type": "integer",
                    "description": "Time taken to compile the behavior in milliseconds"
                },
                "assetId": {
                    "type": "string",
                    "nullable": true,
                    "description": "Asset service ID where the compiled bytecode is stored. Null only when caching is explicitly disabled."
                },
                "bundleId": {
                    "type": "string",
                    "nullable": true,
                    "description": "Bundle ID if the behavior was added to a bundle. Null if not bundled."
                },
                "isUpdate": {
                    "type": "boolean",
                    "description": "True if this replaced an existing behavior with the same content hash"
                },
                "warnings": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Non-fatal warnings during compilation"
                }
            }
        },
        "CompiledBehavior": {
            "description": "Compiled behavior containing behavior tree, context schema, and GOAP integration data",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "behaviorTree",
                "contextSchema"
            ],
            "properties": {
                "behaviorTree": {
                    "$ref": "#/$defs/BehaviorTreeData",
                    "description": "Compiled behavior tree data with bytecode or download reference"
                },
                "contextSchema": {
                    "$ref": "#/$defs/ContextSchemaData",
                    "description": "Schema defining required context variables for execution"
                },
                "serviceDependencies": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of required services for this behavior"
                },
                "goapGoals": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/GoapGoal"
                    },
                    "description": "GOAP goals extracted from the behavior"
                },
                "executionMetadata": {
                    "$ref": "#/$defs/ExecutionMetadata",
                    "description": "Metadata for behavior execution including performance hints and resource requirements"
                }
            }
        },
        "BehaviorTreeData": {
            "type": "object",
            "additionalProperties": false,
            "description": "Compiled behavior tree data with bytecode or download reference",
            "properties": {
                "bytecode": {
                    "type": "string",
                    "description": "Base64-encoded compiled bytecode for the behavior tree"
                },
                "bytecodeSize": {
                    "type": "integer",
                    "description": "Size of the bytecode in bytes"
                },
                "downloadUrl": {
                    "type": "string",
                    "description": "URL to download the compiled behavior asset"
                }
            }
        },
        "ContextSchemaData": {
            "type": "object",
            "description": "Schema defining required context variables for behavior execution",
            "additionalProperties": true
        },
        "GoapGoal": {
            "description": "Goal definition for GOAP planning with conditions and priority",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "name",
                "conditions",
                "priority"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Name of the goal",
                    "example": "satisfy_hunger"
                },
                "description": {
                    "type": "string",
                    "description": "Human-readable description of the goal"
                },
                "conditions": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "World state conditions that satisfy this goal (literal conditions)",
                    "example": {
                        "hunger": "<= 0.3",
                        "gold": ">= 50"
                    }
                },
                "priority": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 100,
                    "description": "Priority of this goal relative to others"
                },
                "preconditions": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "World state conditions required to pursue this goal"
                }
            }
        },
        "ExecutionMetadata": {
            "type": "object",
            "additionalProperties": false,
            "description": "Metadata about behavior execution requirements including timing, resources, and interrupt conditions",
            "properties": {
                "estimatedDuration": {
                    "type": "integer",
                    "description": "Estimated execution time in seconds"
                },
                "resourceRequirements": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number"
                    },
                    "description": "Resource requirements for behavior execution"
                },
                "interruptConditions": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Conditions that can interrupt behavior execution"
                }
            }
        }
    }
}
""";

    private static readonly string _CompileAbmlBehavior_Info = """
{
    "summary": "Compile ABML behavior definition",
    "description": "Compiles a YAML-based ABML behavior definition into executable behavior trees.\nHandles stackable behavior sets, cultural adaptations, and context variable resolution.\n",
    "tags": [
        "ABML"
    ],
    "deprecated": false,
    "operationId": "CompileAbmlBehavior"
}
""";

    /// <summary>Returns endpoint information for CompileAbmlBehavior</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("compile/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CompileAbmlBehavior_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Behavior",
            "Post",
            "compile",
            _CompileAbmlBehavior_Info));

    /// <summary>Returns request schema for CompileAbmlBehavior</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("compile/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CompileAbmlBehavior_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "compile",
            "request-schema",
            _CompileAbmlBehavior_RequestSchema));

    /// <summary>Returns response schema for CompileAbmlBehavior</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("compile/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CompileAbmlBehavior_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "compile",
            "response-schema",
            _CompileAbmlBehavior_ResponseSchema));

    /// <summary>Returns full schema for CompileAbmlBehavior</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("compile/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CompileAbmlBehavior_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Behavior",
            "Post",
            "compile",
            _CompileAbmlBehavior_Info,
            _CompileAbmlBehavior_RequestSchema,
            _CompileAbmlBehavior_ResponseSchema));

    #endregion

    #region Meta Endpoints for CompileBehaviorStack

    private static readonly string _CompileBehaviorStack_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/BehaviorStackRequest",
    "$defs": {
        "BehaviorStackRequest": {
            "description": "Request to compile multiple stackable behavior sets with priority-based merging",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "behaviorSets"
            ],
            "properties": {
                "behaviorSets": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/BehaviorSetDefinition"
                    },
                    "description": "Array of behavior sets to compile together"
                },
                "characterContext": {
                    "$ref": "#/$defs/CharacterContext",
                    "description": "Character context for context variable resolution during compilation"
                },
                "compilationOptions": {
                    "$ref": "#/$defs/CompilationOptions",
                    "description": "Options controlling the compilation process"
                }
            }
        },
        "BehaviorSetDefinition": {
            "description": "Definition of a behavior set with priority for stackable behavior merging",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "id",
                "priority",
                "abmlContent"
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Unique identifier for the behavior set",
                    "example": "base_humanoid"
                },
                "priority": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 100,
                    "description": "Priority level for merging (higher priority overrides lower)",
                    "example": 50
                },
                "category": {
                    "type": "string",
                    "description": "Category of the behavior set",
                    "enum": [
                        "base",
                        "cultural",
                        "professional",
                        "personal",
                        "situational"
                    ]
                },
                "abmlContent": {
                    "type": "string",
                    "description": "Raw ABML YAML content for this behavior set"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Additional metadata for the behavior set"
                }
            }
        },
        "CharacterContext": {
            "type": "object",
            "additionalProperties": false,
            "description": "Context information about a character for behavior resolution",
            "properties": {
                "npcId": {
                    "type": "string",
                    "description": "Unique identifier for the NPC",
                    "example": "npc_12345"
                },
                "culture": {
                    "type": "string",
                    "description": "Cultural background identifier",
                    "example": "european_medieval"
                },
                "profession": {
                    "type": "string",
                    "description": "Character profession identifier",
                    "example": "blacksmith"
                },
                "stats": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number"
                    },
                    "description": "Character statistics and attributes",
                    "example": {
                        "energy": 0.8,
                        "health": 1.0,
                        "hunger": 0.3
                    }
                },
                "skills": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number"
                    },
                    "description": "Character skill levels",
                    "example": {
                        "blacksmithing": 85,
                        "trading": 42
                    }
                },
                "location": {
                    "$ref": "#/$defs/Location",
                    "description": "Current location information for the character"
                },
                "relationships": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number"
                    },
                    "description": "Relationship values with other characters"
                },
                "worldState": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Relevant world state information"
                }
            }
        },
        "Location": {
            "type": "object",
            "additionalProperties": false,
            "description": "Character location information including current position, region, and 3D coordinates",
            "properties": {
                "current": {
                    "type": "string",
                    "description": "Current location name or identifier"
                },
                "region": {
                    "type": "string",
                    "description": "Region or zone the character is in"
                },
                "coordinates": {
                    "$ref": "#/$defs/Coordinates",
                    "description": "3D spatial coordinates of the character's position in the game world"
                }
            }
        },
        "Coordinates": {
            "type": "object",
            "additionalProperties": false,
            "description": "3D spatial coordinates representing a position in the game world",
            "properties": {
                "x": {
                    "type": "number",
                    "description": "X coordinate position"
                },
                "y": {
                    "type": "number",
                    "description": "Y coordinate position"
                },
                "z": {
                    "type": "number",
                    "description": "Z coordinate position"
                }
            }
        },
        "CompilationOptions": {
            "description": "Options controlling the ABML compilation process including optimizations and caching",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "enableOptimizations": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable behavior tree optimizations"
                },
                "cacheCompiledResult": {
                    "type": "boolean",
                    "default": true,
                    "description": "Cache the compiled behavior for reuse"
                },
                "strictValidation": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable strict validation mode"
                },
                "culturalAdaptations": {
                    "type": "boolean",
                    "default": true,
                    "description": "Apply cultural adaptations during compilation"
                },
                "goapIntegration": {
                    "type": "boolean",
                    "default": true,
                    "description": "Generate GOAP goals from behaviors"
                }
            }
        }
    }
}
""";

    private static readonly string _CompileBehaviorStack_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/CompileBehaviorResponse",
    "$defs": {
        "CompileBehaviorResponse": {
            "description": "Response containing the results of an ABML behavior compilation",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "success",
                "behaviorId"
            ],
            "properties": {
                "success": {
                    "type": "boolean",
                    "description": "Whether compilation was successful"
                },
                "behaviorId": {
                    "type": "string",
                    "description": "Unique identifier for the compiled behavior (content-addressable hash)",
                    "example": "behavior-a1b2c3d4e5f6g7h8"
                },
                "behaviorName": {
                    "type": "string",
                    "description": "Human-readable name of the behavior",
                    "example": "blacksmith_daily_routine"
                },
                "compiledBehavior": {
                    "$ref": "#/$defs/CompiledBehavior",
                    "description": "The compiled behavior data including behavior tree and metadata"
                },
                "compilationTimeMs": {
                    "type": "integer",
                    "description": "Time taken to compile the behavior in milliseconds"
                },
                "assetId": {
                    "type": "string",
                    "nullable": true,
                    "description": "Asset service ID where the compiled bytecode is stored. Null only when caching is explicitly disabled."
                },
                "bundleId": {
                    "type": "string",
                    "nullable": true,
                    "description": "Bundle ID if the behavior was added to a bundle. Null if not bundled."
                },
                "isUpdate": {
                    "type": "boolean",
                    "description": "True if this replaced an existing behavior with the same content hash"
                },
                "warnings": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Non-fatal warnings during compilation"
                }
            }
        },
        "CompiledBehavior": {
            "description": "Compiled behavior containing behavior tree, context schema, and GOAP integration data",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "behaviorTree",
                "contextSchema"
            ],
            "properties": {
                "behaviorTree": {
                    "$ref": "#/$defs/BehaviorTreeData",
                    "description": "Compiled behavior tree data with bytecode or download reference"
                },
                "contextSchema": {
                    "$ref": "#/$defs/ContextSchemaData",
                    "description": "Schema defining required context variables for execution"
                },
                "serviceDependencies": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of required services for this behavior"
                },
                "goapGoals": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/GoapGoal"
                    },
                    "description": "GOAP goals extracted from the behavior"
                },
                "executionMetadata": {
                    "$ref": "#/$defs/ExecutionMetadata",
                    "description": "Metadata for behavior execution including performance hints and resource requirements"
                }
            }
        },
        "BehaviorTreeData": {
            "type": "object",
            "additionalProperties": false,
            "description": "Compiled behavior tree data with bytecode or download reference",
            "properties": {
                "bytecode": {
                    "type": "string",
                    "description": "Base64-encoded compiled bytecode for the behavior tree"
                },
                "bytecodeSize": {
                    "type": "integer",
                    "description": "Size of the bytecode in bytes"
                },
                "downloadUrl": {
                    "type": "string",
                    "description": "URL to download the compiled behavior asset"
                }
            }
        },
        "ContextSchemaData": {
            "type": "object",
            "description": "Schema defining required context variables for behavior execution",
            "additionalProperties": true
        },
        "GoapGoal": {
            "description": "Goal definition for GOAP planning with conditions and priority",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "name",
                "conditions",
                "priority"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Name of the goal",
                    "example": "satisfy_hunger"
                },
                "description": {
                    "type": "string",
                    "description": "Human-readable description of the goal"
                },
                "conditions": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "World state conditions that satisfy this goal (literal conditions)",
                    "example": {
                        "hunger": "<= 0.3",
                        "gold": ">= 50"
                    }
                },
                "priority": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 100,
                    "description": "Priority of this goal relative to others"
                },
                "preconditions": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "World state conditions required to pursue this goal"
                }
            }
        },
        "ExecutionMetadata": {
            "type": "object",
            "additionalProperties": false,
            "description": "Metadata about behavior execution requirements including timing, resources, and interrupt conditions",
            "properties": {
                "estimatedDuration": {
                    "type": "integer",
                    "description": "Estimated execution time in seconds"
                },
                "resourceRequirements": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number"
                    },
                    "description": "Resource requirements for behavior execution"
                },
                "interruptConditions": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Conditions that can interrupt behavior execution"
                }
            }
        }
    }
}
""";

    private static readonly string _CompileBehaviorStack_Info = """
{
    "summary": "Compile stackable behavior sets",
    "description": "Compiles multiple ABML behavior sets with priority-based merging.\nHandles cultural adaptations, profession specializations, and context resolution.\n",
    "tags": [
        "BehaviorStacks"
    ],
    "deprecated": false,
    "operationId": "CompileBehaviorStack"
}
""";

    /// <summary>Returns endpoint information for CompileBehaviorStack</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("stack/compile/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CompileBehaviorStack_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Behavior",
            "Post",
            "stack/compile",
            _CompileBehaviorStack_Info));

    /// <summary>Returns request schema for CompileBehaviorStack</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("stack/compile/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CompileBehaviorStack_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "stack/compile",
            "request-schema",
            _CompileBehaviorStack_RequestSchema));

    /// <summary>Returns response schema for CompileBehaviorStack</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("stack/compile/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CompileBehaviorStack_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "stack/compile",
            "response-schema",
            _CompileBehaviorStack_ResponseSchema));

    /// <summary>Returns full schema for CompileBehaviorStack</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("stack/compile/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CompileBehaviorStack_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Behavior",
            "Post",
            "stack/compile",
            _CompileBehaviorStack_Info,
            _CompileBehaviorStack_RequestSchema,
            _CompileBehaviorStack_ResponseSchema));

    #endregion

    #region Meta Endpoints for ValidateAbml

    private static readonly string _ValidateAbml_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ValidateAbmlRequest",
    "$defs": {
        "ValidateAbmlRequest": {
            "description": "Request to validate ABML YAML content against schema and semantic rules",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "abmlContent"
            ],
            "properties": {
                "abmlContent": {
                    "type": "string",
                    "description": "Raw ABML YAML content to validate"
                },
                "strictMode": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable strict validation mode with enhanced checking"
                }
            }
        }
    }
}
""";

    private static readonly string _ValidateAbml_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ValidateAbmlResponse",
    "$defs": {
        "ValidateAbmlResponse": {
            "description": "Response containing the results of ABML validation including errors and warnings",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "isValid"
            ],
            "properties": {
                "isValid": {
                    "type": "boolean",
                    "description": "Whether the ABML definition is valid"
                },
                "validationErrors": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/ValidationError"
                    },
                    "description": "List of validation errors if invalid"
                },
                "semanticWarnings": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Semantic warnings that don't prevent compilation"
                },
                "schemaVersion": {
                    "type": "string",
                    "description": "ABML schema version used for validation"
                }
            }
        },
        "ValidationError": {
            "description": "Detailed validation error with type, location, and message information",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "type",
                "message"
            ],
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "syntax",
                        "semantic",
                        "schema",
                        "context",
                        "service_dependency"
                    ],
                    "description": "Type of validation error"
                },
                "message": {
                    "type": "string",
                    "description": "Human-readable error message"
                },
                "lineNumber": {
                    "type": "integer",
                    "description": "Line number where the error occurred (if applicable)"
                },
                "columnNumber": {
                    "type": "integer",
                    "description": "Column number where the error occurred (if applicable)"
                },
                "yamlPath": {
                    "type": "string",
                    "description": "YAML path to the problematic element",
                    "example": "behaviors.morning_startup.actions[0]"
                }
            }
        }
    }
}
""";

    private static readonly string _ValidateAbml_Info = """
{
    "summary": "Validate ABML definition",
    "description": "Validates ABML YAML against schema and checks for semantic correctness.\nIncludes context variable validation and service dependency checking.\n",
    "tags": [
        "Validation"
    ],
    "deprecated": false,
    "operationId": "ValidateAbml"
}
""";

    /// <summary>Returns endpoint information for ValidateAbml</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("validate/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ValidateAbml_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Behavior",
            "Post",
            "validate",
            _ValidateAbml_Info));

    /// <summary>Returns request schema for ValidateAbml</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("validate/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ValidateAbml_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "validate",
            "request-schema",
            _ValidateAbml_RequestSchema));

    /// <summary>Returns response schema for ValidateAbml</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("validate/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ValidateAbml_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "validate",
            "response-schema",
            _ValidateAbml_ResponseSchema));

    /// <summary>Returns full schema for ValidateAbml</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("validate/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ValidateAbml_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Behavior",
            "Post",
            "validate",
            _ValidateAbml_Info,
            _ValidateAbml_RequestSchema,
            _ValidateAbml_ResponseSchema));

    #endregion

    #region Meta Endpoints for GetCachedBehavior

    private static readonly string _GetCachedBehavior_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/GetCachedBehaviorRequest",
    "$defs": {
        "GetCachedBehaviorRequest": {
            "type": "object",
            "additionalProperties": false,
            "description": "Request to get a cached compiled behavior",
            "required": [
                "behaviorId"
            ],
            "properties": {
                "behaviorId": {
                    "type": "string",
                    "description": "Unique identifier for the cached behavior"
                }
            }
        }
    }
}
""";

    private static readonly string _GetCachedBehavior_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/CachedBehaviorResponse",
    "$defs": {
        "CachedBehaviorResponse": {
            "description": "Response containing a previously compiled behavior retrieved from cache",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "behaviorId",
                "compiledBehavior"
            ],
            "properties": {
                "behaviorId": {
                    "type": "string",
                    "description": "Unique identifier for the cached behavior"
                },
                "compiledBehavior": {
                    "$ref": "#/$defs/CompiledBehavior",
                    "description": "The compiled behavior data retrieved from cache"
                },
                "cacheTimestamp": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When the behavior was cached"
                },
                "cacheHit": {
                    "type": "boolean",
                    "description": "Whether this was a cache hit or miss"
                }
            }
        },
        "CompiledBehavior": {
            "description": "Compiled behavior containing behavior tree, context schema, and GOAP integration data",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "behaviorTree",
                "contextSchema"
            ],
            "properties": {
                "behaviorTree": {
                    "$ref": "#/$defs/BehaviorTreeData",
                    "description": "Compiled behavior tree data with bytecode or download reference"
                },
                "contextSchema": {
                    "$ref": "#/$defs/ContextSchemaData",
                    "description": "Schema defining required context variables for execution"
                },
                "serviceDependencies": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of required services for this behavior"
                },
                "goapGoals": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/GoapGoal"
                    },
                    "description": "GOAP goals extracted from the behavior"
                },
                "executionMetadata": {
                    "$ref": "#/$defs/ExecutionMetadata",
                    "description": "Metadata for behavior execution including performance hints and resource requirements"
                }
            }
        },
        "BehaviorTreeData": {
            "type": "object",
            "additionalProperties": false,
            "description": "Compiled behavior tree data with bytecode or download reference",
            "properties": {
                "bytecode": {
                    "type": "string",
                    "description": "Base64-encoded compiled bytecode for the behavior tree"
                },
                "bytecodeSize": {
                    "type": "integer",
                    "description": "Size of the bytecode in bytes"
                },
                "downloadUrl": {
                    "type": "string",
                    "description": "URL to download the compiled behavior asset"
                }
            }
        },
        "ContextSchemaData": {
            "type": "object",
            "description": "Schema defining required context variables for behavior execution",
            "additionalProperties": true
        },
        "GoapGoal": {
            "description": "Goal definition for GOAP planning with conditions and priority",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "name",
                "conditions",
                "priority"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Name of the goal",
                    "example": "satisfy_hunger"
                },
                "description": {
                    "type": "string",
                    "description": "Human-readable description of the goal"
                },
                "conditions": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "World state conditions that satisfy this goal (literal conditions)",
                    "example": {
                        "hunger": "<= 0.3",
                        "gold": ">= 50"
                    }
                },
                "priority": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 100,
                    "description": "Priority of this goal relative to others"
                },
                "preconditions": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "World state conditions required to pursue this goal"
                }
            }
        },
        "ExecutionMetadata": {
            "type": "object",
            "additionalProperties": false,
            "description": "Metadata about behavior execution requirements including timing, resources, and interrupt conditions",
            "properties": {
                "estimatedDuration": {
                    "type": "integer",
                    "description": "Estimated execution time in seconds"
                },
                "resourceRequirements": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number"
                    },
                    "description": "Resource requirements for behavior execution"
                },
                "interruptConditions": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Conditions that can interrupt behavior execution"
                }
            }
        }
    }
}
""";

    private static readonly string _GetCachedBehavior_Info = """
{
    "summary": "Get cached compiled behavior",
    "description": "Retrieves a previously compiled behavior from the cache.\nUsed for performance optimization in high-frequency behavior execution.\n",
    "tags": [
        "Cache"
    ],
    "deprecated": false,
    "operationId": "GetCachedBehavior"
}
""";

    /// <summary>Returns endpoint information for GetCachedBehavior</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("cache/get/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetCachedBehavior_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Behavior",
            "Post",
            "cache/get",
            _GetCachedBehavior_Info));

    /// <summary>Returns request schema for GetCachedBehavior</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("cache/get/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetCachedBehavior_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "cache/get",
            "request-schema",
            _GetCachedBehavior_RequestSchema));

    /// <summary>Returns response schema for GetCachedBehavior</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("cache/get/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetCachedBehavior_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "cache/get",
            "response-schema",
            _GetCachedBehavior_ResponseSchema));

    /// <summary>Returns full schema for GetCachedBehavior</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("cache/get/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetCachedBehavior_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Behavior",
            "Post",
            "cache/get",
            _GetCachedBehavior_Info,
            _GetCachedBehavior_RequestSchema,
            _GetCachedBehavior_ResponseSchema));

    #endregion

    #region Meta Endpoints for InvalidateCachedBehavior

    private static readonly string _InvalidateCachedBehavior_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/InvalidateCacheRequest",
    "$defs": {
        "InvalidateCacheRequest": {
            "type": "object",
            "additionalProperties": false,
            "description": "Request to invalidate a cached behavior",
            "required": [
                "behaviorId"
            ],
            "properties": {
                "behaviorId": {
                    "type": "string",
                    "description": "Unique identifier for the cached behavior to invalidate"
                }
            }
        }
    }
}
""";

    private static readonly string _InvalidateCachedBehavior_ResponseSchema = """
{}
""";

    private static readonly string _InvalidateCachedBehavior_Info = """
{
    "summary": "Invalidate cached behavior",
    "description": "Removes a behavior from the cache, forcing recompilation on next access.\nUsed when behavior definitions are updated.\n",
    "tags": [
        "Cache"
    ],
    "deprecated": false,
    "operationId": "InvalidateCachedBehavior"
}
""";

    /// <summary>Returns endpoint information for InvalidateCachedBehavior</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("cache/invalidate/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> InvalidateCachedBehavior_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Behavior",
            "Post",
            "cache/invalidate",
            _InvalidateCachedBehavior_Info));

    /// <summary>Returns request schema for InvalidateCachedBehavior</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("cache/invalidate/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> InvalidateCachedBehavior_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "cache/invalidate",
            "request-schema",
            _InvalidateCachedBehavior_RequestSchema));

    /// <summary>Returns response schema for InvalidateCachedBehavior</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("cache/invalidate/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> InvalidateCachedBehavior_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "cache/invalidate",
            "response-schema",
            _InvalidateCachedBehavior_ResponseSchema));

    /// <summary>Returns full schema for InvalidateCachedBehavior</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("cache/invalidate/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> InvalidateCachedBehavior_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Behavior",
            "Post",
            "cache/invalidate",
            _InvalidateCachedBehavior_Info,
            _InvalidateCachedBehavior_RequestSchema,
            _InvalidateCachedBehavior_ResponseSchema));

    #endregion

    #region Meta Endpoints for ResolveContextVariables

    private static readonly string _ResolveContextVariables_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ResolveContextRequest",
    "$defs": {
        "ResolveContextRequest": {
            "description": "Request to resolve context variable expressions against character and world state",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "contextExpression",
                "characterContext"
            ],
            "properties": {
                "contextExpression": {
                    "type": "string",
                    "description": "Context variable expression to resolve",
                    "example": "${npc.stats.energy > 0.5 && world.time.hour < 18}"
                },
                "characterContext": {
                    "$ref": "#/$defs/CharacterContext",
                    "description": "Character context providing values for variable resolution"
                }
            }
        },
        "CharacterContext": {
            "type": "object",
            "additionalProperties": false,
            "description": "Context information about a character for behavior resolution",
            "properties": {
                "npcId": {
                    "type": "string",
                    "description": "Unique identifier for the NPC",
                    "example": "npc_12345"
                },
                "culture": {
                    "type": "string",
                    "description": "Cultural background identifier",
                    "example": "european_medieval"
                },
                "profession": {
                    "type": "string",
                    "description": "Character profession identifier",
                    "example": "blacksmith"
                },
                "stats": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number"
                    },
                    "description": "Character statistics and attributes",
                    "example": {
                        "energy": 0.8,
                        "health": 1.0,
                        "hunger": 0.3
                    }
                },
                "skills": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number"
                    },
                    "description": "Character skill levels",
                    "example": {
                        "blacksmithing": 85,
                        "trading": 42
                    }
                },
                "location": {
                    "$ref": "#/$defs/Location",
                    "description": "Current location information for the character"
                },
                "relationships": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number"
                    },
                    "description": "Relationship values with other characters"
                },
                "worldState": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Relevant world state information"
                }
            }
        },
        "Location": {
            "type": "object",
            "additionalProperties": false,
            "description": "Character location information including current position, region, and 3D coordinates",
            "properties": {
                "current": {
                    "type": "string",
                    "description": "Current location name or identifier"
                },
                "region": {
                    "type": "string",
                    "description": "Region or zone the character is in"
                },
                "coordinates": {
                    "$ref": "#/$defs/Coordinates",
                    "description": "3D spatial coordinates of the character's position in the game world"
                }
            }
        },
        "Coordinates": {
            "type": "object",
            "additionalProperties": false,
            "description": "3D spatial coordinates representing a position in the game world",
            "properties": {
                "x": {
                    "type": "number",
                    "description": "X coordinate position"
                },
                "y": {
                    "type": "number",
                    "description": "Y coordinate position"
                },
                "z": {
                    "type": "number",
                    "description": "Z coordinate position"
                }
            }
        }
    }
}
""";

    private static readonly string _ResolveContextVariables_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ResolveContextResponse",
    "$defs": {
        "ResolveContextResponse": {
            "description": "Response containing the resolved value of a context variable expression",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "resolvedValue"
            ],
            "properties": {
                "resolvedValue": {
                    "description": "The resolved value of the context expression"
                },
                "resolvedType": {
                    "type": "string",
                    "enum": [
                        "boolean",
                        "string",
                        "number",
                        "object",
                        "array"
                    ],
                    "description": "Type of the resolved value"
                },
                "contextVariablesUsed": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of context variables referenced in the expression"
                }
            }
        }
    }
}
""";

    private static readonly string _ResolveContextVariables_Info = """
{
    "summary": "Resolve context variables",
    "description": "Resolves context variables in ABML definitions against character and world state.\nUsed for dynamic behavior adaptation based on current game state.\n",
    "tags": [
        "Context"
    ],
    "deprecated": false,
    "operationId": "ResolveContextVariables"
}
""";

    /// <summary>Returns endpoint information for ResolveContextVariables</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("context/resolve/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ResolveContextVariables_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Behavior",
            "Post",
            "context/resolve",
            _ResolveContextVariables_Info));

    /// <summary>Returns request schema for ResolveContextVariables</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("context/resolve/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ResolveContextVariables_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "context/resolve",
            "request-schema",
            _ResolveContextVariables_RequestSchema));

    /// <summary>Returns response schema for ResolveContextVariables</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("context/resolve/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ResolveContextVariables_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "context/resolve",
            "response-schema",
            _ResolveContextVariables_ResponseSchema));

    /// <summary>Returns full schema for ResolveContextVariables</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("context/resolve/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ResolveContextVariables_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Behavior",
            "Post",
            "context/resolve",
            _ResolveContextVariables_Info,
            _ResolveContextVariables_RequestSchema,
            _ResolveContextVariables_ResponseSchema));

    #endregion

    #region Meta Endpoints for GenerateGoapPlan

    private static readonly string _GenerateGoapPlan_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/GoapPlanRequest",
    "$defs": {
        "GoapPlanRequest": {
            "description": "Request to generate a GOAP plan to achieve a goal from current world state",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "goal",
                "worldState",
                "behaviorId"
            ],
            "properties": {
                "agentId": {
                    "type": "string",
                    "description": "Unique identifier for the agent requesting the plan"
                },
                "goal": {
                    "$ref": "#/$defs/GoapGoal",
                    "description": "The goal to achieve through planning"
                },
                "worldState": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Current world state as key-value pairs",
                    "example": {
                        "hunger": 0.8,
                        "gold": 50,
                        "location": "home"
                    }
                },
                "behaviorId": {
                    "type": "string",
                    "description": "ID of compiled behavior containing GOAP actions"
                },
                "options": {
                    "$ref": "#/$defs/GoapPlanningOptions",
                    "description": "Options controlling the planning process"
                }
            }
        },
        "GoapGoal": {
            "description": "Goal definition for GOAP planning with conditions and priority",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "name",
                "conditions",
                "priority"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Name of the goal",
                    "example": "satisfy_hunger"
                },
                "description": {
                    "type": "string",
                    "description": "Human-readable description of the goal"
                },
                "conditions": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "World state conditions that satisfy this goal (literal conditions)",
                    "example": {
                        "hunger": "<= 0.3",
                        "gold": ">= 50"
                    }
                },
                "priority": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 100,
                    "description": "Priority of this goal relative to others"
                },
                "preconditions": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "World state conditions required to pursue this goal"
                }
            }
        },
        "GoapPlanningOptions": {
            "description": "Options controlling the GOAP planning process including depth and timeout limits",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "maxDepth": {
                    "type": "integer",
                    "default": 10,
                    "description": "Maximum plan depth (number of actions)"
                },
                "maxNodes": {
                    "type": "integer",
                    "default": 1000,
                    "description": "Maximum nodes to expand during search"
                },
                "timeoutMs": {
                    "type": "integer",
                    "default": 100,
                    "description": "Planning timeout in milliseconds"
                }
            }
        }
    }
}
""";

    private static readonly string _GenerateGoapPlan_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/GoapPlanResponse",
    "$defs": {
        "GoapPlanResponse": {
            "description": "Response containing the generated GOAP plan or failure information",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "success"
            ],
            "properties": {
                "success": {
                    "type": "boolean",
                    "description": "Whether planning was successful"
                },
                "plan": {
                    "$ref": "#/$defs/GoapPlanResult",
                    "description": "The generated plan if successful"
                },
                "planningTimeMs": {
                    "type": "integer",
                    "description": "Time spent planning in milliseconds"
                },
                "nodesExpanded": {
                    "type": "integer",
                    "description": "Number of nodes expanded during A* search"
                },
                "failureReason": {
                    "type": "string",
                    "description": "Reason for planning failure if unsuccessful",
                    "example": "No plan found - goal unreachable"
                }
            }
        },
        "GoapPlanResult": {
            "description": "Result of GOAP planning containing the ordered sequence of actions to achieve a goal",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "goalId",
                "actions",
                "totalCost"
            ],
            "properties": {
                "goalId": {
                    "type": "string",
                    "description": "ID of the goal this plan achieves"
                },
                "actions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/PlannedActionResponse"
                    },
                    "description": "Ordered sequence of actions to execute"
                },
                "totalCost": {
                    "type": "number",
                    "format": "float",
                    "description": "Total cost of all actions in the plan"
                }
            }
        },
        "PlannedActionResponse": {
            "description": "Single action within a GOAP plan with position and cost information",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "actionId",
                "index",
                "cost"
            ],
            "properties": {
                "actionId": {
                    "type": "string",
                    "description": "ID of the action (flow name)"
                },
                "index": {
                    "type": "integer",
                    "description": "Position in the plan sequence"
                },
                "cost": {
                    "type": "number",
                    "format": "float",
                    "description": "Cost of this action"
                }
            }
        }
    }
}
""";

    private static readonly string _GenerateGoapPlan_Info = """
{
    "summary": "Generate GOAP plan",
    "description": "Generates a GOAP plan to achieve a goal from the current world state.\nUses A* search to find the optimal sequence of actions.\n",
    "tags": [
        "GOAP"
    ],
    "deprecated": false,
    "operationId": "GenerateGoapPlan"
}
""";

    /// <summary>Returns endpoint information for GenerateGoapPlan</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("goap/plan/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GenerateGoapPlan_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Behavior",
            "Post",
            "goap/plan",
            _GenerateGoapPlan_Info));

    /// <summary>Returns request schema for GenerateGoapPlan</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("goap/plan/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GenerateGoapPlan_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "goap/plan",
            "request-schema",
            _GenerateGoapPlan_RequestSchema));

    /// <summary>Returns response schema for GenerateGoapPlan</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("goap/plan/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GenerateGoapPlan_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "goap/plan",
            "response-schema",
            _GenerateGoapPlan_ResponseSchema));

    /// <summary>Returns full schema for GenerateGoapPlan</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("goap/plan/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GenerateGoapPlan_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Behavior",
            "Post",
            "goap/plan",
            _GenerateGoapPlan_Info,
            _GenerateGoapPlan_RequestSchema,
            _GenerateGoapPlan_ResponseSchema));

    #endregion

    #region Meta Endpoints for ValidateGoapPlan

    private static readonly string _ValidateGoapPlan_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ValidateGoapPlanRequest",
    "$defs": {
        "ValidateGoapPlanRequest": {
            "description": "Request to validate an existing GOAP plan against current world state",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "plan",
                "currentActionIndex",
                "worldState"
            ],
            "properties": {
                "plan": {
                    "$ref": "#/$defs/GoapPlanResult",
                    "description": "The plan to validate"
                },
                "currentActionIndex": {
                    "type": "integer",
                    "description": "Index of the action currently being executed"
                },
                "worldState": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Current world state"
                },
                "activeGoals": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/GoapGoal"
                    },
                    "description": "All active goals for priority checking"
                }
            }
        },
        "GoapPlanResult": {
            "description": "Result of GOAP planning containing the ordered sequence of actions to achieve a goal",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "goalId",
                "actions",
                "totalCost"
            ],
            "properties": {
                "goalId": {
                    "type": "string",
                    "description": "ID of the goal this plan achieves"
                },
                "actions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/PlannedActionResponse"
                    },
                    "description": "Ordered sequence of actions to execute"
                },
                "totalCost": {
                    "type": "number",
                    "format": "float",
                    "description": "Total cost of all actions in the plan"
                }
            }
        },
        "PlannedActionResponse": {
            "description": "Single action within a GOAP plan with position and cost information",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "actionId",
                "index",
                "cost"
            ],
            "properties": {
                "actionId": {
                    "type": "string",
                    "description": "ID of the action (flow name)"
                },
                "index": {
                    "type": "integer",
                    "description": "Position in the plan sequence"
                },
                "cost": {
                    "type": "number",
                    "format": "float",
                    "description": "Cost of this action"
                }
            }
        },
        "GoapGoal": {
            "description": "Goal definition for GOAP planning with conditions and priority",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "name",
                "conditions",
                "priority"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Name of the goal",
                    "example": "satisfy_hunger"
                },
                "description": {
                    "type": "string",
                    "description": "Human-readable description of the goal"
                },
                "conditions": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "World state conditions that satisfy this goal (literal conditions)",
                    "example": {
                        "hunger": "<= 0.3",
                        "gold": ">= 50"
                    }
                },
                "priority": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 100,
                    "description": "Priority of this goal relative to others"
                },
                "preconditions": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "World state conditions required to pursue this goal"
                }
            }
        }
    }
}
""";

    private static readonly string _ValidateGoapPlan_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ValidateGoapPlanResponse",
    "$defs": {
        "ValidateGoapPlanResponse": {
            "description": "Response indicating whether a GOAP plan is still valid and suggested next action",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "isValid",
                "reason",
                "suggestedAction"
            ],
            "properties": {
                "isValid": {
                    "type": "boolean",
                    "description": "Whether the plan is still valid"
                },
                "reason": {
                    "type": "string",
                    "enum": [
                        "none",
                        "preconditionInvalidated",
                        "actionFailed",
                        "betterGoalAvailable",
                        "planCompleted",
                        "goalAlreadySatisfied",
                        "suboptimalPlan"
                    ],
                    "description": "Reason for the validation result"
                },
                "suggestedAction": {
                    "type": "string",
                    "enum": [
                        "continue",
                        "replan",
                        "abort"
                    ],
                    "description": "Suggested action based on validation"
                },
                "invalidatedAtIndex": {
                    "type": "integer",
                    "description": "Index where plan became invalid (if applicable)"
                },
                "message": {
                    "type": "string",
                    "nullable": true,
                    "description": "Additional details about the validation result. Null when no additional context is needed."
                }
            }
        }
    }
}
""";

    private static readonly string _ValidateGoapPlan_Info = """
{
    "summary": "Validate existing GOAP plan",
    "description": "Validates an existing GOAP plan against the current world state.\nReturns whether the plan is still valid or needs replanning.\n",
    "tags": [
        "GOAP"
    ],
    "deprecated": false,
    "operationId": "ValidateGoapPlan"
}
""";

    /// <summary>Returns endpoint information for ValidateGoapPlan</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("goap/validate-plan/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ValidateGoapPlan_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Behavior",
            "Post",
            "goap/validate-plan",
            _ValidateGoapPlan_Info));

    /// <summary>Returns request schema for ValidateGoapPlan</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("goap/validate-plan/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ValidateGoapPlan_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "goap/validate-plan",
            "request-schema",
            _ValidateGoapPlan_RequestSchema));

    /// <summary>Returns response schema for ValidateGoapPlan</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("goap/validate-plan/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ValidateGoapPlan_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Behavior",
            "Post",
            "goap/validate-plan",
            "response-schema",
            _ValidateGoapPlan_ResponseSchema));

    /// <summary>Returns full schema for ValidateGoapPlan</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("goap/validate-plan/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ValidateGoapPlan_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Behavior",
            "Post",
            "goap/validate-plan",
            _ValidateGoapPlan_Info,
            _ValidateGoapPlan_RequestSchema,
            _ValidateGoapPlan_ResponseSchema));

    #endregion

}



#pragma warning restore  108
#pragma warning restore  114
#pragma warning restore  472
#pragma warning restore  612
#pragma warning restore  649
#pragma warning restore 1573
#pragma warning restore 1591
#pragma warning restore 8073
#pragma warning restore 3016
#pragma warning restore 8600
#pragma warning restore 8602
#pragma warning restore 8603
#pragma warning restore 8604
#pragma warning restore 8625
#pragma warning restore 8765