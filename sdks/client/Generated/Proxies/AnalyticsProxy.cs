// <auto-generated>
// This code was generated by generate-client-proxies.py
// Do not edit this file manually.
// </auto-generated>

#nullable enable

using BeyondImmersion.Bannou.Core;
using BeyondImmersion.BannouService.Analytics;

namespace BeyondImmersion.Bannou.Client.Proxies;

/// <summary>
/// Typed proxy for Bannou Analytics Service API API endpoints.
/// </summary>
public sealed class AnalyticsProxy
{
    private readonly IBannouClient _client;

    /// <summary>
    /// Creates a new AnalyticsProxy instance.
    /// </summary>
    /// <param name="client">The underlying Bannou client.</param>
    internal AnalyticsProxy(IBannouClient client)
    {
        _client = client ?? throw new ArgumentNullException(nameof(client));
    }

    /// <summary>
    /// Ingest a single analytics event
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing IngestEventResponse on success.</returns>
    public Task<ApiResponse<IngestEventResponse>> IngestEventAsync(
        IngestEventRequest request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<IngestEventRequest, IngestEventResponse>(
            "POST", "/analytics/event/ingest", request, channel, timeout, cancellationToken);
    }

    /// <summary>
    /// Ingest multiple analytics events
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing IngestEventBatchResponse on success.</returns>
    public Task<ApiResponse<IngestEventBatchResponse>> IngestEventBatchAsync(
        IngestEventBatchRequest request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<IngestEventBatchRequest, IngestEventBatchResponse>(
            "POST", "/analytics/event/ingest-batch", request, channel, timeout, cancellationToken);
    }

    /// <summary>
    /// Get entity statistics summary
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing EntitySummaryResponse on success.</returns>
    public Task<ApiResponse<EntitySummaryResponse>> GetEntitySummaryAsync(
        GetEntitySummaryRequest request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<GetEntitySummaryRequest, EntitySummaryResponse>(
            "POST", "/analytics/summary/get", request, channel, timeout, cancellationToken);
    }

    /// <summary>
    /// Query entity summaries with filters
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing QueryEntitySummariesResponse on success.</returns>
    public Task<ApiResponse<QueryEntitySummariesResponse>> QueryEntitySummariesAsync(
        QueryEntitySummariesRequest request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<QueryEntitySummariesRequest, QueryEntitySummariesResponse>(
            "POST", "/analytics/summary/query", request, channel, timeout, cancellationToken);
    }

    /// <summary>
    /// Get entity Glicko-2 skill rating
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing SkillRatingResponse on success.</returns>
    public Task<ApiResponse<SkillRatingResponse>> GetSkillRatingAsync(
        GetSkillRatingRequest request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<GetSkillRatingRequest, SkillRatingResponse>(
            "POST", "/analytics/rating/get", request, channel, timeout, cancellationToken);
    }

    /// <summary>
    /// Update entity skill rating after match
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing UpdateSkillRatingResponse on success.</returns>
    public Task<ApiResponse<UpdateSkillRatingResponse>> UpdateSkillRatingAsync(
        UpdateSkillRatingRequest request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<UpdateSkillRatingRequest, UpdateSkillRatingResponse>(
            "POST", "/analytics/rating/update", request, channel, timeout, cancellationToken);
    }

    /// <summary>
    /// Record controller possession event
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>Task that completes when the event is sent.</returns>
    public Task RecordControllerEventEventAsync(
        RecordControllerEventRequest request,
        ushort channel = 0,
        CancellationToken cancellationToken = default)
    {
        return _client.SendEventAsync<RecordControllerEventRequest>(
            "POST", "/analytics/controller-history/record", request, channel, cancellationToken);
    }

    /// <summary>
    /// Query controller history
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing QueryControllerHistoryResponse on success.</returns>
    public Task<ApiResponse<QueryControllerHistoryResponse>> QueryControllerHistoryAsync(
        QueryControllerHistoryRequest request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<QueryControllerHistoryRequest, QueryControllerHistoryResponse>(
            "POST", "/analytics/controller-history/query", request, channel, timeout, cancellationToken);
    }
}
