// <auto-generated>
// This code was generated by generate-client-proxies.py
// Do not edit this file manually.
// </auto-generated>

#nullable enable

using BeyondImmersion.Bannou.Core;
using BeyondImmersion.BannouService.Voice;

namespace BeyondImmersion.Bannou.Client.Proxies;

/// <summary>
/// Typed proxy for Bannou Voice Service API API endpoints.
/// </summary>
public sealed class VoiceProxy
{
    private readonly IBannouClient _client;

    /// <summary>
    /// Creates a new VoiceProxy instance.
    /// </summary>
    /// <param name="client">The underlying Bannou client.</param>
    internal VoiceProxy(IBannouClient client)
    {
        _client = client ?? throw new ArgumentNullException(nameof(client));
    }

    /// <summary>
    /// Create a new voice room
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing VoiceRoomResponse on success.</returns>
    public Task<ApiResponse<VoiceRoomResponse>> CreateVoiceRoomAsync(
        CreateVoiceRoomRequest request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<CreateVoiceRoomRequest, VoiceRoomResponse>(
            "/voice/room/create", request, channel, timeout, cancellationToken);
    }

    /// <summary>
    /// Get voice room details
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing VoiceRoomResponse on success.</returns>
    public Task<ApiResponse<VoiceRoomResponse>> GetVoiceRoomAsync(
        GetVoiceRoomRequest request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<GetVoiceRoomRequest, VoiceRoomResponse>(
            "/voice/room/get", request, channel, timeout, cancellationToken);
    }

    /// <summary>
    /// Join voice room and register SIP endpoint
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing JoinVoiceRoomResponse on success.</returns>
    public Task<ApiResponse<JoinVoiceRoomResponse>> JoinVoiceRoomAsync(
        JoinVoiceRoomRequest request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<JoinVoiceRoomRequest, JoinVoiceRoomResponse>(
            "/voice/room/join", request, channel, timeout, cancellationToken);
    }

    /// <summary>
    /// Leave voice room
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>Task that completes when the event is sent.</returns>
    public Task LeaveVoiceRoomEventAsync(
        LeaveVoiceRoomRequest request,
        ushort channel = 0,
        CancellationToken cancellationToken = default)
    {
        return _client.SendEventAsync<LeaveVoiceRoomRequest>(
            "/voice/room/leave", request, channel, cancellationToken);
    }

    /// <summary>
    /// Delete voice room
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>Task that completes when the event is sent.</returns>
    public Task DeleteVoiceRoomEventAsync(
        DeleteVoiceRoomRequest request,
        ushort channel = 0,
        CancellationToken cancellationToken = default)
    {
        return _client.SendEventAsync<DeleteVoiceRoomRequest>(
            "/voice/room/delete", request, channel, cancellationToken);
    }

    /// <summary>
    /// Update peer endpoint TTL
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>Task that completes when the event is sent.</returns>
    public Task PeerHeartbeatEventAsync(
        PeerHeartbeatRequest request,
        ushort channel = 0,
        CancellationToken cancellationToken = default)
    {
        return _client.SendEventAsync<PeerHeartbeatRequest>(
            "/voice/peer/heartbeat", request, channel, cancellationToken);
    }

    /// <summary>
    /// Send SDP answer to complete WebRTC handshake
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>Task that completes when the event is sent.</returns>
    public Task AnswerPeerEventAsync(
        AnswerPeerRequest request,
        ushort channel = 0,
        CancellationToken cancellationToken = default)
    {
        return _client.SendEventAsync<AnswerPeerRequest>(
            "/voice/peer/answer", request, channel, cancellationToken);
    }

    /// <summary>
    /// Request broadcast consent from all room participants
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing BroadcastConsentStatus on success.</returns>
    public Task<ApiResponse<BroadcastConsentStatus>> RequestBroadcastConsentAsync(
        BroadcastConsentRequest request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<BroadcastConsentRequest, BroadcastConsentStatus>(
            "/voice/room/broadcast/request", request, channel, timeout, cancellationToken);
    }

    /// <summary>
    /// Respond to a broadcast consent request
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing BroadcastConsentStatus on success.</returns>
    public Task<ApiResponse<BroadcastConsentStatus>> RespondBroadcastConsentAsync(
        BroadcastConsentResponse request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<BroadcastConsentResponse, BroadcastConsentStatus>(
            "/voice/room/broadcast/consent", request, channel, timeout, cancellationToken);
    }

    /// <summary>
    /// Stop broadcasting from a voice room
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>Task that completes when the event is sent.</returns>
    public Task StopBroadcastEventAsync(
        StopBroadcastConsentRequest request,
        ushort channel = 0,
        CancellationToken cancellationToken = default)
    {
        return _client.SendEventAsync<StopBroadcastConsentRequest>(
            "/voice/room/broadcast/stop", request, channel, cancellationToken);
    }

    /// <summary>
    /// Get broadcast status for a voice room
    /// </summary>
    /// <param name="request">The request payload.</param>
    /// <param name="channel">Message channel for ordering (default 0).</param>
    /// <param name="timeout">Request timeout.</param>
    /// <param name="cancellationToken">Cancellation token.</param>
    /// <returns>ApiResponse containing BroadcastConsentStatus on success.</returns>
    public Task<ApiResponse<BroadcastConsentStatus>> GetBroadcastStatusAsync(
        BroadcastStatusRequest request,
        ushort channel = 0,
        TimeSpan? timeout = null,
        CancellationToken cancellationToken = default)
    {
        return _client.InvokeAsync<BroadcastStatusRequest, BroadcastConsentStatus>(
            "/voice/room/broadcast/status", request, channel, timeout, cancellationToken);
    }
}
