================================================================================
HARDCODED CONFIGURATION CANDIDATES - BANNOU CODEBASE
================================================================================
Sorted from MOST LIKELY TO WANT CONFIGURABLE to MOST TRIVIAL

Analysis Date: 2026-01-05
Focus Areas: lib-actor, lib-behavior, lib-asset (with codebase-wide patterns)

================================================================================
TIER 1: HIGH PRIORITY - Likely Deployment/Environment Specific
================================================================================

These values vary significantly between development, staging, and production,
or between different deployment scenarios (single-node vs distributed).

------------------------------------------------------------------------------
1.1 STORAGE PATH PREFIXES (lib-asset)
------------------------------------------------------------------------------
File: lib-asset/AssetService.cs
Lines: 124, 320, 820, 964, 1129

Current Values:
  - temp/{uploadId}/{filename}     - Temporary upload staging
  - assets/{type}/{id}{ext}        - Final asset location
  - bundles/current/{id}.bundle    - Bundle storage
  - bundles/zip-cache/{id}.zip     - ZIP conversion cache
  - bundles/uploads/{id}/{file}    - Bundle upload staging

Why Configurable:
  - Different environments may use different bucket structures
  - Multi-tenancy requires namespace isolation
  - Migration between storage providers may need path changes
  - MinIO webhook handler (line 97) is tightly coupled to "temp/" prefix

------------------------------------------------------------------------------
1.2 PROCESSOR POOL TIMEOUTS & SCALING (lib-asset)
------------------------------------------------------------------------------
File: lib-asset/AssetService.cs
Lines: 1418-1419, 1486, 1684-1685

Current Values:
  - maxWait = 60 seconds           - Wait for processor availability
  - pollInterval = 2 seconds       - Polling frequency
  - MaxRetries = 5                 - Processing retry attempts
  - RetryDelaySeconds = 30         - Delay between retries

Why Configurable:
  - Heavy processing workloads need longer timeouts
  - Auto-scaling environments need different poll intervals
  - Network conditions vary between deployments

------------------------------------------------------------------------------
1.3 ACTOR DEPLOYMENT MODE VALUES (lib-actor)
------------------------------------------------------------------------------
File: lib-actor/ActorService.cs
Lines: 504, 511, 525, 543-544, 601, 617, 849

Current Values:
  - "bannou" deployment mode string
  - "bannou-local" node ID
  - "bannou" app ID
  - Status strings: "pending", "running", "stopping", "error"

Why Configurable:
  - Custom deployment modes for specific use cases
  - Node naming conventions vary by infrastructure
  - Status strings may need localization or customization

------------------------------------------------------------------------------
1.4 SESSION & CONNECTION TIMEOUTS (lib-connect)
------------------------------------------------------------------------------
File: lib-connect/BannouSessionManager.cs
Lines: 31-32

Current Values:
  - SESSION_TTL_SECONDS = 86400 (24 hours)
  - HEARTBEAT_TTL_SECONDS = 300 (5 minutes)

File: lib-connect/ConnectService.cs
Line: 76
  - RECONNECTION_WINDOW = 5 minutes

Why Configurable:
  - Mobile apps may need shorter sessions
  - Enterprise deployments may want longer sessions
  - Reconnection windows vary by network reliability

------------------------------------------------------------------------------
1.5 DISTRIBUTED LOCK PARAMETERS (lib-permission)
------------------------------------------------------------------------------
File: lib-permission/PermissionService.cs
Lines: 378, 379, 390, 403

Current Values:
  - maxRetries = 10               - Lock acquisition attempts
  - baseDelayMs = 100             - Exponential backoff base
  - expiryInSeconds = 30          - Lock expiration
  - jitter = Random(0, 50)        - Backoff jitter

Why Configurable:
  - High-contention environments need different retry strategies
  - Lock expiry should match expected operation duration

================================================================================
TIER 2: MEDIUM PRIORITY - Performance Tuning Candidates
================================================================================

These values affect performance and may need tuning for different workloads
or hardware configurations.

------------------------------------------------------------------------------
2.1 BEHAVIOR COGNITION PARAMETERS (lib-behavior)
------------------------------------------------------------------------------
File: lib-behavior/Cognition/CognitionTypes.cs

Current Values:
  - LowUrgencyThreshold = 0.3f
  - HighUrgencyThreshold = 0.7f
  - LowUrgencyMaxDepth = 10, TimeoutMs = 100, MaxNodes = 1000
  - MediumUrgencyMaxDepth = 6, TimeoutMs = 50, MaxNodes = 500
  - HighUrgencyMaxDepth = 3, TimeoutMs = 20, MaxNodes = 200
  - DefaultThreatWeight = 10.0f
  - DefaultNoveltyWeight = 5.0f
  - DefaultSocialWeight = 3.0f
  - DefaultRoutineWeight = 1.0f
  - DefaultThreatFastTrackThreshold = 0.8f
  - DefaultEmotionalWeight = 0.4f
  - DefaultGoalRelevanceWeight = 0.4f
  - DefaultRelationshipWeight = 0.2f

Why Configurable:
  - Different game types need different AI responsiveness
  - Performance tuning for different CPU/memory constraints
  - Allows gameplay balancing without code changes

------------------------------------------------------------------------------
2.2 ACTOR MEMORY LIMITS (lib-behavior)
------------------------------------------------------------------------------
File: lib-behavior/Cognition/ActorLocalMemoryStore.cs
Lines: 24-25

Current Values:
  - DEFAULT_MEMORY_LIMIT = 100    - Max memories per actor
  - MAX_RETRIES = 3               - Memory store operation retries

Why Configurable:
  - Complex NPCs may need more memory entries
  - Memory-constrained environments need lower limits

------------------------------------------------------------------------------
2.3 ACTOR PERCEPTION THRESHOLDS (lib-actor)
------------------------------------------------------------------------------
File: lib-actor/Runtime/ActorRunner.cs
Lines: 410, 421, 427, 629-630

Current Values:
  - Urgency < 0.1f skipped (perception filter)
  - Urgency >= 0.7f becomes memory
  - Memory expiration = 5 minutes
  - Default memory expiration = 60 minutes (1 hour)

Why Configurable:
  - Different game scenarios need different perception sensitivity
  - Memory persistence varies by NPC importance

------------------------------------------------------------------------------
2.4 WEBSOCKET/HTTP CLIENT TIMEOUTS
------------------------------------------------------------------------------
File: lib-mesh/MeshInvocationClient.cs
Lines: 48-49, 53

Current Values:
  - PooledConnectionLifetime = 2 minutes
  - ConnectTimeout = 10 seconds
  - EndpointCache TTL = 5 seconds

File: lib-connect/ConnectServicePlugin.cs
Line: 24
  - HTTP client timeout = 120 seconds

File: bannou-service/ServiceClients/ServiceClientExtensions.cs
Lines: 44, 52
  - Timeout = 30 seconds
  - HandlerLifetime = 5 minutes

Why Configurable:
  - Different network conditions need different timeouts
  - Caching intervals affect service discovery responsiveness

------------------------------------------------------------------------------
2.5 BEHAVIOR COMPILER LIMITS (lib-behavior)
------------------------------------------------------------------------------
File: lib-behavior/Compiler/Codegen/ConstantPoolBuilder.cs
  - MaxConstants = 256

File: lib-behavior/Compiler/Codegen/StringTableBuilder.cs
  - MaxStrings = 65536

Why Configurable:
  - Complex behaviors may exceed default limits
  - Memory-constrained environments may need lower limits

================================================================================
TIER 3: LOW-MEDIUM PRIORITY - Operational Consistency
================================================================================

These are important for consistency but rarely need changes.

------------------------------------------------------------------------------
3.1 STATE STORE NAMES
------------------------------------------------------------------------------
Locations across all services:

lib-actor/ActorService.cs:49-51
  - TEMPLATE_STORE = "actor-templates"
  - INSTANCE_STORE = "actor-instances"
  - ALL_TEMPLATES_KEY = "_all_template_ids"

lib-actor/Runtime/ActorRunnerFactory.cs:75
  - "actor-state" (direct call)

lib-asset/AssetService.cs:40-44
  - STATE_STORE = "asset-statestore"
  - UPLOAD_SESSION_PREFIX = "upload:"
  - ASSET_PREFIX = "asset:"
  - ASSET_INDEX_PREFIX = "asset-index:"
  - BUNDLE_PREFIX = "bundle:"

lib-behavior/BehaviorBundleManager.cs:18-21
  - STATE_STORE = "behavior-statestore"
  - BUNDLE_MEMBERSHIP_PREFIX = "bundle-membership:"
  - BEHAVIOR_METADATA_PREFIX = "behavior-metadata:"
  - GOAP_METADATA_PREFIX = "goap-metadata:"

lib-behavior/Cognition/ActorLocalMemoryStore.cs:24-28
  - MEMORY_STATE_STORE = "agent-memories"
  - MEMORY_KEY_PREFIX = "memory:"
  - MEMORY_INDEX_KEY_PREFIX = "memory-index:"

Why Configurable:
  - Multi-tenancy requires namespace isolation
  - Migration scenarios may need prefix changes

------------------------------------------------------------------------------
3.2 CONTENT TYPE / MIME TYPE MAPPINGS
------------------------------------------------------------------------------
File: lib-asset/AssetService.cs
Lines: 1317-1339 (ProcessableContentTypes HashSet)

Current Values (static HashSet):
  Textures: image/png, image/jpeg, image/tga, image/x-tga, image/tiff,
            image/bmp, image/x-dds
  Models: model/gltf+json, model/gltf-binary, application/x-fbx,
          model/obj, model/x-blender
  Audio: audio/wav, audio/x-wav, audio/flac, audio/ogg, audio/mpeg

File: lib-asset/Bundles/BundleConverter.cs
Lines: 310-350 (Extension-to-MIME mappings)

File: lib-asset/Bundles/BundleValidator.cs
Lines: 410-421 (Allowed types), 483-490 (Forbidden types)

Why Configurable:
  - New formats may need support without code changes
  - Different projects may have different format requirements

------------------------------------------------------------------------------
3.3 PROCESSOR POOL TYPE NAMES (lib-asset)
------------------------------------------------------------------------------
File: lib-asset/AssetService.cs
Lines: 1352-1369 (GetProcessorPoolType method)

Current Values:
  - "texture-processor"
  - "model-processor"
  - "audio-processor"
  - "asset-processor" (default)

Why Configurable:
  - Custom processor types for specific asset categories
  - Integration with external processing services

------------------------------------------------------------------------------
3.4 EVENT TOPIC NAMES
------------------------------------------------------------------------------
Note: Many topics are already defined as constants but are still hardcoded.

lib-actor/ActorService.cs:
  - "actor-template.created", "actor-template.updated", "actor-template.deleted"
  - "actor-instance.created", "actor-instance.deleted"

lib-actor/PoolNode/ActorPoolNodeWorker.cs:
  - "actor.pool-node.registered", "actor.pool-node.draining"
  - "actor.instance.status-changed", "actor.instance.completed"
  - Dynamic: $"actor.node.{appId}.spawn", $"actor.node.{appId}.stop"

lib-actor/Runtime/ActorRunner.cs:
  - "character.state_update"
  - Dynamic: $"character.{CharacterId}.perceptions"

lib-behavior/BehaviorService.cs:
  - "behavior.created", "behavior.updated", "behavior.deleted"

lib-asset/AssetService.cs:
  - "asset.upload.completed", "asset.bundle.create", "asset.bundle.created"
  - "asset.processing.retry"
  - Dynamic: $"asset.processing.job.{poolType}"

Why Configurable:
  - Event routing customization
  - Integration with external event systems

================================================================================
TIER 4: LOW PRIORITY - Reasonable Defaults
================================================================================

These values are reasonable defaults that rarely need changing.

------------------------------------------------------------------------------
4.1 RETRY COUNTS (Consistent across services)
------------------------------------------------------------------------------
Most services use maxRetries = 3-5:
  - lib-account/AccountService.cs: maxRetries = 3
  - lib-character/CharacterService.cs: maxRetries = 3
  - lib-asset/AssetService.cs: maxRetries = 5
  - lib-orchestrator/OrchestratorStateManager.cs: maxRetries = 3

Exponential backoff delays:
  - Task.Delay(10 * (attempt + 1)) - lib-asset
  - Task.Delay(100 * (attempt + 1)) - lib-account

------------------------------------------------------------------------------
4.2 SCHEMA VERSION STRINGS
------------------------------------------------------------------------------
File: lib-behavior/BehaviorService.cs
Lines: 37, 515, 545

Current Values:
  - AbmlSchemaVersion = "1.0"
  - "1.0" in validation responses

File: lib-behavior/BehaviorBundleManager.cs
Line: 411
  - SchemaVersion = "1.0"

------------------------------------------------------------------------------
4.3 BUNDLE VERSION DEFAULTS
------------------------------------------------------------------------------
File: lib-behavior/BehaviorBundleManager.cs
Line: 179
  - Version = "1.0.0"

File: lib-asset/AssetService.cs
Lines: 789, 848, 888
  - Version ?? "1.0.0"

------------------------------------------------------------------------------
4.4 BEHAVIOR ID FORMAT
------------------------------------------------------------------------------
File: lib-behavior/BehaviorService.cs
Lines: 399-403

Current Value:
  - $"behavior-{hash[..16].ToLowerInvariant()}"
  - Uses first 16 chars of SHA256 hex

File: lib-behavior/BehaviorService.cs
Line: 418
  - Filename: $"{behaviorId}.bbm"

------------------------------------------------------------------------------
4.5 ACTOR ID FORMAT
------------------------------------------------------------------------------
File: lib-actor/ActorService.cs
Lines: 499-501

Current Value:
  - $"{template.Category}-{Guid.NewGuid():N}"

================================================================================
TIER 5: TRIVIAL - Fine as Hardcoded
================================================================================

These values are implementation details that don't need configuration.

------------------------------------------------------------------------------
5.1 FILE EXTENSIONS
------------------------------------------------------------------------------
  - ".bbm" for behavior models (lib-behavior)
  - ".bundle", ".bannou", ".zip" for bundles (lib-asset)

------------------------------------------------------------------------------
5.2 INTERNAL KEY FORMATS
------------------------------------------------------------------------------
  - $"category:{body.Category}" - actor template category keys
  - $"perception:{type}:{sourceId}" - actor perception keys
  - $"recent:{perceptionType}" - actor memory keys

------------------------------------------------------------------------------
5.3 LOG MESSAGE STRINGS
------------------------------------------------------------------------------
All log messages with structured parameters

------------------------------------------------------------------------------
5.4 DELETION REASON STRINGS
------------------------------------------------------------------------------
File: lib-actor/ActorService.cs
  - "graceful_stop", "forced_stop"
  - $"Deleted with {stoppedCount} actors stopped"

File: lib-behavior/BehaviorService.cs
  - "Invalidated via API"

------------------------------------------------------------------------------
5.5 DEFAULT CATEGORY FALLBACKS
------------------------------------------------------------------------------
File: lib-behavior/BehaviorService.cs
  - "uncategorized" as default category

------------------------------------------------------------------------------
5.6 INTENT CHANNEL STRUCTURE
------------------------------------------------------------------------------
File: lib-behavior/Intent/IntentChannels.cs
  - SlotsPerChannel = 2
  - ChannelCount = 5
  - MinimumOutputSlots = 10

Note: These are architectural constants that would break binary protocol
compatibility if changed.

------------------------------------------------------------------------------
5.7 BUNDLE ENTRY SIZE
------------------------------------------------------------------------------
File: lib-asset/Bundles/BundleIndex.cs
  - EntrySize = 48 bytes

Note: This is a binary format constant.

------------------------------------------------------------------------------
5.8 TRANSPORT POLLING INTERVALS
------------------------------------------------------------------------------
File: GameTransport/LiteNetLibClientTransport.cs:58
File: GameTransport/LiteNetLibServerTransport.cs:61
  - Task.Delay(1ms) in polling loops

Note: This is a low-level networking detail.

================================================================================
SUMMARY BY SERVICE
================================================================================

LIB-ACTOR:
  Tier 1: 3 items (deployment mode, node IDs, status strings)
  Tier 3: 2 items (state stores, event topics)
  Tier 4: 1 item (actor ID format)
  Tier 5: 3 items (key formats, deletion reasons, perception thresholds inline)

LIB-BEHAVIOR:
  Tier 2: 3 items (cognition params, memory limits, compiler limits)
  Tier 3: 2 items (state stores, event topics)
  Tier 4: 3 items (schema version, bundle version, behavior ID format)
  Tier 5: 2 items (category fallback, intent channels)

LIB-ASSET:
  Tier 1: 2 items (storage paths, processor timeouts)
  Tier 2: 1 item (http timeouts shared)
  Tier 3: 3 items (MIME types, pool types, event topics)
  Tier 4: 2 items (retry counts, version defaults)
  Tier 5: 2 items (extensions, entry size)

================================================================================
ALREADY CONFIGURABLE (For Reference)
================================================================================

These values are already exposed via environment variables:

ACTOR_*:
  - ACTOR_DEPLOYMENT_MODE
  - ACTOR_POOL_NODE_ID, ACTOR_POOL_NODE_APP_ID, ACTOR_POOL_NODE_TYPE
  - ACTOR_POOL_NODE_CAPACITY, ACTOR_CONTROL_PLANE_APP_ID
  - ACTOR_POOL_NODE_IMAGE, ACTOR_MIN_POOL_NODES, ACTOR_MAX_POOL_NODES
  - ACTOR_DEFAULT_ACTORS_PER_NODE
  - ACTOR_HEARTBEAT_INTERVAL_SECONDS, ACTOR_HEARTBEAT_TIMEOUT_SECONDS
  - ACTOR_DEFAULT_TICK_INTERVAL_MS, ACTOR_DEFAULT_AUTOSAVE_INTERVAL_SECONDS
  - ACTOR_PERCEPTION_QUEUE_SIZE, ACTOR_MESSAGE_QUEUE_SIZE
  - ACTOR_STATE_UPDATE_TRANSPORT
  - ACTOR_GOAP_REPLAN_THRESHOLD, ACTOR_GOAP_MAX_PLAN_DEPTH, ACTOR_GOAP_PLAN_TIMEOUT_MS

ASSET_*:
  - ASSET_STORAGE_PROVIDER, ASSET_STORAGE_BUCKET, ASSET_STORAGE_ENDPOINT
  - ASSET_STORAGE_ACCESS_KEY, ASSET_STORAGE_SECRET_KEY, ASSET_STORAGE_REGION
  - ASSET_STORAGE_FORCE_PATH_STYLE, ASSET_STORAGE_USE_SSL
  - ASSET_TOKEN_TTL_SECONDS, ASSET_DOWNLOAD_TOKEN_TTL_SECONDS
  - ASSET_MAX_UPLOAD_SIZE_MB, ASSET_MULTIPART_THRESHOLD_MB, ASSET_MULTIPART_PART_SIZE_MB
  - ASSET_LARGE_FILE_THRESHOLD_MB, ASSET_PROCESSING_POOL_TYPE, ASSET_PROCESSING_MODE
  - ASSET_WORKER_POOL, ASSET_PROCESSOR_NODE_ID
  - ASSET_PROCESSOR_IDLE_TIMEOUT_SECONDS, ASSET_PROCESSOR_HEARTBEAT_INTERVAL_SECONDS
  - ASSET_PROCESSOR_MAX_CONCURRENT_JOBS, ASSET_PROCESSOR_HEARTBEAT_TIMEOUT_SECONDS
  - ASSET_FFMPEG_PATH, ASSET_FFMPEG_WORKING_DIR
  - ASSET_AUDIO_OUTPUT_FORMAT, ASSET_AUDIO_BITRATE_KBPS, ASSET_AUDIO_PRESERVE_LOSSLESS
  - ASSET_BUNDLE_COMPRESSION_DEFAULT, ASSET_ZIP_CACHE_TTL_HOURS
  - ASSET_MINIO_WEBHOOK_SECRET

BEHAVIOR_*:
  - BEHAVIOR_ENABLED (only config currently)

================================================================================
END OF REPORT
================================================================================
