# Test fixture for watch action with on_change callback
version: "2.0"
metadata:
  id: test_watch_callback

flows:
  main:
    actions:
      - set:
          target_id: 123e4567-e89b-12d3-a456-426614174000
      - watch:
          resource_type: character
          resource_id: ${target_id}
          sources:
            - character-personality
          on_change: handle_target_changed

  handle_target_changed:
    actions:
      - log: { message: "Target changed!" }
