//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace BeyondImmersion.BannouService.Resource;

/// <summary>
/// Meta/introspection endpoints for runtime schema access.
/// Generated from schemas/Generated/resource-api-meta.yaml
/// </summary>
public partial class ResourceController
{
    #region Meta Endpoints for RegisterReference

    private static readonly string _RegisterReference_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/RegisterReferenceRequest",
    "$defs": {
        "RegisterReferenceRequest": {
            "type": "object",
            "additionalProperties": false,
            "description": "Request to register a reference to a resource",
            "required": [
                "resourceType",
                "resourceId",
                "sourceType",
                "sourceId"
            ],
            "properties": {
                "resourceType": {
                    "type": "string",
                    "description": "Type of resource being referenced (opaque identifier, e.g., \"character\", \"realm\")"
                },
                "resourceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the resource being referenced"
                },
                "sourceType": {
                    "type": "string",
                    "description": "Type of entity holding the reference (opaque identifier, e.g., \"actor\", \"scene\")"
                },
                "sourceId": {
                    "type": "string",
                    "description": "ID of the entity holding the reference (opaque string, supports non-Guid IDs)"
                }
            }
        }
    }
}
""";

    private static readonly string _RegisterReference_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/RegisterReferenceResponse",
    "$defs": {
        "RegisterReferenceResponse": {
            "type": "object",
            "additionalProperties": false,
            "description": "Response after registering a reference",
            "required": [
                "resourceType",
                "resourceId",
                "newRefCount",
                "alreadyRegistered"
            ],
            "properties": {
                "resourceType": {
                    "type": "string",
                    "description": "Type of resource referenced"
                },
                "resourceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the resource referenced"
                },
                "newRefCount": {
                    "type": "integer",
                    "description": "Reference count after registration"
                },
                "alreadyRegistered": {
                    "type": "boolean",
                    "description": "True if this exact reference was already registered"
                }
            }
        }
    }
}
""";

    private static readonly string _RegisterReference_Info = """
{
    "summary": "Register a reference to a resource",
    "description": "Records that sourceType:sourceId references resourceType:resourceId.\nTypically called via event handlers, not directly.\n",
    "tags": [
        "Reference Management"
    ],
    "deprecated": false,
    "operationId": "registerReference"
}
""";

    /// <summary>Returns endpoint information for RegisterReference</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/register/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> RegisterReference_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Resource",
            "POST",
            "/resource/register",
            _RegisterReference_Info));

    /// <summary>Returns request schema for RegisterReference</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/register/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> RegisterReference_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Resource",
            "POST",
            "/resource/register",
            "request-schema",
            _RegisterReference_RequestSchema));

    /// <summary>Returns response schema for RegisterReference</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/register/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> RegisterReference_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Resource",
            "POST",
            "/resource/register",
            "response-schema",
            _RegisterReference_ResponseSchema));

    /// <summary>Returns full schema for RegisterReference</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/register/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> RegisterReference_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Resource",
            "POST",
            "/resource/register",
            _RegisterReference_Info,
            _RegisterReference_RequestSchema,
            _RegisterReference_ResponseSchema));

    #endregion

    #region Meta Endpoints for UnregisterReference

    private static readonly string _UnregisterReference_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/UnregisterReferenceRequest",
    "$defs": {
        "UnregisterReferenceRequest": {
            "type": "object",
            "additionalProperties": false,
            "description": "Request to unregister a reference to a resource",
            "required": [
                "resourceType",
                "resourceId",
                "sourceType",
                "sourceId"
            ],
            "properties": {
                "resourceType": {
                    "type": "string",
                    "description": "Type of resource being dereferenced (opaque identifier)"
                },
                "resourceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the resource being dereferenced"
                },
                "sourceType": {
                    "type": "string",
                    "description": "Type of entity releasing the reference (opaque identifier)"
                },
                "sourceId": {
                    "type": "string",
                    "description": "ID of the entity releasing the reference (opaque string, supports non-Guid IDs)"
                }
            }
        }
    }
}
""";

    private static readonly string _UnregisterReference_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/UnregisterReferenceResponse",
    "$defs": {
        "UnregisterReferenceResponse": {
            "type": "object",
            "additionalProperties": false,
            "description": "Response after unregistering a reference",
            "required": [
                "resourceType",
                "resourceId",
                "newRefCount",
                "wasRegistered"
            ],
            "properties": {
                "resourceType": {
                    "type": "string",
                    "description": "Type of resource dereferenced"
                },
                "resourceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the resource dereferenced"
                },
                "newRefCount": {
                    "type": "integer",
                    "description": "Reference count after unregistration"
                },
                "wasRegistered": {
                    "type": "boolean",
                    "description": "True if this reference existed before unregistration"
                },
                "gracePeriodStartedAt": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": true,
                    "description": "When grace period started (null if refCount > 0)"
                }
            }
        }
    }
}
""";

    private static readonly string _UnregisterReference_Info = """
{
    "summary": "Remove a reference to a resource",
    "description": "Records that sourceType:sourceId no longer references resourceType:resourceId.\nTypically called via event handlers, not directly.\n",
    "tags": [
        "Reference Management"
    ],
    "deprecated": false,
    "operationId": "unregisterReference"
}
""";

    /// <summary>Returns endpoint information for UnregisterReference</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/unregister/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> UnregisterReference_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Resource",
            "POST",
            "/resource/unregister",
            _UnregisterReference_Info));

    /// <summary>Returns request schema for UnregisterReference</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/unregister/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> UnregisterReference_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Resource",
            "POST",
            "/resource/unregister",
            "request-schema",
            _UnregisterReference_RequestSchema));

    /// <summary>Returns response schema for UnregisterReference</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/unregister/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> UnregisterReference_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Resource",
            "POST",
            "/resource/unregister",
            "response-schema",
            _UnregisterReference_ResponseSchema));

    /// <summary>Returns full schema for UnregisterReference</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/unregister/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> UnregisterReference_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Resource",
            "POST",
            "/resource/unregister",
            _UnregisterReference_Info,
            _UnregisterReference_RequestSchema,
            _UnregisterReference_ResponseSchema));

    #endregion

    #region Meta Endpoints for CheckReferences

    private static readonly string _CheckReferences_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/CheckReferencesRequest",
    "$defs": {
        "CheckReferencesRequest": {
            "type": "object",
            "additionalProperties": false,
            "description": "Request to check reference status for a resource",
            "required": [
                "resourceType",
                "resourceId"
            ],
            "properties": {
                "resourceType": {
                    "type": "string",
                    "description": "Type of resource to check (opaque identifier)"
                },
                "resourceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the resource to check"
                }
            }
        }
    }
}
""";

    private static readonly string _CheckReferences_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/CheckReferencesResponse",
    "$defs": {
        "CheckReferencesResponse": {
            "type": "object",
            "additionalProperties": false,
            "description": "Response containing reference status for a resource",
            "required": [
                "resourceType",
                "resourceId",
                "refCount",
                "isCleanupEligible"
            ],
            "properties": {
                "resourceType": {
                    "type": "string",
                    "description": "Type of resource checked"
                },
                "resourceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the resource checked"
                },
                "refCount": {
                    "type": "integer",
                    "description": "Current reference count"
                },
                "sources": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/ResourceReference"
                    },
                    "nullable": true,
                    "description": "List of entities referencing this resource (optional, for diagnostics)"
                },
                "isCleanupEligible": {
                    "type": "boolean",
                    "description": "True if refCount=0 and grace period has passed"
                },
                "gracePeriodEndsAt": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": true,
                    "description": "When grace period ends (null if refCount > 0 or already passed)"
                },
                "lastZeroTimestamp": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": true,
                    "description": "When refCount last became zero"
                }
            }
        },
        "ResourceReference": {
            "type": "object",
            "additionalProperties": false,
            "description": "A reference from a source entity to a resource",
            "required": [
                "sourceType",
                "sourceId",
                "registeredAt"
            ],
            "properties": {
                "sourceType": {
                    "type": "string",
                    "description": "Type of entity holding the reference (opaque identifier)"
                },
                "sourceId": {
                    "type": "string",
                    "description": "ID of the entity holding the reference (opaque string, supports non-Guid IDs)"
                },
                "registeredAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When this reference was registered"
                }
            }
        }
    }
}
""";

    private static readonly string _CheckReferences_Info = """
{
    "summary": "Check reference count and cleanup eligibility",
    "description": "Returns the current reference count for a resource and whether it is\neligible for cleanup (refcount=0 and grace period passed).\n",
    "tags": [
        "Reference Management"
    ],
    "deprecated": false,
    "operationId": "checkReferences"
}
""";

    /// <summary>Returns endpoint information for CheckReferences</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/check/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CheckReferences_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Resource",
            "POST",
            "/resource/check",
            _CheckReferences_Info));

    /// <summary>Returns request schema for CheckReferences</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/check/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CheckReferences_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Resource",
            "POST",
            "/resource/check",
            "request-schema",
            _CheckReferences_RequestSchema));

    /// <summary>Returns response schema for CheckReferences</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/check/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CheckReferences_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Resource",
            "POST",
            "/resource/check",
            "response-schema",
            _CheckReferences_ResponseSchema));

    /// <summary>Returns full schema for CheckReferences</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/check/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CheckReferences_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Resource",
            "POST",
            "/resource/check",
            _CheckReferences_Info,
            _CheckReferences_RequestSchema,
            _CheckReferences_ResponseSchema));

    #endregion

    #region Meta Endpoints for ListReferences

    private static readonly string _ListReferences_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ListReferencesRequest",
    "$defs": {
        "ListReferencesRequest": {
            "type": "object",
            "additionalProperties": false,
            "description": "Request to list all references to a resource",
            "required": [
                "resourceType",
                "resourceId"
            ],
            "properties": {
                "resourceType": {
                    "type": "string",
                    "description": "Type of resource to list references for (opaque identifier)"
                },
                "resourceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the resource to list references for"
                },
                "filterSourceType": {
                    "type": "string",
                    "nullable": true,
                    "description": "Optional filter by source type (opaque identifier)"
                },
                "limit": {
                    "type": "integer",
                    "default": 100,
                    "description": "Maximum references to return"
                }
            }
        }
    }
}
""";

    private static readonly string _ListReferences_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ListReferencesResponse",
    "$defs": {
        "ListReferencesResponse": {
            "type": "object",
            "additionalProperties": false,
            "description": "Response containing list of references to a resource",
            "required": [
                "resourceType",
                "resourceId",
                "references",
                "totalCount"
            ],
            "properties": {
                "resourceType": {
                    "type": "string",
                    "description": "Type of resource listed"
                },
                "resourceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the resource listed"
                },
                "references": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/ResourceReference"
                    },
                    "description": "List of references"
                },
                "totalCount": {
                    "type": "integer",
                    "description": "Total reference count (may exceed returned list if limit applied)"
                }
            }
        },
        "ResourceReference": {
            "type": "object",
            "additionalProperties": false,
            "description": "A reference from a source entity to a resource",
            "required": [
                "sourceType",
                "sourceId",
                "registeredAt"
            ],
            "properties": {
                "sourceType": {
                    "type": "string",
                    "description": "Type of entity holding the reference (opaque identifier)"
                },
                "sourceId": {
                    "type": "string",
                    "description": "ID of the entity holding the reference (opaque string, supports non-Guid IDs)"
                },
                "registeredAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When this reference was registered"
                }
            }
        }
    }
}
""";

    private static readonly string _ListReferences_Info = """
{
    "summary": "List all references to a resource",
    "description": "Returns all entities currently referencing a resource.\nUseful for debugging and understanding reference chains.\n",
    "tags": [
        "Reference Management"
    ],
    "deprecated": false,
    "operationId": "listReferences"
}
""";

    /// <summary>Returns endpoint information for ListReferences</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/list/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ListReferences_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Resource",
            "POST",
            "/resource/list",
            _ListReferences_Info));

    /// <summary>Returns request schema for ListReferences</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/list/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ListReferences_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Resource",
            "POST",
            "/resource/list",
            "request-schema",
            _ListReferences_RequestSchema));

    /// <summary>Returns response schema for ListReferences</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/list/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ListReferences_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Resource",
            "POST",
            "/resource/list",
            "response-schema",
            _ListReferences_ResponseSchema));

    /// <summary>Returns full schema for ListReferences</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/list/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ListReferences_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Resource",
            "POST",
            "/resource/list",
            _ListReferences_Info,
            _ListReferences_RequestSchema,
            _ListReferences_ResponseSchema));

    #endregion

    #region Meta Endpoints for DefineCleanupCallback

    private static readonly string _DefineCleanupCallback_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/DefineCleanupRequest",
    "$defs": {
        "DefineCleanupRequest": {
            "type": "object",
            "additionalProperties": false,
            "description": "Request to define a cleanup callback for a resource type",
            "required": [
                "resourceType",
                "sourceType",
                "callbackEndpoint",
                "payloadTemplate"
            ],
            "properties": {
                "resourceType": {
                    "type": "string",
                    "description": "Type of resource this cleanup handles (opaque identifier)"
                },
                "sourceType": {
                    "type": "string",
                    "description": "Type of entity that will be cleaned up (opaque identifier)"
                },
                "onDeleteAction": {
                    "$ref": "#/$defs/OnDeleteAction",
                    "nullable": true,
                    "description": "Action to take when resource is deleted (defaults to CASCADE if not specified)"
                },
                "serviceName": {
                    "type": "string",
                    "nullable": true,
                    "description": "Target service name for callback invocation via lib-mesh (defaults to sourceType if not specified)"
                },
                "callbackEndpoint": {
                    "type": "string",
                    "description": "Endpoint path (e.g., /actor/cleanup-by-character)"
                },
                "payloadTemplate": {
                    "type": "string",
                    "description": "JSON template with {{resourceId}} placeholder"
                },
                "description": {
                    "type": "string",
                    "nullable": true,
                    "description": "Human-readable description of cleanup action"
                }
            }
        },
        "OnDeleteAction": {
            "type": "string",
            "enum": [
                "CASCADE",
                "RESTRICT",
                "DETACH"
            ],
            "description": "Action to take when the referenced resource is deleted.\nCASCADE: Delete dependent entities when resource is deleted\nRESTRICT: Block resource deletion if references exist\nDETACH: Set reference to null when resource is deleted\n"
        }
    }
}
""";

    private static readonly string _DefineCleanupCallback_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/DefineCleanupResponse",
    "$defs": {
        "DefineCleanupResponse": {
            "type": "object",
            "additionalProperties": false,
            "description": "Response after defining a cleanup callback",
            "required": [
                "resourceType",
                "sourceType",
                "registered"
            ],
            "properties": {
                "resourceType": {
                    "type": "string",
                    "description": "Resource type for callback (opaque identifier)"
                },
                "sourceType": {
                    "type": "string",
                    "description": "Source type for callback (opaque identifier)"
                },
                "registered": {
                    "type": "boolean",
                    "description": "True if callback was registered (or updated)"
                },
                "previouslyDefined": {
                    "type": "boolean",
                    "description": "True if this callback was already defined (updated)"
                }
            }
        }
    }
}
""";

    private static readonly string _DefineCleanupCallback_Info = """
{
    "summary": "Define cleanup callbacks for a resource type",
    "description": "Services call this at startup to register their cleanup endpoints.\nWhen a resource is deleted, these callbacks are invoked to clean up\ndependent entities.\n",
    "tags": [
        "Cleanup Management"
    ],
    "deprecated": false,
    "operationId": "defineCleanupCallback"
}
""";

    /// <summary>Returns endpoint information for DefineCleanupCallback</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/cleanup/define/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> DefineCleanupCallback_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Resource",
            "POST",
            "/resource/cleanup/define",
            _DefineCleanupCallback_Info));

    /// <summary>Returns request schema for DefineCleanupCallback</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/cleanup/define/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> DefineCleanupCallback_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Resource",
            "POST",
            "/resource/cleanup/define",
            "request-schema",
            _DefineCleanupCallback_RequestSchema));

    /// <summary>Returns response schema for DefineCleanupCallback</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/cleanup/define/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> DefineCleanupCallback_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Resource",
            "POST",
            "/resource/cleanup/define",
            "response-schema",
            _DefineCleanupCallback_ResponseSchema));

    /// <summary>Returns full schema for DefineCleanupCallback</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/cleanup/define/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> DefineCleanupCallback_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Resource",
            "POST",
            "/resource/cleanup/define",
            _DefineCleanupCallback_Info,
            _DefineCleanupCallback_RequestSchema,
            _DefineCleanupCallback_ResponseSchema));

    #endregion

    #region Meta Endpoints for ExecuteCleanup

    private static readonly string _ExecuteCleanup_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ExecuteCleanupRequest",
    "$defs": {
        "ExecuteCleanupRequest": {
            "type": "object",
            "additionalProperties": false,
            "description": "Request to execute cleanup for a resource",
            "required": [
                "resourceType",
                "resourceId"
            ],
            "properties": {
                "resourceType": {
                    "type": "string",
                    "description": "Type of resource to clean up (opaque identifier)"
                },
                "resourceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the resource to clean up"
                },
                "gracePeriodSeconds": {
                    "type": "integer",
                    "nullable": true,
                    "description": "Override grace period in seconds (uses default if not specified, 0 to skip)"
                },
                "cleanupPolicy": {
                    "$ref": "#/$defs/CleanupPolicy",
                    "nullable": true,
                    "description": "Override cleanup policy (uses resource default if not specified)"
                }
            }
        },
        "CleanupPolicy": {
            "type": "string",
            "enum": [
                "BEST_EFFORT",
                "ALL_REQUIRED"
            ],
            "description": "Policy for cleanup callback execution.\nBEST_EFFORT: Proceed with deletion even if some callbacks fail\nALL_REQUIRED: Abort deletion if any callback fails\n"
        }
    }
}
""";

    private static readonly string _ExecuteCleanup_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ExecuteCleanupResponse",
    "$defs": {
        "ExecuteCleanupResponse": {
            "type": "object",
            "additionalProperties": false,
            "description": "Response after attempting to execute cleanup",
            "required": [
                "resourceType",
                "resourceId",
                "success",
                "callbackResults"
            ],
            "properties": {
                "resourceType": {
                    "type": "string",
                    "description": "Type of resource cleaned up"
                },
                "resourceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the resource cleaned up"
                },
                "success": {
                    "type": "boolean",
                    "description": "True if cleanup completed (per cleanup policy)"
                },
                "abortReason": {
                    "type": "string",
                    "nullable": true,
                    "description": "Why cleanup was aborted (refcount changed, callback failed with ALL_REQUIRED, etc.)"
                },
                "callbackResults": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/CleanupCallbackResult"
                    },
                    "description": "Results of each cleanup callback"
                },
                "cleanupDurationMs": {
                    "type": "integer",
                    "description": "Total cleanup execution time in milliseconds"
                }
            }
        },
        "CleanupCallbackResult": {
            "type": "object",
            "additionalProperties": false,
            "description": "Result of executing a single cleanup callback",
            "required": [
                "sourceType",
                "serviceName",
                "endpoint",
                "success"
            ],
            "properties": {
                "sourceType": {
                    "type": "string",
                    "description": "Source type that was cleaned up (opaque identifier)"
                },
                "serviceName": {
                    "type": "string",
                    "description": "Service that was called"
                },
                "endpoint": {
                    "type": "string",
                    "description": "Endpoint that was called"
                },
                "success": {
                    "type": "boolean",
                    "description": "Whether callback succeeded"
                },
                "statusCode": {
                    "type": "integer",
                    "nullable": true,
                    "description": "HTTP status code from callback"
                },
                "errorMessage": {
                    "type": "string",
                    "nullable": true,
                    "description": "Error message if callback failed"
                },
                "durationMs": {
                    "type": "integer",
                    "description": "Callback execution time in milliseconds"
                }
            }
        }
    }
}
""";

    private static readonly string _ExecuteCleanup_Info = """
{
    "summary": "Execute cleanup for a resource",
    "description": "Validates refcount=0, grace period passed, acquires distributed lock,\nre-validates under lock, then executes all cleanup callbacks.\nReturns Conflict if refcount changed during execution.\n",
    "tags": [
        "Cleanup Management"
    ],
    "deprecated": false,
    "operationId": "executeCleanup"
}
""";

    /// <summary>Returns endpoint information for ExecuteCleanup</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/cleanup/execute/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ExecuteCleanup_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Resource",
            "POST",
            "/resource/cleanup/execute",
            _ExecuteCleanup_Info));

    /// <summary>Returns request schema for ExecuteCleanup</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/cleanup/execute/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ExecuteCleanup_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Resource",
            "POST",
            "/resource/cleanup/execute",
            "request-schema",
            _ExecuteCleanup_RequestSchema));

    /// <summary>Returns response schema for ExecuteCleanup</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/cleanup/execute/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ExecuteCleanup_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Resource",
            "POST",
            "/resource/cleanup/execute",
            "response-schema",
            _ExecuteCleanup_ResponseSchema));

    /// <summary>Returns full schema for ExecuteCleanup</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/resource/cleanup/execute/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ExecuteCleanup_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Resource",
            "POST",
            "/resource/cleanup/execute",
            _ExecuteCleanup_Info,
            _ExecuteCleanup_RequestSchema,
            _ExecuteCleanup_ResponseSchema));

    #endregion
}
