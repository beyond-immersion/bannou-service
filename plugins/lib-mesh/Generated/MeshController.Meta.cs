//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace BeyondImmersion.BannouService.Mesh;

/// <summary>
/// Meta/introspection endpoints for runtime schema access.
/// Generated from schemas/Generated/mesh-api-meta.yaml
/// </summary>
public partial class MeshController
{
    #region Meta Endpoints for GetEndpoints

    private static readonly string _GetEndpoints_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/GetEndpointsRequest",
    "$defs": {
        "GetEndpointsRequest": {
            "type": "object",
            "description": "Request to get endpoints for a service",
            "additionalProperties": false,
            "required": [
                "appId"
            ],
            "properties": {
                "appId": {
                    "type": "string",
                    "description": "App-id to get endpoints for"
                },
                "includeUnhealthy": {
                    "type": "boolean",
                    "default": false,
                    "description": "If true, include degraded/unavailable endpoints"
                },
                "serviceName": {
                    "type": "string",
                    "nullable": true,
                    "description": "Optional filter by specific service name (null for all services)"
                }
            }
        }
    }
}
""";

    private static readonly string _GetEndpoints_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/GetEndpointsResponse",
    "$defs": {
        "GetEndpointsResponse": {
            "type": "object",
            "description": "Response containing endpoints for a service",
            "additionalProperties": false,
            "required": [
                "appId",
                "endpoints"
            ],
            "properties": {
                "appId": {
                    "type": "string",
                    "description": "The app-id that was queried"
                },
                "endpoints": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/MeshEndpoint"
                    },
                    "description": "List of endpoints for the requested app-id"
                },
                "healthyCount": {
                    "type": "integer",
                    "description": "Number of healthy endpoints"
                },
                "totalCount": {
                    "type": "integer",
                    "description": "Total number of endpoints (including unhealthy)"
                }
            }
        },
        "MeshEndpoint": {
            "type": "object",
            "description": "A service endpoint in the mesh",
            "additionalProperties": false,
            "required": [
                "instanceId",
                "appId",
                "host",
                "port",
                "status"
            ],
            "properties": {
                "instanceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Unique identifier for this instance"
                },
                "appId": {
                    "type": "string",
                    "description": "Bannou app-id (e.g., \"bannou\", \"bannou-npc-01\")"
                },
                "host": {
                    "type": "string",
                    "description": "Hostname or IP address"
                },
                "port": {
                    "type": "integer",
                    "description": "Service port (typically 80)"
                },
                "status": {
                    "$ref": "#/$defs/EndpointStatus",
                    "description": "Current health status of the endpoint"
                },
                "loadPercent": {
                    "type": "number",
                    "format": "float",
                    "description": "Current load as percentage (0-100)",
                    "default": 0
                },
                "maxConnections": {
                    "type": "integer",
                    "description": "Maximum concurrent connections"
                },
                "currentConnections": {
                    "type": "integer",
                    "description": "Current active connections"
                },
                "services": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of service names hosted on this endpoint"
                },
                "lastSeen": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Last heartbeat timestamp"
                },
                "registeredAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When endpoint was first registered"
                },
                "issues": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "nullable": true,
                    "description": "List of non-critical issues reported via heartbeat (null if none)"
                }
            }
        },
        "EndpointStatus": {
            "type": "string",
            "description": "Health status of an endpoint",
            "enum": [
                "Healthy",
                "Degraded",
                "Unavailable",
                "ShuttingDown"
            ]
        }
    }
}
""";

    private static readonly string _GetEndpoints_Info = """
{
    "summary": "Get endpoints for a service",
    "description": "Returns all healthy endpoints for the specified app-id.\nUsed by IMeshClient to resolve target hosts for service invocation.\n",
    "tags": [
        "Service Discovery"
    ],
    "deprecated": false,
    "operationId": "getEndpoints"
}
""";

    /// <summary>Returns endpoint information for GetEndpoints</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/endpoints/get/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetEndpoints_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Mesh",
            "POST",
            "/mesh/endpoints/get",
            _GetEndpoints_Info));

    /// <summary>Returns request schema for GetEndpoints</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/endpoints/get/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetEndpoints_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/endpoints/get",
            "request-schema",
            _GetEndpoints_RequestSchema));

    /// <summary>Returns response schema for GetEndpoints</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/endpoints/get/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetEndpoints_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/endpoints/get",
            "response-schema",
            _GetEndpoints_ResponseSchema));

    /// <summary>Returns full schema for GetEndpoints</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/endpoints/get/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetEndpoints_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/endpoints/get",
            _GetEndpoints_Info,
            _GetEndpoints_RequestSchema,
            _GetEndpoints_ResponseSchema));

    #endregion

    #region Meta Endpoints for ListEndpoints

    private static readonly string _ListEndpoints_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ListEndpointsRequest",
    "$defs": {
        "ListEndpointsRequest": {
            "type": "object",
            "description": "Request to list all endpoints",
            "additionalProperties": false,
            "properties": {
                "statusFilter": {
                    "$ref": "#/$defs/EndpointStatus",
                    "nullable": true,
                    "description": "Filter endpoints by health status (null for all statuses)"
                },
                "appIdFilter": {
                    "type": "string",
                    "nullable": true,
                    "description": "Optional filter by app-id prefix (null for all app IDs)"
                }
            }
        },
        "EndpointStatus": {
            "type": "string",
            "description": "Health status of an endpoint",
            "enum": [
                "Healthy",
                "Degraded",
                "Unavailable",
                "ShuttingDown"
            ]
        }
    }
}
""";

    private static readonly string _ListEndpoints_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ListEndpointsResponse",
    "$defs": {
        "ListEndpointsResponse": {
            "type": "object",
            "description": "Response containing all endpoints",
            "additionalProperties": false,
            "required": [
                "endpoints",
                "summary"
            ],
            "properties": {
                "endpoints": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/MeshEndpoint"
                    },
                    "description": "List of all registered endpoints"
                },
                "summary": {
                    "$ref": "#/$defs/EndpointSummary",
                    "description": "Summary statistics for the endpoints"
                }
            }
        },
        "MeshEndpoint": {
            "type": "object",
            "description": "A service endpoint in the mesh",
            "additionalProperties": false,
            "required": [
                "instanceId",
                "appId",
                "host",
                "port",
                "status"
            ],
            "properties": {
                "instanceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Unique identifier for this instance"
                },
                "appId": {
                    "type": "string",
                    "description": "Bannou app-id (e.g., \"bannou\", \"bannou-npc-01\")"
                },
                "host": {
                    "type": "string",
                    "description": "Hostname or IP address"
                },
                "port": {
                    "type": "integer",
                    "description": "Service port (typically 80)"
                },
                "status": {
                    "$ref": "#/$defs/EndpointStatus",
                    "description": "Current health status of the endpoint"
                },
                "loadPercent": {
                    "type": "number",
                    "format": "float",
                    "description": "Current load as percentage (0-100)",
                    "default": 0
                },
                "maxConnections": {
                    "type": "integer",
                    "description": "Maximum concurrent connections"
                },
                "currentConnections": {
                    "type": "integer",
                    "description": "Current active connections"
                },
                "services": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of service names hosted on this endpoint"
                },
                "lastSeen": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Last heartbeat timestamp"
                },
                "registeredAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When endpoint was first registered"
                },
                "issues": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "nullable": true,
                    "description": "List of non-critical issues reported via heartbeat (null if none)"
                }
            }
        },
        "EndpointStatus": {
            "type": "string",
            "description": "Health status of an endpoint",
            "enum": [
                "Healthy",
                "Degraded",
                "Unavailable",
                "ShuttingDown"
            ]
        },
        "EndpointSummary": {
            "type": "object",
            "description": "Summary statistics for endpoints",
            "additionalProperties": false,
            "properties": {
                "totalEndpoints": {
                    "type": "integer",
                    "description": "Total number of registered endpoints"
                },
                "healthyCount": {
                    "type": "integer",
                    "description": "Number of endpoints with Healthy status"
                },
                "degradedCount": {
                    "type": "integer",
                    "description": "Number of endpoints with Degraded status"
                },
                "unavailableCount": {
                    "type": "integer",
                    "description": "Number of endpoints with Unavailable status"
                },
                "uniqueAppIds": {
                    "type": "integer",
                    "description": "Number of unique app-ids across all endpoints"
                }
            }
        }
    }
}
""";

    private static readonly string _ListEndpoints_Info = """
{
    "summary": "List all registered endpoints",
    "description": "Returns all registered service endpoints across all app-ids.\nAdmin-only endpoint for monitoring and debugging.\n",
    "tags": [
        "Service Discovery"
    ],
    "deprecated": false,
    "operationId": "listEndpoints"
}
""";

    /// <summary>Returns endpoint information for ListEndpoints</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/endpoints/list/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ListEndpoints_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Mesh",
            "POST",
            "/mesh/endpoints/list",
            _ListEndpoints_Info));

    /// <summary>Returns request schema for ListEndpoints</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/endpoints/list/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ListEndpoints_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/endpoints/list",
            "request-schema",
            _ListEndpoints_RequestSchema));

    /// <summary>Returns response schema for ListEndpoints</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/endpoints/list/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ListEndpoints_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/endpoints/list",
            "response-schema",
            _ListEndpoints_ResponseSchema));

    /// <summary>Returns full schema for ListEndpoints</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/endpoints/list/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ListEndpoints_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/endpoints/list",
            _ListEndpoints_Info,
            _ListEndpoints_RequestSchema,
            _ListEndpoints_ResponseSchema));

    #endregion

    #region Meta Endpoints for RegisterEndpoint

    private static readonly string _RegisterEndpoint_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/RegisterEndpointRequest",
    "$defs": {
        "RegisterEndpointRequest": {
            "type": "object",
            "description": "Request to register a service endpoint",
            "additionalProperties": false,
            "required": [
                "instanceId",
                "appId",
                "host",
                "port"
            ],
            "properties": {
                "instanceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Unique identifier for this instance"
                },
                "appId": {
                    "type": "string",
                    "description": "App-id for this instance"
                },
                "host": {
                    "type": "string",
                    "description": "Hostname or IP address to register"
                },
                "port": {
                    "type": "integer",
                    "default": 80,
                    "description": "Service port"
                },
                "services": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "nullable": true,
                    "description": "List of service names hosted on this endpoint (null for none)"
                },
                "maxConnections": {
                    "type": "integer",
                    "default": 1000,
                    "description": "Maximum concurrent connections"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "nullable": true,
                    "description": "Optional metadata key-value pairs (null if none)"
                }
            }
        }
    }
}
""";

    private static readonly string _RegisterEndpoint_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/RegisterEndpointResponse",
    "$defs": {
        "RegisterEndpointResponse": {
            "type": "object",
            "description": "Response after registering endpoint",
            "additionalProperties": false,
            "required": [
                "endpoint"
            ],
            "properties": {
                "endpoint": {
                    "$ref": "#/$defs/MeshEndpoint",
                    "description": "The registered endpoint details"
                },
                "ttlSeconds": {
                    "type": "integer",
                    "description": "TTL for the registration (requires heartbeat refresh)"
                }
            }
        },
        "MeshEndpoint": {
            "type": "object",
            "description": "A service endpoint in the mesh",
            "additionalProperties": false,
            "required": [
                "instanceId",
                "appId",
                "host",
                "port",
                "status"
            ],
            "properties": {
                "instanceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Unique identifier for this instance"
                },
                "appId": {
                    "type": "string",
                    "description": "Bannou app-id (e.g., \"bannou\", \"bannou-npc-01\")"
                },
                "host": {
                    "type": "string",
                    "description": "Hostname or IP address"
                },
                "port": {
                    "type": "integer",
                    "description": "Service port (typically 80)"
                },
                "status": {
                    "$ref": "#/$defs/EndpointStatus",
                    "description": "Current health status of the endpoint"
                },
                "loadPercent": {
                    "type": "number",
                    "format": "float",
                    "description": "Current load as percentage (0-100)",
                    "default": 0
                },
                "maxConnections": {
                    "type": "integer",
                    "description": "Maximum concurrent connections"
                },
                "currentConnections": {
                    "type": "integer",
                    "description": "Current active connections"
                },
                "services": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of service names hosted on this endpoint"
                },
                "lastSeen": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Last heartbeat timestamp"
                },
                "registeredAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When endpoint was first registered"
                },
                "issues": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "nullable": true,
                    "description": "List of non-critical issues reported via heartbeat (null if none)"
                }
            }
        },
        "EndpointStatus": {
            "type": "string",
            "description": "Health status of an endpoint",
            "enum": [
                "Healthy",
                "Degraded",
                "Unavailable",
                "ShuttingDown"
            ]
        }
    }
}
""";

    private static readonly string _RegisterEndpoint_Info = """
{
    "summary": "Register a service endpoint",
    "description": "Registers this instance's endpoint in the service mesh.\nCalled during service startup to announce availability.\nEndpoint TTL is refreshed on each heartbeat.\n",
    "tags": [
        "Registration"
    ],
    "deprecated": false,
    "operationId": "registerEndpoint"
}
""";

    /// <summary>Returns endpoint information for RegisterEndpoint</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/register/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> RegisterEndpoint_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Mesh",
            "POST",
            "/mesh/register",
            _RegisterEndpoint_Info));

    /// <summary>Returns request schema for RegisterEndpoint</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/register/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> RegisterEndpoint_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/register",
            "request-schema",
            _RegisterEndpoint_RequestSchema));

    /// <summary>Returns response schema for RegisterEndpoint</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/register/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> RegisterEndpoint_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/register",
            "response-schema",
            _RegisterEndpoint_ResponseSchema));

    /// <summary>Returns full schema for RegisterEndpoint</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/register/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> RegisterEndpoint_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/register",
            _RegisterEndpoint_Info,
            _RegisterEndpoint_RequestSchema,
            _RegisterEndpoint_ResponseSchema));

    #endregion

    #region Meta Endpoints for DeregisterEndpoint

    private static readonly string _DeregisterEndpoint_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/DeregisterEndpointRequest",
    "$defs": {
        "DeregisterEndpointRequest": {
            "type": "object",
            "description": "Request to deregister an endpoint",
            "additionalProperties": false,
            "required": [
                "instanceId"
            ],
            "properties": {
                "instanceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Instance to deregister"
                }
            }
        }
    }
}
""";

    private static readonly string _DeregisterEndpoint_ResponseSchema = """
{}
""";

    private static readonly string _DeregisterEndpoint_Info = """
{
    "summary": "Deregister a service endpoint",
    "description": "Removes this instance's endpoint from the service mesh.\nCalled during graceful shutdown.\n",
    "tags": [
        "Registration"
    ],
    "deprecated": false,
    "operationId": "deregisterEndpoint"
}
""";

    /// <summary>Returns endpoint information for DeregisterEndpoint</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/deregister/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> DeregisterEndpoint_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Mesh",
            "POST",
            "/mesh/deregister",
            _DeregisterEndpoint_Info));

    /// <summary>Returns request schema for DeregisterEndpoint</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/deregister/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> DeregisterEndpoint_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/deregister",
            "request-schema",
            _DeregisterEndpoint_RequestSchema));

    /// <summary>Returns response schema for DeregisterEndpoint</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/deregister/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> DeregisterEndpoint_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/deregister",
            "response-schema",
            _DeregisterEndpoint_ResponseSchema));

    /// <summary>Returns full schema for DeregisterEndpoint</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/deregister/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> DeregisterEndpoint_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/deregister",
            _DeregisterEndpoint_Info,
            _DeregisterEndpoint_RequestSchema,
            _DeregisterEndpoint_ResponseSchema));

    #endregion

    #region Meta Endpoints for Heartbeat

    private static readonly string _Heartbeat_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/HeartbeatRequest",
    "$defs": {
        "HeartbeatRequest": {
            "type": "object",
            "description": "Heartbeat to refresh endpoint TTL and update metrics",
            "additionalProperties": false,
            "required": [
                "instanceId"
            ],
            "properties": {
                "instanceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Unique identifier for the instance sending the heartbeat"
                },
                "status": {
                    "allOf": [
                        {
                            "$ref": "#/$defs/EndpointStatus"
                        }
                    ],
                    "nullable": true,
                    "description": "Current health status of the endpoint (null defaults to Healthy)"
                },
                "loadPercent": {
                    "type": "number",
                    "format": "float",
                    "nullable": true,
                    "description": "Current load 0-100 (null defaults to 0)"
                },
                "currentConnections": {
                    "type": "integer",
                    "nullable": true,
                    "description": "Current active connections (null defaults to 0)"
                },
                "issues": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "nullable": true,
                    "description": "List of non-critical issues (null if none)"
                }
            }
        },
        "EndpointStatus": {
            "type": "string",
            "description": "Health status of an endpoint",
            "enum": [
                "Healthy",
                "Degraded",
                "Unavailable",
                "ShuttingDown"
            ]
        }
    }
}
""";

    private static readonly string _Heartbeat_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/HeartbeatResponse",
    "$defs": {
        "HeartbeatResponse": {
            "type": "object",
            "description": "Response after heartbeat processed",
            "additionalProperties": false,
            "properties": {
                "nextHeartbeatSeconds": {
                    "type": "integer",
                    "description": "Recommended seconds until next heartbeat"
                },
                "ttlSeconds": {
                    "type": "integer",
                    "description": "Remaining TTL for registration"
                }
            }
        }
    }
}
""";

    private static readonly string _Heartbeat_Info = """
{
    "summary": "Update endpoint health and load",
    "description": "Refreshes endpoint TTL and updates health/load metrics.\nShould be called periodically (default: every 30 seconds).\n",
    "tags": [
        "Registration"
    ],
    "deprecated": false,
    "operationId": "heartbeat"
}
""";

    /// <summary>Returns endpoint information for Heartbeat</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/heartbeat/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> Heartbeat_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Mesh",
            "POST",
            "/mesh/heartbeat",
            _Heartbeat_Info));

    /// <summary>Returns request schema for Heartbeat</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/heartbeat/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> Heartbeat_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/heartbeat",
            "request-schema",
            _Heartbeat_RequestSchema));

    /// <summary>Returns response schema for Heartbeat</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/heartbeat/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> Heartbeat_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/heartbeat",
            "response-schema",
            _Heartbeat_ResponseSchema));

    /// <summary>Returns full schema for Heartbeat</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/heartbeat/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> Heartbeat_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/heartbeat",
            _Heartbeat_Info,
            _Heartbeat_RequestSchema,
            _Heartbeat_ResponseSchema));

    #endregion

    #region Meta Endpoints for GetRoute

    private static readonly string _GetRoute_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/GetRouteRequest",
    "$defs": {
        "GetRouteRequest": {
            "type": "object",
            "description": "Request to get optimal route for a service call",
            "additionalProperties": false,
            "required": [
                "appId"
            ],
            "properties": {
                "appId": {
                    "type": "string",
                    "description": "Target app-id to route to"
                },
                "serviceName": {
                    "type": "string",
                    "nullable": true,
                    "description": "Optional service name for affinity routing (null for no affinity)"
                },
                "algorithm": {
                    "$ref": "#/$defs/LoadBalancerAlgorithm",
                    "description": "Load balancing algorithm to use for endpoint selection"
                }
            }
        },
        "LoadBalancerAlgorithm": {
            "type": "string",
            "description": "Load balancing algorithm",
            "enum": [
                "RoundRobin",
                "LeastConnections",
                "Weighted",
                "Random"
            ]
        }
    }
}
""";

    private static readonly string _GetRoute_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/GetRouteResponse",
    "$defs": {
        "GetRouteResponse": {
            "type": "object",
            "description": "Selected route for service call",
            "additionalProperties": false,
            "required": [
                "endpoint"
            ],
            "properties": {
                "endpoint": {
                    "$ref": "#/$defs/MeshEndpoint",
                    "description": "The selected optimal endpoint for routing"
                },
                "alternates": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/MeshEndpoint"
                    },
                    "description": "Alternative endpoints if primary fails"
                }
            }
        },
        "MeshEndpoint": {
            "type": "object",
            "description": "A service endpoint in the mesh",
            "additionalProperties": false,
            "required": [
                "instanceId",
                "appId",
                "host",
                "port",
                "status"
            ],
            "properties": {
                "instanceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Unique identifier for this instance"
                },
                "appId": {
                    "type": "string",
                    "description": "Bannou app-id (e.g., \"bannou\", \"bannou-npc-01\")"
                },
                "host": {
                    "type": "string",
                    "description": "Hostname or IP address"
                },
                "port": {
                    "type": "integer",
                    "description": "Service port (typically 80)"
                },
                "status": {
                    "$ref": "#/$defs/EndpointStatus",
                    "description": "Current health status of the endpoint"
                },
                "loadPercent": {
                    "type": "number",
                    "format": "float",
                    "description": "Current load as percentage (0-100)",
                    "default": 0
                },
                "maxConnections": {
                    "type": "integer",
                    "description": "Maximum concurrent connections"
                },
                "currentConnections": {
                    "type": "integer",
                    "description": "Current active connections"
                },
                "services": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of service names hosted on this endpoint"
                },
                "lastSeen": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Last heartbeat timestamp"
                },
                "registeredAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When endpoint was first registered"
                },
                "issues": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "nullable": true,
                    "description": "List of non-critical issues reported via heartbeat (null if none)"
                }
            }
        },
        "EndpointStatus": {
            "type": "string",
            "description": "Health status of an endpoint",
            "enum": [
                "Healthy",
                "Degraded",
                "Unavailable",
                "ShuttingDown"
            ]
        }
    }
}
""";

    private static readonly string _GetRoute_Info = """
{
    "summary": "Get optimal endpoint for routing",
    "description": "Returns a single endpoint for the specified app-id, selected by the\nconfigured load balancing algorithm (round-robin, least-connections, weighted).\n",
    "tags": [
        "Routing"
    ],
    "deprecated": false,
    "operationId": "getRoute"
}
""";

    /// <summary>Returns endpoint information for GetRoute</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/route/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetRoute_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Mesh",
            "POST",
            "/mesh/route",
            _GetRoute_Info));

    /// <summary>Returns request schema for GetRoute</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/route/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetRoute_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/route",
            "request-schema",
            _GetRoute_RequestSchema));

    /// <summary>Returns response schema for GetRoute</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/route/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetRoute_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/route",
            "response-schema",
            _GetRoute_ResponseSchema));

    /// <summary>Returns full schema for GetRoute</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/route/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetRoute_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/route",
            _GetRoute_Info,
            _GetRoute_RequestSchema,
            _GetRoute_ResponseSchema));

    #endregion

    #region Meta Endpoints for GetMappings

    private static readonly string _GetMappings_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/GetMappingsRequest",
    "$defs": {
        "GetMappingsRequest": {
            "type": "object",
            "description": "Request to get service-to-app-id mappings",
            "additionalProperties": false,
            "properties": {
                "serviceNameFilter": {
                    "type": "string",
                    "nullable": true,
                    "description": "Optional filter by service name prefix (null for all services)"
                }
            }
        }
    }
}
""";

    private static readonly string _GetMappings_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/GetMappingsResponse",
    "$defs": {
        "GetMappingsResponse": {
            "type": "object",
            "description": "Current service mappings",
            "additionalProperties": false,
            "required": [
                "mappings",
                "version"
            ],
            "properties": {
                "mappings": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "Map of serviceName -> appId"
                },
                "defaultAppId": {
                    "type": "string",
                    "default": "bannou",
                    "description": "Default app-id when no mapping exists"
                },
                "version": {
                    "type": "integer",
                    "format": "int64",
                    "description": "Mapping version for change detection"
                }
            }
        }
    }
}
""";

    private static readonly string _GetMappings_Info = """
{
    "summary": "Get service-to-app-id mappings",
    "description": "Returns the current service name to app-id mapping table.\nUsed by ServiceAppMappingResolver for distributed deployment.\n",
    "tags": [
        "Routing"
    ],
    "deprecated": false,
    "operationId": "getMappings"
}
""";

    /// <summary>Returns endpoint information for GetMappings</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/mappings/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetMappings_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Mesh",
            "POST",
            "/mesh/mappings",
            _GetMappings_Info));

    /// <summary>Returns request schema for GetMappings</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/mappings/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetMappings_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/mappings",
            "request-schema",
            _GetMappings_RequestSchema));

    /// <summary>Returns response schema for GetMappings</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/mappings/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetMappings_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/mappings",
            "response-schema",
            _GetMappings_ResponseSchema));

    /// <summary>Returns full schema for GetMappings</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/mappings/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetMappings_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/mappings",
            _GetMappings_Info,
            _GetMappings_RequestSchema,
            _GetMappings_ResponseSchema));

    #endregion

    #region Meta Endpoints for GetHealth

    private static readonly string _GetHealth_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/GetHealthRequest",
    "$defs": {
        "GetHealthRequest": {
            "type": "object",
            "description": "Request for mesh health status",
            "additionalProperties": false,
            "properties": {
                "includeEndpoints": {
                    "type": "boolean",
                    "default": false,
                    "description": "Include full endpoint list in response"
                }
            }
        }
    }
}
""";

    private static readonly string _GetHealth_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/MeshHealthResponse",
    "$defs": {
        "MeshHealthResponse": {
            "type": "object",
            "description": "Overall mesh health status",
            "additionalProperties": false,
            "required": [
                "status",
                "summary"
            ],
            "properties": {
                "status": {
                    "$ref": "#/$defs/EndpointStatus",
                    "description": "Overall health status of the mesh"
                },
                "summary": {
                    "$ref": "#/$defs/EndpointSummary",
                    "description": "Summary statistics for all endpoints"
                },
                "redisConnected": {
                    "type": "boolean",
                    "description": "Whether Redis connection is healthy"
                },
                "lastUpdateTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Timestamp of the last health status update"
                },
                "uptime": {
                    "type": "string",
                    "description": "Mesh service uptime (e.g., \"2d 5h 30m\")"
                },
                "endpoints": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/MeshEndpoint"
                    },
                    "description": "Full endpoint list (only if includeEndpoints=true)"
                }
            }
        },
        "EndpointStatus": {
            "type": "string",
            "description": "Health status of an endpoint",
            "enum": [
                "Healthy",
                "Degraded",
                "Unavailable",
                "ShuttingDown"
            ]
        },
        "EndpointSummary": {
            "type": "object",
            "description": "Summary statistics for endpoints",
            "additionalProperties": false,
            "properties": {
                "totalEndpoints": {
                    "type": "integer",
                    "description": "Total number of registered endpoints"
                },
                "healthyCount": {
                    "type": "integer",
                    "description": "Number of endpoints with Healthy status"
                },
                "degradedCount": {
                    "type": "integer",
                    "description": "Number of endpoints with Degraded status"
                },
                "unavailableCount": {
                    "type": "integer",
                    "description": "Number of endpoints with Unavailable status"
                },
                "uniqueAppIds": {
                    "type": "integer",
                    "description": "Number of unique app-ids across all endpoints"
                }
            }
        },
        "MeshEndpoint": {
            "type": "object",
            "description": "A service endpoint in the mesh",
            "additionalProperties": false,
            "required": [
                "instanceId",
                "appId",
                "host",
                "port",
                "status"
            ],
            "properties": {
                "instanceId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Unique identifier for this instance"
                },
                "appId": {
                    "type": "string",
                    "description": "Bannou app-id (e.g., \"bannou\", \"bannou-npc-01\")"
                },
                "host": {
                    "type": "string",
                    "description": "Hostname or IP address"
                },
                "port": {
                    "type": "integer",
                    "description": "Service port (typically 80)"
                },
                "status": {
                    "$ref": "#/$defs/EndpointStatus",
                    "description": "Current health status of the endpoint"
                },
                "loadPercent": {
                    "type": "number",
                    "format": "float",
                    "description": "Current load as percentage (0-100)",
                    "default": 0
                },
                "maxConnections": {
                    "type": "integer",
                    "description": "Maximum concurrent connections"
                },
                "currentConnections": {
                    "type": "integer",
                    "description": "Current active connections"
                },
                "services": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of service names hosted on this endpoint"
                },
                "lastSeen": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Last heartbeat timestamp"
                },
                "registeredAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When endpoint was first registered"
                },
                "issues": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "nullable": true,
                    "description": "List of non-critical issues reported via heartbeat (null if none)"
                }
            }
        }
    }
}
""";

    private static readonly string _GetHealth_Info = """
{
    "summary": "Get mesh health status",
    "description": "Returns overall health of the service mesh including:\n- Total registered endpoints\n- Healthy/degraded/unavailable counts\n- Redis connectivity status\n",
    "tags": [
        "Diagnostics"
    ],
    "deprecated": false,
    "operationId": "getHealth"
}
""";

    /// <summary>Returns endpoint information for GetHealth</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/health/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetHealth_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Mesh",
            "POST",
            "/mesh/health",
            _GetHealth_Info));

    /// <summary>Returns request schema for GetHealth</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/health/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetHealth_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/health",
            "request-schema",
            _GetHealth_RequestSchema));

    /// <summary>Returns response schema for GetHealth</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/health/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetHealth_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/health",
            "response-schema",
            _GetHealth_ResponseSchema));

    /// <summary>Returns full schema for GetHealth</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/mesh/health/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetHealth_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Mesh",
            "POST",
            "/mesh/health",
            _GetHealth_Info,
            _GetHealth_RequestSchema,
            _GetHealth_ResponseSchema));

    #endregion
}
