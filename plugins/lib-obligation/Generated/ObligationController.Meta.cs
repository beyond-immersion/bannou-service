//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace BeyondImmersion.BannouService.Obligation;

/// <summary>
/// Meta/introspection endpoints for runtime schema access.
/// Generated from schemas/Generated/obligation-api-meta.yaml
/// </summary>
public partial class ObligationController
{
    #region Meta Endpoints for SetActionMapping

    private static readonly string _SetActionMapping_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/SetActionMappingRequest",
    "$defs": {
        "SetActionMappingRequest": {
            "type": "object",
            "description": "Request to create or update an action tag mapping",
            "additionalProperties": false,
            "required": [
                "tag",
                "violationTypes"
            ],
            "properties": {
                "tag": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "The GOAP action tag to map (e.g., \"steal_food\")"
                },
                "violationTypes": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 128
                    },
                    "minItems": 1,
                    "maxItems": 20,
                    "description": "Violation type codes this tag should map to"
                },
                "description": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 512,
                    "description": "Human-readable description of this mapping"
                }
            }
        }
    }
}
""";

    private static readonly string _SetActionMapping_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ActionMappingResponse",
    "$defs": {
        "ActionMappingResponse": {
            "type": "object",
            "description": "A registered mapping from a GOAP action tag to violation type codes",
            "additionalProperties": false,
            "required": [
                "tag",
                "violationTypes",
                "createdAt"
            ],
            "properties": {
                "tag": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "The GOAP action tag (e.g., \"steal_food\", \"deceive_merchant\")"
                },
                "violationTypes": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 128
                    },
                    "minItems": 1,
                    "maxItems": 20,
                    "description": "Violation type codes this tag maps to (e.g., [\"theft\", \"dishonesty\"])"
                },
                "description": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 512,
                    "description": "Human-readable description of what this mapping represents"
                },
                "createdAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When this mapping was first created"
                },
                "updatedAt": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": true,
                    "description": "When this mapping was last modified"
                }
            }
        }
    }
}
""";

    private static readonly string _SetActionMapping_Info = """
{
    "summary": "Create or update an action tag to violation type mapping",
    "description": "Registers or replaces a mapping from a GOAP action tag to one or more\nviolation type codes. These mappings define how the obligation service\nconnects GOAP planner actions (e.g., tag \"steal_food\") to contract\nbehavioral clause violation types (e.g., \"theft\", \"dishonesty\").\n\nMappings are idempotent by tag \u2014 setting a mapping for an existing tag\nreplaces the previous mapping entirely.\n\nBy default, action tags are matched 1:1 against violation type codes\n(tag \"theft\" matches violation type \"theft\"). Explicit mappings are only\ nneeded when the vocabularies differ or when one action triggers multiple\nviolation types (e.g., \"attack_surrendered_enemy\" \u2192 [\"honor_combat\", \"show_mercy\"]).\n",
    "tags": [
        "Action Mapping"
    ],
    "deprecated": false,
    "operationId": "setActionMapping"
}
""";

    /// <summary>Returns endpoint information for SetActionMapping</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/action-mapping/set/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> SetActionMapping_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Obligation",
            "POST",
            "/obligation/action-mapping/set",
            _SetActionMapping_Info));

    /// <summary>Returns request schema for SetActionMapping</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/action-mapping/set/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> SetActionMapping_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/action-mapping/set",
            "request-schema",
            _SetActionMapping_RequestSchema));

    /// <summary>Returns response schema for SetActionMapping</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/action-mapping/set/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> SetActionMapping_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/action-mapping/set",
            "response-schema",
            _SetActionMapping_ResponseSchema));

    /// <summary>Returns full schema for SetActionMapping</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/action-mapping/set/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> SetActionMapping_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/action-mapping/set",
            _SetActionMapping_Info,
            _SetActionMapping_RequestSchema,
            _SetActionMapping_ResponseSchema));

    #endregion

    #region Meta Endpoints for ListActionMappings

    private static readonly string _ListActionMappings_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ListActionMappingsRequest",
    "$defs": {
        "ListActionMappingsRequest": {
            "type": "object",
            "description": "Request to list action tag mappings with pagination",
            "additionalProperties": false,
            "properties": {
                "searchTerm": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 256,
                    "description": "Optional text search across tag names and descriptions"
                },
                "cursor": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 512,
                    "description": "Pagination cursor from a previous response"
                },
                "pageSize": {
                    "type": "integer",
                    "default": 20,
                    "minimum": 1,
                    "maximum": 100,
                    "description": "Number of mappings to return per page"
                }
            }
        }
    }
}
""";

    private static readonly string _ListActionMappings_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ListActionMappingsResponse",
    "$defs": {
        "ListActionMappingsResponse": {
            "type": "object",
            "description": "Paginated list of action tag mappings",
            "additionalProperties": false,
            "required": [
                "mappings",
                "hasMore"
            ],
            "properties": {
                "mappings": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/ActionMappingResponse"
                    },
                    "description": "Action tag mappings for this page"
                },
                "nextCursor": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 512,
                    "description": "Cursor for the next page (null if no more pages)"
                },
                "hasMore": {
                    "type": "boolean",
                    "description": "Whether more pages are available"
                }
            }
        },
        "ActionMappingResponse": {
            "type": "object",
            "description": "A registered mapping from a GOAP action tag to violation type codes",
            "additionalProperties": false,
            "required": [
                "tag",
                "violationTypes",
                "createdAt"
            ],
            "properties": {
                "tag": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "The GOAP action tag (e.g., \"steal_food\", \"deceive_merchant\")"
                },
                "violationTypes": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 128
                    },
                    "minItems": 1,
                    "maxItems": 20,
                    "description": "Violation type codes this tag maps to (e.g., [\"theft\", \"dishonesty\"])"
                },
                "description": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 512,
                    "description": "Human-readable description of what this mapping represents"
                },
                "createdAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When this mapping was first created"
                },
                "updatedAt": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": true,
                    "description": "When this mapping was last modified"
                }
            }
        }
    }
}
""";

    private static readonly string _ListActionMappings_Info = """
{
    "summary": "List registered action tag mappings",
    "description": "Returns all registered action tag to violation type mappings.\nSupports cursor-based pagination and optional text search.\n",
    "tags": [
        "Action Mapping"
    ],
    "deprecated": false,
    "operationId": "listActionMappings"
}
""";

    /// <summary>Returns endpoint information for ListActionMappings</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/action-mapping/list/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ListActionMappings_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Obligation",
            "POST",
            "/obligation/action-mapping/list",
            _ListActionMappings_Info));

    /// <summary>Returns request schema for ListActionMappings</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/action-mapping/list/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ListActionMappings_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/action-mapping/list",
            "request-schema",
            _ListActionMappings_RequestSchema));

    /// <summary>Returns response schema for ListActionMappings</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/action-mapping/list/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ListActionMappings_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/action-mapping/list",
            "response-schema",
            _ListActionMappings_ResponseSchema));

    /// <summary>Returns full schema for ListActionMappings</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/action-mapping/list/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ListActionMappings_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/action-mapping/list",
            _ListActionMappings_Info,
            _ListActionMappings_RequestSchema,
            _ListActionMappings_ResponseSchema));

    #endregion

    #region Meta Endpoints for DeleteActionMapping

    private static readonly string _DeleteActionMapping_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/DeleteActionMappingRequest",
    "$defs": {
        "DeleteActionMappingRequest": {
            "type": "object",
            "description": "Request to delete an action tag mapping",
            "additionalProperties": false,
            "required": [
                "tag"
            ],
            "properties": {
                "tag": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "The GOAP action tag whose mapping should be deleted"
                }
            }
        }
    }
}
""";

    private static readonly string _DeleteActionMapping_ResponseSchema = """
{}
""";

    private static readonly string _DeleteActionMapping_Info = """
{
    "summary": "Delete an action tag mapping",
    "description": "Removes a registered action tag mapping. After deletion, the tag will\nfall back to convention-based 1:1 matching (tag name == violation type code).\n",
    "tags": [
        "Action Mapping"
    ],
    "deprecated": false,
    "operationId": "deleteActionMapping"
}
""";

    /// <summary>Returns endpoint information for DeleteActionMapping</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/action-mapping/delete/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> DeleteActionMapping_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Obligation",
            "POST",
            "/obligation/action-mapping/delete",
            _DeleteActionMapping_Info));

    /// <summary>Returns request schema for DeleteActionMapping</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/action-mapping/delete/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> DeleteActionMapping_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/action-mapping/delete",
            "request-schema",
            _DeleteActionMapping_RequestSchema));

    /// <summary>Returns response schema for DeleteActionMapping</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/action-mapping/delete/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> DeleteActionMapping_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/action-mapping/delete",
            "response-schema",
            _DeleteActionMapping_ResponseSchema));

    /// <summary>Returns full schema for DeleteActionMapping</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/action-mapping/delete/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> DeleteActionMapping_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/action-mapping/delete",
            _DeleteActionMapping_Info,
            _DeleteActionMapping_RequestSchema,
            _DeleteActionMapping_ResponseSchema));

    #endregion

    #region Meta Endpoints for QueryObligations

    private static readonly string _QueryObligations_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/QueryObligationsRequest",
    "$defs": {
        "QueryObligationsRequest": {
            "type": "object",
            "description": "Request to query active obligations for a character",
            "additionalProperties": false,
            "required": [
                "characterId"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the character to query obligations for"
                },
                "forceRefresh": {
                    "type": "boolean",
                    "default": false,
                    "description": "Force cache rebuild from current contract state"
                }
            }
        }
    }
}
""";

    private static readonly string _QueryObligations_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/QueryObligationsResponse",
    "$defs": {
        "QueryObligationsResponse": {
            "type": "object",
            "description": "Active obligations for a character with pre-computed violation cost map",
            "additionalProperties": false,
            "required": [
                "characterId",
                "obligations",
                "violationCostMap",
                "totalActiveContracts",
                "totalObligations",
                "lastRefreshedAt"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Character these obligations belong to"
                },
                "obligations": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/ObligationEntry"
                    },
                    "description": "All active obligations for the character"
                },
                "violationCostMap": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "number",
                        "format": "float"
                    },
                    "description": "Pre-computed map of violation type code to total cost across all obligations"
                },
                "totalActiveContracts": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 1000,
                    "description": "Number of active contracts with behavioral clauses"
                },
                "totalObligations": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 10000,
                    "description": "Total number of individual obligation entries"
                },
                "lastRefreshedAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When the obligation cache was last rebuilt"
                }
            }
        },
        "ObligationEntry": {
            "type": "object",
            "description": "A single obligation derived from a behavioral clause in an active contract",
            "additionalProperties": false,
            "required": [
                "contractId",
                "templateCode",
                "clauseCode",
                "violationType",
                "basePenalty",
                "contractRole"
            ],
            "properties": {
                "contractId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the contract this obligation comes from"
                },
                "templateCode": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "Template code of the source contract"
                },
                "clauseCode": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "Code of the behavioral clause defining this obligation"
                },
                "violationType": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "Violation type code (e.g., \"theft\", \"deception\", \"violence\")"
                },
                "basePenalty": {
                    "type": "number",
                    "format": "float",
                    "minimum": 0.0,
                    "description": "Base GOAP cost penalty for violating this obligation"
                },
                "description": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 1024,
                    "description": "Human-readable description of the obligation"
                },
                "contractRole": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "The character's role in the contract (e.g., \"member\", \"merchant\")"
                },
                "effectiveUntil": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": true,
                    "description": "When this obligation expires (null if indefinite)"
                }
            }
        }
    }
}
""";

    private static readonly string _QueryObligations_Info = """
{
    "summary": "Query active obligations for a character",
    "description": "Returns all active obligations for a character, derived from their active\ncontracts with behavioral clauses. The response includes a pre-computed\nviolation cost map keyed by violation type code.\n\nObligations are cached per character and refreshed when contract lifecycle\nevents fire (contract.activated, contract.terminated, etc.). Use\nforceRefresh to bypass the cache and rebuild from current contract state.\n",
    "tags": [
        "Obligations"
    ],
    "deprecated": false,
    "operationId": "queryObligations"
}
""";

    /// <summary>Returns endpoint information for QueryObligations</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/query/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> QueryObligations_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Obligation",
            "POST",
            "/obligation/query",
            _QueryObligations_Info));

    /// <summary>Returns request schema for QueryObligations</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/query/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> QueryObligations_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/query",
            "request-schema",
            _QueryObligations_RequestSchema));

    /// <summary>Returns response schema for QueryObligations</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/query/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> QueryObligations_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/query",
            "response-schema",
            _QueryObligations_ResponseSchema));

    /// <summary>Returns full schema for QueryObligations</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/query/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> QueryObligations_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/query",
            _QueryObligations_Info,
            _QueryObligations_RequestSchema,
            _QueryObligations_ResponseSchema));

    #endregion

    #region Meta Endpoints for EvaluateAction

    private static readonly string _EvaluateAction_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/EvaluateActionRequest",
    "$defs": {
        "EvaluateActionRequest": {
            "type": "object",
            "description": "Request to evaluate obligation violation costs for proposed GOAP actions",
            "additionalProperties": false,
            "required": [
                "characterId",
                "actionTags"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the character whose obligations to evaluate against"
                },
                "actionTags": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 128
                    },
                    "minItems": 1,
                    "maxItems": 50,
                    "description": "GOAP action tags to evaluate (e.g., [\"steal_food\", \"buy_food\", \"beg_for_food\"])"
                },
                "realmId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "Realm the character operates in. When provided, passed directly to variable provider factories for realm-scoped data. When omitted, the service looks up the character's realm from the Character service."
                },
                "locationId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "Current location ID for context-dependent moral weighting (personality enrichment only)"
                },
                "targetEntityId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "Target entity of the action for relationship-weighted costs (personality enrichment only)"
                },
                "targetEntityType": {
                    "type": "object",
                    "nullable": true,
                    "description": "Entity type of the target"
                }
            }
        }
    }
}
""";

    private static readonly string _EvaluateAction_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/EvaluateActionResponse",
    "$defs": {
        "EvaluateActionResponse": {
            "type": "object",
            "description": "Obligation cost evaluation results for proposed actions",
            "additionalProperties": false,
            "required": [
                "characterId",
                "evaluations",
                "moralWeightingApplied"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Character evaluated"
                },
                "evaluations": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/ActionEvaluation"
                    },
                    "description": "Per-action evaluation results (one per input tag)"
                },
                "moralWeightingApplied": {
                    "type": "boolean",
                    "description": "Whether personality-weighted moral reasoning enriched the cost calculations"
                }
            }
        },
        "ActionEvaluation": {
            "type": "object",
            "description": "Obligation violation cost evaluation for a single GOAP action tag",
            "additionalProperties": false,
            "required": [
                "actionTag",
                "isViolation",
                "totalViolationCost",
                "obligationDetails"
            ],
            "properties": {
                "actionTag": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "The GOAP action tag that was evaluated"
                },
                "isViolation": {
                    "type": "boolean",
                    "description": "Whether this action would violate any active obligation"
                },
                "totalViolationCost": {
                    "type": "number",
                    "format": "float",
                    "minimum": 0.0,
                    "description": "Sum of all weighted violation costs for this action"
                },
                "obligationDetails": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/ObligationCostDetail"
                    },
                    "description": "Per-obligation breakdown of cost contributions"
                }
            }
        },
        "ObligationCostDetail": {
            "type": "object",
            "description": "Per-obligation cost contribution for a specific action evaluation",
            "additionalProperties": false,
            "required": [
                "contractId",
                "templateCode",
                "clauseCode",
                "violationType",
                "basePenalty",
                "weightedPenalty",
                "contractRole"
            ],
            "properties": {
                "contractId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the contract producing this cost"
                },
                "templateCode": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "Template code of the source contract"
                },
                "clauseCode": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "Code of the violated behavioral clause"
                },
                "violationType": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "Violation type code matched"
                },
                "basePenalty": {
                    "type": "number",
                    "format": "float",
                    "minimum": 0.0,
                    "description": "Base penalty from the contract clause"
                },
                "weightedPenalty": {
                    "type": "number",
                    "format": "float",
                    "minimum": 0.0,
                    "description": "Penalty after personality-weighted moral reasoning (equals basePenalty when personality enrichment unavailable)"
                },
                "contractRole": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "The character's role in the contract"
                }
            }
        }
    }
}
""";

    private static readonly string _EvaluateAction_Info = """
{
    "summary": "Evaluate obligation violation costs for proposed actions",
    "description": "Non-mutating speculative query. Given a character and a set of GOAP action\ntags, returns the computed violation costs for each tag based on the\ncharacter's active obligations.\n\nEach action tag is resolved to violation types via registered action mappings\n(or 1:1 convention if no explicit mapping exists), then matched against the\ncharacter's active obligation clauses.\n\nWhen personality enrichment is available (via character-personality provider),\ncosts are weighted by personality traits (honesty, loyalty, agreeableness,\nconscientiousness) and combat preferences. Without personality enrichment,\nbase penalty costs from contract clauses are returned as-is.\n\nFaction context is resolved internally via the character's active contracts\nand locationId (if provided). Contracts encode party roles which implicitly\nrepresent faction obligations \u2014 no separate factionId is needed.\n\nThis endpoint is primarily for external callers (game servers, debug tools).\nThe actor cognition pipeline reads obligation costs from the Variable Provider\ncache (${obligations.*}) for performance.\n",
    "tags": [
        "Obligations"
    ],
    "deprecated": false,
    "operationId": "evaluateAction"
}
""";

    /// <summary>Returns endpoint information for EvaluateAction</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/evaluate-action/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> EvaluateAction_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Obligation",
            "POST",
            "/obligation/evaluate-action",
            _EvaluateAction_Info));

    /// <summary>Returns request schema for EvaluateAction</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/evaluate-action/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> EvaluateAction_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/evaluate-action",
            "request-schema",
            _EvaluateAction_RequestSchema));

    /// <summary>Returns response schema for EvaluateAction</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/evaluate-action/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> EvaluateAction_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/evaluate-action",
            "response-schema",
            _EvaluateAction_ResponseSchema));

    /// <summary>Returns full schema for EvaluateAction</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/evaluate-action/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> EvaluateAction_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/evaluate-action",
            _EvaluateAction_Info,
            _EvaluateAction_RequestSchema,
            _EvaluateAction_ResponseSchema));

    #endregion

    #region Meta Endpoints for ReportViolation

    private static readonly string _ReportViolation_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ReportViolationRequest",
    "$defs": {
        "ReportViolationRequest": {
            "type": "object",
            "description": "Request to report a knowing obligation violation",
            "additionalProperties": false,
            "required": [
                "characterId",
                "contractId",
                "clauseCode",
                "violationType",
                "actionTag",
                "motivationScore",
                "violationCost"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the character who knowingly violated the obligation"
                },
                "contractId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the contract that was violated"
                },
                "clauseCode": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "Code of the behavioral clause that was violated"
                },
                "violationType": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "Violation type code (e.g., \"theft\", \"deception\")"
                },
                "actionTag": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "GOAP action tag that triggered the violation (e.g., \"steal_food\")"
                },
                "motivationScore": {
                    "type": "number",
                    "format": "float",
                    "minimum": 0.0,
                    "maximum": 1.0,
                    "description": "Goal urgency that overrode the obligation (0.0 = low, 1.0 = survival)"
                },
                "violationCost": {
                    "type": "number",
                    "format": "float",
                    "minimum": 0.0,
                    "description": "Total violation cost that was accepted by the actor"
                },
                "targetEntityId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "Target entity of the violating action (e.g., the character stolen from)"
                },
                "targetEntityType": {
                    "type": "object",
                    "nullable": true,
                    "description": "Entity type of the target"
                },
                "idempotencyKey": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 128,
                    "description": "Idempotency key to prevent duplicate violation reports"
                }
            }
        }
    }
}
""";

    private static readonly string _ReportViolation_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ReportViolationResponse",
    "$defs": {
        "ReportViolationResponse": {
            "type": "object",
            "description": "Result of reporting an obligation violation",
            "additionalProperties": false,
            "required": [
                "violationId",
                "characterId",
                "breachReported"
            ],
            "properties": {
                "violationId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the created violation record"
                },
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Character who committed the violation"
                },
                "breachReported": {
                    "type": "boolean",
                    "description": "Whether a breach was successfully filed with the contract service"
                },
                "breachId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "Breach record ID from contract service (null if not reported or failed)"
                }
            }
        }
    }
}
""";

    private static readonly string _ReportViolation_Info = """
{
    "summary": "Report a knowing obligation violation",
    "description": "Records that a character knowingly violated an obligation. Called by the\nactor cognition pipeline when an action marked as \"knowing_violation\"\ncompletes execution.\n\nThis endpoint:\n1. Saves a violation record to the violation history store\n2. Reports a breach to lib-contract via /contract/breach/report\n3. Publishes an obligation.violation.reported event for downstream consumers\n\nDownstream consumers (character-personality, character-encounter) can\nsubscribe to the violation event to trigger personality drift (OATH_BROKEN\nexperience), encounter memory recording, and other feedback effects.\n\nIdempotent: duplicate reports for the same violation are rejected (Conflict).\n",
    "tags": [
        "Violations"
    ],
    "deprecated": false,
    "operationId": "reportViolation"
}
""";

    /// <summary>Returns endpoint information for ReportViolation</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/report-violation/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ReportViolation_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Obligation",
            "POST",
            "/obligation/report-violation",
            _ReportViolation_Info));

    /// <summary>Returns request schema for ReportViolation</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/report-violation/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ReportViolation_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/report-violation",
            "request-schema",
            _ReportViolation_RequestSchema));

    /// <summary>Returns response schema for ReportViolation</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/report-violation/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ReportViolation_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/report-violation",
            "response-schema",
            _ReportViolation_ResponseSchema));

    /// <summary>Returns full schema for ReportViolation</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/report-violation/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> ReportViolation_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/report-violation",
            _ReportViolation_Info,
            _ReportViolation_RequestSchema,
            _ReportViolation_ResponseSchema));

    #endregion

    #region Meta Endpoints for QueryViolations

    private static readonly string _QueryViolations_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/QueryViolationsRequest",
    "$defs": {
        "QueryViolationsRequest": {
            "type": "object",
            "description": "Request to query violation history for a character",
            "additionalProperties": false,
            "required": [
                "characterId"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the character to query violations for"
                },
                "contractId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "Filter by specific contract"
                },
                "violationType": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 128,
                    "description": "Filter by violation type code"
                },
                "since": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": true,
                    "description": "Only return violations after this timestamp"
                },
                "cursor": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 512,
                    "description": "Pagination cursor from a previous response"
                },
                "pageSize": {
                    "type": "integer",
                    "default": 20,
                    "minimum": 1,
                    "maximum": 100,
                    "description": "Number of violations to return per page"
                }
            }
        }
    }
}
""";

    private static readonly string _QueryViolations_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/QueryViolationsResponse",
    "$defs": {
        "QueryViolationsResponse": {
            "type": "object",
            "description": "Paginated violation history for a character",
            "additionalProperties": false,
            "required": [
                "violations",
                "hasMore"
            ],
            "properties": {
                "violations": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/ViolationRecord"
                    },
                    "description": "Violation records for this page"
                },
                "nextCursor": {
                    "type": "string",
                    "nullable": true,
                    "maxLength": 512,
                    "description": "Cursor for the next page (null if no more pages)"
                },
                "hasMore": {
                    "type": "boolean",
                    "description": "Whether more pages are available"
                }
            }
        },
        "ViolationRecord": {
            "type": "object",
            "description": "Record of a knowing obligation violation by a character",
            "additionalProperties": false,
            "required": [
                "violationId",
                "characterId",
                "contractId",
                "clauseCode",
                "violationType",
                "actionTag",
                "motivationScore",
                "violationCost",
                "breachReported",
                "timestamp"
            ],
            "properties": {
                "violationId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Unique identifier for this violation record"
                },
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Character who committed the violation"
                },
                "contractId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Contract that was violated"
                },
                "clauseCode": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "Code of the behavioral clause that was violated"
                },
                "violationType": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "Violation type code"
                },
                "actionTag": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "GOAP action tag that triggered the violation"
                },
                "motivationScore": {
                    "type": "number",
                    "format": "float",
                    "minimum": 0.0,
                    "maximum": 1.0,
                    "description": "Goal urgency that overrode the obligation (0.0-1.0)"
                },
                "violationCost": {
                    "type": "number",
                    "format": "float",
                    "minimum": 0.0,
                    "description": "Total violation cost that was accepted"
                },
                "breachReported": {
                    "type": "boolean",
                    "description": "Whether a breach was filed with the contract service"
                },
                "breachId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "Breach record ID from contract service (null if breach not reported)"
                },
                "targetEntityId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "Target entity of the violating action (null if no specific target)"
                },
                "targetEntityType": {
                    "type": "object",
                    "nullable": true,
                    "description": "Entity type of the target"
                },
                "timestamp": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When the violation occurred"
                }
            }
        }
    }
}
""";

    private static readonly string _QueryViolations_Info = """
{
    "summary": "Query violation history for a character",
    "description": "Returns the violation history for a character with cursor-based pagination.\nSupports filtering by contract, violation type, and time range.\nOrdered by timestamp descending (most recent first).\n",
    "tags": [
        "Violations"
    ],
    "deprecated": false,
    "operationId": "queryViolations"
}
""";

    /// <summary>Returns endpoint information for QueryViolations</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/query-violations/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> QueryViolations_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Obligation",
            "POST",
            "/obligation/query-violations",
            _QueryViolations_Info));

    /// <summary>Returns request schema for QueryViolations</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/query-violations/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> QueryViolations_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/query-violations",
            "request-schema",
            _QueryViolations_RequestSchema));

    /// <summary>Returns response schema for QueryViolations</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/query-violations/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> QueryViolations_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/query-violations",
            "response-schema",
            _QueryViolations_ResponseSchema));

    /// <summary>Returns full schema for QueryViolations</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/query-violations/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> QueryViolations_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/query-violations",
            _QueryViolations_Info,
            _QueryViolations_RequestSchema,
            _QueryViolations_ResponseSchema));

    #endregion

    #region Meta Endpoints for InvalidateCache

    private static readonly string _InvalidateCache_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/InvalidateCacheRequest",
    "$defs": {
        "InvalidateCacheRequest": {
            "type": "object",
            "description": "Request to force obligation cache refresh for a character",
            "additionalProperties": false,
            "required": [
                "characterId"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the character whose cache to rebuild"
                }
            }
        }
    }
}
""";

    private static readonly string _InvalidateCache_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/InvalidateCacheResponse",
    "$defs": {
        "InvalidateCacheResponse": {
            "type": "object",
            "description": "Result of cache invalidation and rebuild",
            "additionalProperties": false,
            "required": [
                "characterId",
                "obligationsRefreshed",
                "success"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Character whose cache was rebuilt"
                },
                "obligationsRefreshed": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 10000,
                    "description": "Number of obligations found and cached"
                },
                "success": {
                    "type": "boolean",
                    "description": "Whether the cache rebuild completed successfully"
                }
            }
        }
    }
}
""";

    private static readonly string _InvalidateCache_Info = """
{
    "summary": "Force obligation cache refresh for a character",
    "description": "Forces a full cache rebuild for a character's obligation manifest.\nQueries all active contracts for the character, extracts behavioral\nclauses, and rebuilds the cached obligation state.\n\nNormally, the cache is maintained automatically via contract lifecycle\nevents. This endpoint is for administrative and debugging purposes.\n",
    "tags": [
        "Cache Management"
    ],
    "deprecated": false,
    "operationId": "invalidateCache"
}
""";

    /// <summary>Returns endpoint information for InvalidateCache</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/invalidate-cache/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> InvalidateCache_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Obligation",
            "POST",
            "/obligation/invalidate-cache",
            _InvalidateCache_Info));

    /// <summary>Returns request schema for InvalidateCache</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/invalidate-cache/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> InvalidateCache_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/invalidate-cache",
            "request-schema",
            _InvalidateCache_RequestSchema));

    /// <summary>Returns response schema for InvalidateCache</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/invalidate-cache/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> InvalidateCache_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/invalidate-cache",
            "response-schema",
            _InvalidateCache_ResponseSchema));

    /// <summary>Returns full schema for InvalidateCache</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/invalidate-cache/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> InvalidateCache_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/invalidate-cache",
            _InvalidateCache_Info,
            _InvalidateCache_RequestSchema,
            _InvalidateCache_ResponseSchema));

    #endregion

    #region Meta Endpoints for GetCompressData

    private static readonly string _GetCompressData_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/GetCompressDataRequest",
    "$defs": {
        "GetCompressDataRequest": {
            "type": "object",
            "description": "Request to get obligation data for compression",
            "additionalProperties": false,
            "required": [
                "characterId"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the character to get compress data for"
                }
            }
        }
    }
}
""";

    private static readonly string _GetCompressData_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/ObligationArchive",
    "$defs": {
        "ObligationArchive": {
            "type": "object",
            "x-archive-type": true,
            "description": "Complete obligation data for archive storage and storyline SDK consumption.\ nInherits base archive properties from ResourceArchiveBase.\nThe characterId field equals resourceId for convenience.\n",
            "allOf": [
                {
                    "type": "object"
                }
            ],
            "additionalProperties": false,
            "required": [
                "characterId",
                "hasViolations",
                "violationCount"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Character this data belongs to (equals resourceId)"
                },
                "hasViolations": {
                    "type": "boolean",
                    "description": "Whether any violation records exist"
                },
                "violationCount": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100000,
                    "description": "Number of violation records in archive"
                },
                "violations": {
                    "type": "array",
                    "nullable": true,
                    "items": {
                        "$ref": "#/$defs/ViolationRecord"
                    },
                    "description": "Violation history records (null if hasViolations=false)"
                }
            }
        },
        "ViolationRecord": {
            "type": "object",
            "description": "Record of a knowing obligation violation by a character",
            "additionalProperties": false,
            "required": [
                "violationId",
                "characterId",
                "contractId",
                "clauseCode",
                "violationType",
                "actionTag",
                "motivationScore",
                "violationCost",
                "breachReported",
                "timestamp"
            ],
            "properties": {
                "violationId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Unique identifier for this violation record"
                },
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Character who committed the violation"
                },
                "contractId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Contract that was violated"
                },
                "clauseCode": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "Code of the behavioral clause that was violated"
                },
                "violationType": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "Violation type code"
                },
                "actionTag": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 128,
                    "description": "GOAP action tag that triggered the violation"
                },
                "motivationScore": {
                    "type": "number",
                    "format": "float",
                    "minimum": 0.0,
                    "maximum": 1.0,
                    "description": "Goal urgency that overrode the obligation (0.0-1.0)"
                },
                "violationCost": {
                    "type": "number",
                    "format": "float",
                    "minimum": 0.0,
                    "description": "Total violation cost that was accepted"
                },
                "breachReported": {
                    "type": "boolean",
                    "description": "Whether a breach was filed with the contract service"
                },
                "breachId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "Breach record ID from contract service (null if breach not reported)"
                },
                "targetEntityId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "description": "Target entity of the violating action (null if no specific target)"
                },
                "targetEntityType": {
                    "type": "object",
                    "nullable": true,
                    "description": "Entity type of the target"
                },
                "timestamp": {
                    "type": "string",
                    "format": "date-time",
                    "description": "When the violation occurred"
                }
            }
        }
    }
}
""";

    private static readonly string _GetCompressData_Info = """
{
    "summary": "Get obligation data for character archival compression",
    "description": "Called by Resource service during character compression.\nReturns violation history and cached obligation state for archival.\n",
    "tags": [
        "Compression"
    ],
    "deprecated": false,
    "operationId": "getCompressData"
}
""";

    /// <summary>Returns endpoint information for GetCompressData</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/get-compress-data/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetCompressData_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Obligation",
            "POST",
            "/obligation/get-compress-data",
            _GetCompressData_Info));

    /// <summary>Returns request schema for GetCompressData</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/get-compress-data/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetCompressData_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/get-compress-data",
            "request-schema",
            _GetCompressData_RequestSchema));

    /// <summary>Returns response schema for GetCompressData</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/get-compress-data/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetCompressData_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/get-compress-data",
            "response-schema",
            _GetCompressData_ResponseSchema));

    /// <summary>Returns full schema for GetCompressData</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/get-compress-data/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> GetCompressData_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/get-compress-data",
            _GetCompressData_Info,
            _GetCompressData_RequestSchema,
            _GetCompressData_ResponseSchema));

    #endregion

    #region Meta Endpoints for RestoreFromArchive

    private static readonly string _RestoreFromArchive_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/RestoreFromArchiveRequest",
    "$defs": {
        "RestoreFromArchiveRequest": {
            "type": "object",
            "description": "Request to restore obligation data from archive",
            "additionalProperties": false,
            "required": [
                "characterId",
                "data"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the character to restore data for"
                },
                "data": {
                    "type": "string",
                    "description": "Base64-encoded gzipped ObligationArchive JSON"
                }
            }
        }
    }
}
""";

    private static readonly string _RestoreFromArchive_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/RestoreFromArchiveResponse",
    "$defs": {
        "RestoreFromArchiveResponse": {
            "type": "object",
            "description": "Result of restoration from archive",
            "additionalProperties": false,
            "required": [
                "characterId",
                "violationsRestored",
                "success"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Character data was restored for"
                },
                "violationsRestored": {
                    "type": "boolean",
                    "description": "Whether violation history was restored"
                },
                "success": {
                    "type": "boolean",
                    "description": "Whether the restoration completed successfully"
                }
            }
        }
    }
}
""";

    private static readonly string _RestoreFromArchive_Info = """
{
    "summary": "Restore obligation data from archive",
    "description": "Called by Resource service during character decompression.\nRestores violation history from archive data. Obligation cache\ nis rebuilt automatically from active contracts, not from archive.\n",
    "tags": [
        "Compression"
    ],
    "deprecated": false,
    "operationId": "restoreFromArchive"
}
""";

    /// <summary>Returns endpoint information for RestoreFromArchive</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/restore-from-archive/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> RestoreFromArchive_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Obligation",
            "POST",
            "/obligation/restore-from-archive",
            _RestoreFromArchive_Info));

    /// <summary>Returns request schema for RestoreFromArchive</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/restore-from-archive/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> RestoreFromArchive_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/restore-from-archive",
            "request-schema",
            _RestoreFromArchive_RequestSchema));

    /// <summary>Returns response schema for RestoreFromArchive</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/restore-from-archive/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> RestoreFromArchive_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/restore-from-archive",
            "response-schema",
            _RestoreFromArchive_ResponseSchema));

    /// <summary>Returns full schema for RestoreFromArchive</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/restore-from-archive/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> RestoreFromArchive_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/restore-from-archive",
            _RestoreFromArchive_Info,
            _RestoreFromArchive_RequestSchema,
            _RestoreFromArchive_ResponseSchema));

    #endregion

    #region Meta Endpoints for CleanupByCharacter

    private static readonly string _CleanupByCharacter_RequestSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/CleanupByCharacterRequest",
    "$defs": {
        "CleanupByCharacterRequest": {
            "type": "object",
            "description": "Request to cleanup all obligation data for a deleted character",
            "additionalProperties": false,
            "required": [
                "characterId"
            ],
            "properties": {
                "characterId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the character that was deleted"
                }
            }
        }
    }
}
""";

    private static readonly string _CleanupByCharacter_ResponseSchema = """
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/$defs/CleanupByCharacterResponse",
    "$defs": {
        "CleanupByCharacterResponse": {
            "type": "object",
            "description": "Result of character obligation data cleanup",
            "additionalProperties": false,
            "required": [
                "obligationsRemoved",
                "violationsRemoved",
                "success"
            ],
            "properties": {
                "obligationsRemoved": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 10000,
                    "description": "Number of cached obligation entries removed"
                },
                "violationsRemoved": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100000,
                    "description": "Number of violation history records removed"
                },
                "success": {
                    "type": "boolean",
                    "description": "Whether cleanup completed successfully"
                }
            }
        }
    }
}
""";

    private static readonly string _CleanupByCharacter_Info = """
{
    "summary": "Cleanup all obligation data for a deleted character",
    "description": "Called by lib-resource cleanup coordination when a character is deleted.\nRemoves cached obligation manifests and violation history for the\nspecified character. This endpoint is designed for internal\nservice-to-service calls during cascading resource cleanup.\n",
    "tags": [
        "Resource Cleanup"
    ],
    "deprecated": false,
    "operationId": "cleanupByCharacter"
}
""";

    /// <summary>Returns endpoint information for CleanupByCharacter</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/cleanup-by-character/meta/info")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CleanupByCharacter_MetaInfo()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildInfoResponse(
            "Obligation",
            "POST",
            "/obligation/cleanup-by-character",
            _CleanupByCharacter_Info));

    /// <summary>Returns request schema for CleanupByCharacter</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/cleanup-by-character/meta/request-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CleanupByCharacter_MetaRequestSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/cleanup-by-character",
            "request-schema",
            _CleanupByCharacter_RequestSchema));

    /// <summary>Returns response schema for CleanupByCharacter</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/cleanup-by-character/meta/response-schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CleanupByCharacter_MetaResponseSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/cleanup-by-character",
            "response-schema",
            _CleanupByCharacter_ResponseSchema));

    /// <summary>Returns full schema for CleanupByCharacter</summary>
    [Microsoft.AspNetCore.Mvc.HttpGet, Microsoft.AspNetCore.Mvc.Route("/obligation/cleanup-by-character/meta/schema")]
    public Microsoft.AspNetCore.Mvc.ActionResult<BeyondImmersion.BannouService.Meta.MetaResponse> CleanupByCharacter_MetaFullSchema()
        => Ok(BeyondImmersion.BannouService.Meta.MetaResponseBuilder.BuildFullSchemaResponse(
            "Obligation",
            "POST",
            "/obligation/cleanup-by-character",
            _CleanupByCharacter_Info,
            _CleanupByCharacter_RequestSchema,
            _CleanupByCharacter_ResponseSchema));

    #endregion
}
